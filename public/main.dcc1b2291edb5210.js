"use strict";(self.webpackChunkNovenyek1007=self.webpackChunkNovenyek1007||[]).push([[179],{6304:(st,De,R)=>{R.d(De,{Dh:()=>Me,GT:()=>de,cc:()=>Ae,hO:()=>Be,on:()=>V,pX:()=>se,xv:()=>ue});var c=R(5879),Q=R(120),x=R(2793);st=R.hmd(st);const te=["ngOnDestroy"],se=(Re,lt,ct,oe={})=>new Proxy(Re,{get:(_e,re)=>ct.runOutsideAngular(()=>{var we;if(Re[re])return!(null===(we=oe?.spy)||void 0===we)&&we.get&&oe.spy.get(re,Re[re]),Re[re];if(te.indexOf(re)>-1)return()=>{};const xe=lt.toPromise().then(ae=>{const K=ae&&ae[re];return"function"==typeof K?K.bind(ae):K&&K.then?K.then(He=>ct.run(()=>He)):ct.run(()=>K)});return new Proxy(()=>{},{get:(ae,K)=>xe[K],apply:(ae,K,He)=>xe.then(ht=>{var zt;const cn=ht&&ht(...He);return!(null===(zt=oe?.spy)||void 0===zt)&&zt.apply&&oe.spy.apply(re,He,cn),cn})})})}),de=(Re,lt)=>{lt.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(oe=>{Object.defineProperty(Re.prototype,oe,Object.getOwnPropertyDescriptor(ct.prototype||ct,oe))})})};class ve{constructor(lt){return lt}}const Me=new c.OlP("angularfire2.app.options"),ue=new c.OlP("angularfire2.app.name");function V(Re,lt,ct){const _e="object"==typeof ct&&ct||{};_e.name=_e.name||"string"==typeof ct&&ct||"[DEFAULT]";const we=Q.Z.apps.filter(xe=>xe&&xe.name===_e.name)[0]||lt.runOutsideAngular(()=>Q.Z.initializeApp(Re,_e));try{JSON.stringify(Re)!==JSON.stringify(we.options)&&$("error",`${we.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(we)}const $=(Re,...lt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Re](...lt)},ne={provide:ve,useFactory:V,deps:[Me,c.R0b,[new c.FiY,ue]]};let Be=(()=>{class Re{constructor(ct){Q.Z.registerVersion("angularfire",x.q4.full,"core"),Q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,ct.toString())}static initializeApp(ct,oe){return{ngModule:Re,providers:[{provide:Me,useValue:ct},{provide:ue,useValue:oe}]}}}return Re.\u0275fac=function(ct){return new(ct||Re)(c.LFG(c.Lbi))},Re.\u0275mod=c.oAB({type:Re}),Re.\u0275inj=c.cJS({providers:[ne]}),Re})();function Ae(Re,lt,ct,oe,_e){const[,re,we]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Re)||[];if(re)return function We(Re,lt){try{return Re.toString()===lt.toString()}catch{return Re===lt}}(_e,we)||(Ke("error",`${lt} was already initialized on the ${ct} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:_e,was:we})),re;{const xe=oe();return globalThis.\u0275AngularfireInstanceCache.push([Re,xe,_e]),xe}}const Pe=!!st.hot,Ke=(Re,...lt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Re](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(st,De,R)=>{R.d(De,{q4:()=>Ka,iC:()=>lo,HU:()=>tu,vb:()=>qh,JM:()=>ao});var c=R(5879),Q=R(4097),x=R(5861),te=R(4303),se=R(9058),de=R(4537),ve=R(7879);const Me=(E,C)=>C.some(A=>E instanceof A);let ue,V;const Be=new WeakMap,Ae=new WeakMap,We=new WeakMap,Pe=new WeakMap,Ke=new WeakMap;let ct={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return Ae.get(E);if("objectStoreNames"===C)return E.objectStoreNames||We.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return we(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function re(E){return"function"==typeof E?function _e(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(xe(this),C),we(Be.get(this))}:function(...C){return we(E.apply(xe(this),C))}:function(C,...A){const k=E.call(xe(this),C,...A);return We.set(k,C.sort?C.sort():[C]),we(k)}}(E):(E instanceof IDBTransaction&&function lt(E){if(Ae.has(E))return;const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{A(),z()},ge=()=>{k(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Ae.set(E,C)}(E),Me(E,function $(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ct):E)}function we(E){if(E instanceof IDBRequest)return function Re(E){const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{A(we(E.result)),z()},ge=()=>{k(E.error),z()};E.addEventListener("success",X),E.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&Be.set(A,E)}).catch(()=>{}),Ke.set(C,E),C}(E);if(Pe.has(E))return Pe.get(E);const C=re(E);return C!==E&&(Pe.set(E,C),Ke.set(C,E)),C}const xe=E=>Ke.get(E),He=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],zt=new Map;function cn(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(zt.get(C))return zt.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,z=ht.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!He.includes(A))return;const X=function(){var ge=(0,x.Z)(function*(Xe,...Ze){const ft=this.transaction(Xe,z?"readwrite":"readonly");let It=ft.store;return k&&(It=It.index(Ze.shift())),(yield Promise.all([It[A](...Ze),z&&ft.done]))[0]});return function(Ze){return ge.apply(this,arguments)}}();return zt.set(C,X),X}!function oe(E){ct=E(ct)}(E=>({...E,get:(C,A,k)=>cn(C,A)||E.get(C,A,k),has:(C,A)=>!!cn(C,A)||E.has(C,A)}));const sn="@firebase/installations",pn="0.6.4",gn=1e4,$n=`w:${pn}`,le="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",pe=36e5,Qe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function mn({projectId:E}){return`${he}/projects/${E}/installations`}function mt(E){return{token:E.token,requestStatus:2,expiresIn:q(E.expiresIn),creationTime:Date.now()}}function jt(E,C){return ut.apply(this,arguments)}function ut(){return(ut=(0,x.Z)(function*(E,C){const k=(yield C.json()).error;return Qe.create("request-failed",{requestName:E,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function nn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function In(E){return Z.apply(this,arguments)}function Z(){return(Z=(0,x.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function q(E){return Number(E.replace("s","000"))}function Ve(){return(Ve=(0,x.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:A}){const k=mn(E),z=nn(E),X=C.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&z.append("x-firebase-client",ft)}const Xe={method:"POST",headers:z,body:JSON.stringify({fid:A,authVersion:le,appId:E.appId,sdkVersion:$n})},Ze=yield In(()=>fetch(k,Xe));if(Ze.ok){const ft=yield Ze.json();return{fid:ft.fid||A,registrationStatus:2,refreshToken:ft.refreshToken,authToken:mt(ft.authToken)}}throw yield jt("Create Installation",Ze)})).apply(this,arguments)}function et(E){return new Promise(C=>{setTimeout(C,E)})}const Yt=/^[cdef][\w-]{21}$/,Je="";function at(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function yt(E){return function dn(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Yt.test(A)?A:Je}catch{return Je}}function Kt(E){return`${E.appName}!${E.appId}`}const on=new Map;function Tn(E,C){const A=Kt(E);an(A,C),function xt(E,C){const A=function $t(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=E=>{an(E.data.key,E.data.fid)}),Xn}();A&&A.postMessage({key:E,fid:C}),function vi(){0===on.size&&Xn&&(Xn.close(),Xn=null)}()}(A,C)}function an(E,C){const A=on.get(E);if(A)for(const k of A)k(C)}let Xn=null;const Sr="firebase-installations-database",Gr=1,yi="firebase-installations-store";let Ar=null;function Ee(){return Ar||(Ar=function ae(E,C,{blocked:A,upgrade:k,blocking:z,terminated:X}={}){const ge=indexedDB.open(E,C),Xe=we(ge);return k&&ge.addEventListener("upgradeneeded",Ze=>{k(we(ge.result),Ze.oldVersion,Ze.newVersion,we(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Xe.then(Ze=>{X&&Ze.addEventListener("close",()=>X()),z&&Ze.addEventListener("versionchange",()=>z())}).catch(()=>{}),Xe}(Sr,Gr,{upgrade:(E,C)=>{0===C&&E.createObjectStore(yi)}})),Ar}function G(E,C){return ye.apply(this,arguments)}function ye(){return(ye=(0,x.Z)(function*(E,C){const A=Kt(E),z=(yield Ee()).transaction(yi,"readwrite"),X=z.objectStore(yi),ge=yield X.get(A);return yield X.put(C,A),yield z.done,(!ge||ge.fid!==C.fid)&&Tn(E,C.fid),C})).apply(this,arguments)}function ze(E){return tt.apply(this,arguments)}function tt(){return(tt=(0,x.Z)(function*(E){const C=Kt(E),k=(yield Ee()).transaction(yi,"readwrite");yield k.objectStore(yi).delete(C),yield k.done})).apply(this,arguments)}function _t(E,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(E,C){const A=Kt(E),z=(yield Ee()).transaction(yi,"readwrite"),X=z.objectStore(yi),ge=yield X.get(A),Xe=C(ge);return void 0===Xe?yield X.delete(A):yield X.put(Xe,A),yield z.done,Xe&&(!ge||ge.fid!==Xe.fid)&&Tn(E,Xe.fid),Xe})).apply(this,arguments)}function H(E){return U.apply(this,arguments)}function U(){return U=(0,x.Z)(function*(E){let C;const A=yield _t(E.appConfig,k=>{const z=function J(E){return Ot(E||{fid:at(),registrationStatus:0})}(k),X=function Ie(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Qe.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},k=function ce(E,C){return it.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:k}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:St(E)}:{installationEntry:C}}(E,z);return C=X.registrationPromise,X.installationEntry});return A.fid===Je?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),U.apply(this,arguments)}function it(){return it=(0,x.Z)(function*(E,C){try{const A=yield function Te(E,C){return Ve.apply(this,arguments)}(E,C);return G(E.appConfig,A)}catch(A){throw Ge(A)&&409===A.customData.serverCode?yield ze(E.appConfig):yield G(E.appConfig,{fid:C.fid,registrationStatus:0}),A}}),it.apply(this,arguments)}function St(E){return wt.apply(this,arguments)}function wt(){return(wt=(0,x.Z)(function*(E){let C=yield bi(E.appConfig);for(;1===C.registrationStatus;)yield et(100),C=yield bi(E.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield H(E);return k||A}return C})).apply(this,arguments)}function bi(E){return _t(E,C=>{if(!C)throw Qe.create("installation-not-found");return Ot(C)})}function Ot(E){return function Gn(E){return 1===E.registrationStatus&&E.registrationTime+gn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ci(){return(ci=(0,x.Z)(function*({appConfig:E,heartbeatServiceProvider:C},A){const k=function _s(E,{fid:C}){return`${mn(E)}/${C}/authTokens:generate`}(E,A),z=function un(E,{refreshToken:C}){const A=nn(E);return A.append("Authorization",function fe(E){return`${le} ${E}`}(C)),A}(E,A),X=C.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&z.append("x-firebase-client",ft)}const Xe={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:$n,appId:E.appId}})},Ze=yield In(()=>fetch(k,Xe));if(Ze.ok)return mt(yield Ze.json());throw yield jt("Generate Auth Token",Ze)})).apply(this,arguments)}function Io(E){return yc.apply(this,arguments)}function yc(){return yc=(0,x.Z)(function*(E,C=!1){let A;const k=yield _t(E.appConfig,X=>{if(!ys(X))throw Qe.create("not-registered");const ge=X.authToken;if(!C&&function To(E){return 2===E.requestStatus&&!function Ia(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+pe}(E)}(ge))return X;if(1===ge.requestStatus)return A=function Nr(E,C){return vs.apply(this,arguments)}(E,C),X;{if(!navigator.onLine)throw Qe.create("app-offline");const Xe=function $u(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(X);return A=function _r(E,C){return Gt.apply(this,arguments)}(E,Xe),Xe}});return A?yield A:k.authToken}),yc.apply(this,arguments)}function vs(){return(vs=(0,x.Z)(function*(E,C){let A=yield mr(E.appConfig);for(;1===A.authToken.requestStatus;)yield et(100),A=yield mr(E.appConfig);const k=A.authToken;return 0===k.requestStatus?Io(E,C):k})).apply(this,arguments)}function mr(E){return _t(E,C=>{if(!ys(C))throw Qe.create("not-registered");return function Mr(E){return 1===E.requestStatus&&E.requestTime+gn<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Gt(){return Gt=(0,x.Z)(function*(E,C){try{const A=yield function Zt(E,C){return ci.apply(this,arguments)}(E,C),k=Object.assign(Object.assign({},C),{authToken:A});return yield G(E.appConfig,k),A}catch(A){if(!Ge(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield G(E.appConfig,k)}else yield ze(E.appConfig);throw A}}),Gt.apply(this,arguments)}function ys(E){return void 0!==E&&2===E.registrationStatus}function Ao(){return(Ao=(0,x.Z)(function*(E){const C=E,{installationEntry:A,registrationPromise:k}=yield H(C);return k?k.catch(console.error):Io(C).catch(console.error),A.fid})).apply(this,arguments)}function Ta(){return Ta=(0,x.Z)(function*(E,C=!1){const A=E;return yield function Ec(E){return Xi.apply(this,arguments)}(A),(yield Io(A,C)).token}),Ta.apply(this,arguments)}function Xi(){return(Xi=(0,x.Z)(function*(E){const{registrationPromise:C}=yield H(E);C&&(yield C)})).apply(this,arguments)}function No(E){return Qe.create("missing-app-config-values",{valueName:E})}const wc="installations",Bp=E=>{const C=E.getProvider("app").getImmediate(),A=function xi(E){if(!E||!E.options)throw No("App Configuration");if(!E.name)throw No("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!E.options[A])throw No(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,te.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},$s=E=>{const C=E.getProvider("app").getImmediate(),A=(0,te.qX)(C,wc).getImmediate();return{getId:()=>function So(E){return Ao.apply(this,arguments)}(A),getToken:z=>function bc(E){return Ta.apply(this,arguments)}(A,z)}};(function Wu(){(0,te.Xd)(new de.wA(wc,Bp,"PUBLIC")),(0,te.Xd)(new de.wA("installations-internal",$s,"PRIVATE"))})(),(0,te.KN)(sn,pn),(0,te.KN)(sn,pn,"esm2017");const Mo="@firebase/remote-config",Ei=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bt{constructor(C,A,k,z){this.client=C,this.storage=A,this.storageCache=k,this.logger=z}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,z=k<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${z}.`),z}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(z&&A.isCachedDataFresh(C.cacheMaxAgeMillis,k))return z;C.eTag=z&&z.eTag;const X=yield A.client.fetch(C),ge=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&ge.push(A.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(ge),X})()}}function An(E=navigator){return E.languages&&E.languages[0]||E.language}class Ai{constructor(C,A,k,z,X,ge){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=k,this.projectId=z,this.apiKey=X,this.appId=ge}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Ze={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:z,app_id:A.appId,language_code:An()},ft={method:"POST",headers:Xe,body:JSON.stringify(Ze)},It=fetch(ge,ft),At=new Promise((Ci,ts)=>{C.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",ts(Gi)})});let Jn;try{yield Promise.race([It,At]),Jn=yield It}catch(Ci){let ts="fetch-client-network";throw"AbortError"===Ci?.name&&(ts="fetch-timeout"),Ei.create(ts,{originalErrorMessage:Ci?.message})}let Bn=Jn.status;const Ms=Jn.headers.get("ETag")||void 0;let Vn,uo;if(200===Jn.status){let Ci;try{Ci=yield Jn.json()}catch(ts){throw Ei.create("fetch-client-parse",{originalErrorMessage:ts?.message})}Vn=Ci.entries,uo=Ci.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?Bn=500:"NO_CHANGE"===uo?Bn=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(Vn={}),304!==Bn&&200!==Bn)throw Ei.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:Ms,config:Vn}})()}}class Na{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,k)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:k}){var z=this;return(0,x.Z)(function*(){yield function Gs(E,C){return new Promise((A,k)=>{const z=Math.max(C-Date.now(),0),X=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(X),k(Ei.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const X=yield z.client.fetch(C);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function ui(E){if(!(E instanceof se.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(X))throw X;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(k),backoffCount:k+1};return yield z.storage.setThrottleMetadata(ge),z.attemptFetch(C,ge)}})()}}class Ro{constructor(C,A,k,z,X){this.app=C,this._client=A,this._storageCache=k,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(E,C){const A=E.target.error||void 0;return Ei.create(C,{originalErrorMessage:A&&A?.message})}const di="app_namespace_store";class Sc{constructor(C,A,k,z=function Nn(){return new Promise((E,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{C(Et(k,"storage-open"))},A.onsuccess=k=>{E(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(A){C(Ei.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=k,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,X)=>{const Xe=k.transaction([di],"readonly").objectStore(di),Ze=A.createCompositeKey(C);try{const ft=Xe.get(Ze);ft.onerror=It=>{X(Et(It,"storage-get"))},ft.onsuccess=It=>{const At=It.target.result;z(At?At.value:void 0)}}catch(ft){X(Ei.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(C,A){var k=this;return(0,x.Z)(function*(){const z=yield k.openDbPromise;return new Promise((X,ge)=>{const Ze=z.transaction([di],"readwrite").objectStore(di),ft=k.createCompositeKey(C);try{const It=Ze.put({compositeKey:ft,value:A});It.onerror=At=>{ge(Et(At,"storage-set"))},It.onsuccess=()=>{X()}}catch(It){ge(Ei.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,X)=>{const Xe=k.transaction([di],"readwrite").objectStore(di),Ze=A.createCompositeKey(C);try{const ft=Xe.delete(Ze);ft.onerror=It=>{X(Et(It,"storage-delete"))},ft.onsuccess=()=>{z()}}catch(ft){X(Ei.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Ws{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,x.Z)(function*(){const A=C.storage.getLastFetchStatus(),k=C.storage.getLastSuccessfulFetchTimestampMillis(),z=C.storage.getActiveConfig(),X=yield A;X&&(C.lastFetchStatus=X);const ge=yield k;ge&&(C.lastSuccessfulFetchTimestampMillis=ge);const Xe=yield z;Xe&&(C.activeConfig=Xe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function ws(){return ir.apply(this,arguments)}function ir(){return(ir=(0,x.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function ei(){(0,te.Xd)(new de.wA("remote-config",function E(C,{instanceIdentifier:A}){const k=C.getProvider("app").getImmediate(),z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,se.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:X,apiKey:ge,appId:Xe}=k.options;if(!X)throw Ei.create("registration-project-id");if(!ge)throw Ei.create("registration-api-key");if(!Xe)throw Ei.create("registration-app-id");const Ze=new Sc(Xe,k.name,A=A||"firebase"),ft=new Ws(Ze),It=new ve.Yd(Mo);It.logLevel=ve.in.ERROR;const At=new Ai(z,te.Jn,A,X,ge,Xe),Jn=new Na(At,Ze),Bn=new bt(Jn,Ze,ft,It),Ms=new Ro(k,Bn,ft,Ze,It);return function Ti(E){const C=(0,se.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Ms),Ms},"PUBLIC").setMultipleInstances(!0)),(0,te.KN)(Mo,"0.4.4"),(0,te.KN)(Mo,"0.4.4","esm2017")}();const Ma=(E,C)=>C.some(A=>E instanceof A);let Cs,Rt;const wl=new WeakMap,ti=new WeakMap,zs=new WeakMap,ni=new WeakMap,Is=new WeakMap;let ii={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return ti.get(E);if("objectStoreNames"===C)return E.objectStoreNames||zs.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Hi(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Ys(E){return"function"==typeof E?function Cl(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xo(){return Rt||(Rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Pi(this),C),Hi(wl.get(this))}:function(...C){return Hi(E.apply(Pi(this),C))}:function(C,...A){const k=E.call(Pi(this),C,...A);return zs.set(k,C.sort?C.sort():[C]),Hi(k)}}(E):(E instanceof IDBTransaction&&function Ph(E){if(ti.has(E))return;const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{A(),z()},ge=()=>{k(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});ti.set(E,C)}(E),Ma(E,function Vp(){return Cs||(Cs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ii):E)}function Hi(E){if(E instanceof IDBRequest)return function hi(E){const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{A(Hi(E.result)),z()},ge=()=>{k(E.error),z()};E.addEventListener("success",X),E.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&wl.set(A,E)}).catch(()=>{}),Is.set(C,E),C}(E);if(ni.has(E))return ni.get(E);const C=Ys(E);return C!==E&&(ni.set(E,C),Is.set(C,E)),C}const Pi=E=>Is.get(E);function Po(E,C,{blocked:A,upgrade:k,blocking:z,terminated:X}={}){const ge=indexedDB.open(E,C),Xe=Hi(ge);return k&&ge.addEventListener("upgradeneeded",Ze=>{k(Hi(ge.result),Ze.oldVersion,Ze.newVersion,Hi(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Xe.then(Ze=>{X&&Ze.addEventListener("close",()=>X()),z&&Ze.addEventListener("versionchange",()=>z())}).catch(()=>{}),Xe}function ko(E,{blocked:C}={}){const A=indexedDB.deleteDatabase(E);return C&&A.addEventListener("blocked",()=>C()),Hi(A).then(()=>{})}const Ac=["get","getKey","getAll","getAllKeys","count"],Up=["put","add","delete","clear"],Il=new Map;function Nc(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Il.get(C))return Il.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,z=Up.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!Ac.includes(A))return;const X=function(){var ge=(0,x.Z)(function*(Xe,...Ze){const ft=this.transaction(Xe,z?"readwrite":"readonly");let It=ft.store;return k&&(It=It.index(Ze.shift())),(yield Promise.all([It[A](...Ze),z&&ft.done]))[0]});return function(Ze){return ge.apply(this,arguments)}}();return Il.set(C,X),X}!function Di(E){ii=E(ii)}(E=>({...E,get:(C,A,k)=>Nc(C,A)||E.get(C,A,k),has:(C,A)=>!!Nc(C,A)||E.has(C,A)}));const Ku="/firebase-messaging-sw.js",Mc="/firebase-cloud-messaging-push-scope",Zu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hp="https://fcmregistrations.googleapis.com/v1",Mn="google.c.a.c_id",jp="google.c.a.c_l",kh="google.c.a.ts";var qu=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(qu||{});function Kr(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oc(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),z=new Uint8Array(k.length);for(let X=0;X<k.length;++X)z[X]=k.charCodeAt(X);return z}const Fo="fcm_token_details_db",Rc=5,Oa="fcm_token_object_Store";function Ra(){return Ra=(0,x.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Fo))return null;let C=null;return(yield Po(Fo,Rc,{upgrade:(k=(0,x.Z)(function*(z,X,ge,Xe){var Ze;if(X<2||!z.objectStoreNames.contains(Oa))return;const ft=Xe.objectStore(Oa),It=yield ft.index("fcmSenderId").get(E);if(yield ft.clear(),It)if(2===X){const At=It;if(!At.auth||!At.p256dh||!At.endpoint)return;C={token:At.fcmToken,createTime:null!==(Ze=At.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Kr(At.vapidKey)}}}else if(3===X){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Kr(At.auth),p256dh:Kr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Kr(At.vapidKey)}}}else if(4===X){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Kr(At.auth),p256dh:Kr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Kr(At.vapidKey)}}}}),function(X,ge,Xe,Ze){return k.apply(this,arguments)})})).close(),yield ko(Fo),yield ko("fcm_vapid_details_db"),yield ko("undefined"),function Ks(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var k}),Ra.apply(this,arguments)}const Or="firebase-messaging-database",Ju=1,rr="firebase-messaging-store";let Yn=null;function Zs(){return Yn||(Yn=Po(Or,Ju,{upgrade:(E,C)=>{0===C&&E.createObjectStore(rr)}})),Yn}function ki(E){return qs.apply(this,arguments)}function qs(){return qs=(0,x.Z)(function*(E){const C=Pa(E),k=yield(yield Zs()).transaction(rr).objectStore(rr).get(C);if(k)return k;{const z=yield function u_(E){return Ra.apply(this,arguments)}(E.appConfig.senderId);if(z)return yield xc(E,z),z}}),qs.apply(this,arguments)}function xc(E,C){return xa.apply(this,arguments)}function xa(){return(xa=(0,x.Z)(function*(E,C){const A=Pa(E),z=(yield Zs()).transaction(rr,"readwrite");return yield z.objectStore(rr).put(C,A),yield z.done,C})).apply(this,arguments)}function Lo(){return(Lo=(0,x.Z)(function*(E){const C=Pa(E),k=(yield Zs()).transaction(rr,"readwrite");yield k.objectStore(rr).delete(C),yield k.done})).apply(this,arguments)}function Pa({appConfig:E}){return E.appId}const ri=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pc(E,C){return kc.apply(this,arguments)}function kc(){return(kc=(0,x.Z)(function*(E,C){const A=yield ed(E),k=$p(C),z={method:"POST",headers:A,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(Fa(E.appConfig),z)).json()}catch(ge){throw ri.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(X.error)throw ri.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw ri.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function ka(){return(ka=(0,x.Z)(function*(E,C){const A=yield ed(E),k=$p(C.subscriptionOptions),z={method:"PATCH",headers:A,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(`${Fa(E.appConfig)}/${C.token}`,z)).json()}catch(ge){throw ri.create("token-update-failed",{errorInfo:ge?.toString()})}if(X.error)throw ri.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw ri.create("token-update-no-token");return X.token})).apply(this,arguments)}function Js(E,C){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,x.Z)(function*(E,C){const k={method:"DELETE",headers:yield ed(E)};try{const X=yield(yield fetch(`${Fa(E.appConfig)}/${C}`,k)).json();if(X.error)throw ri.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw ri.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function Fa({projectId:E}){return`${Hp}/projects/${E}/registrations`}function ed(E){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,x.Z)(function*({appConfig:E,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function $p({p256dh:E,auth:C,endpoint:A,vapidKey:k}){const z={web:{endpoint:A,auth:C,p256dh:E}};return k!==Zu&&(z.web.applicationPubKey=k),z}const td=6048e5;function Lc(){return Lc=(0,x.Z)(function*(E){const C=yield function La(E,C){return Bc.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:Kr(C.getKey("auth")),p256dh:Kr(C.getKey("p256dh"))},k=yield ki(E.firebaseDependencies);if(k){if(function id(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(k.subscriptionOptions,A))return Date.now()>=k.createTime+td?function Lh(E,C){return Bo.apply(this,arguments)}(E,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Js(E.firebaseDependencies,k.token)}catch(z){console.warn(z)}return Wp(E.firebaseDependencies,A)}return Wp(E.firebaseDependencies,A)}),Lc.apply(this,arguments)}function Sl(){return Sl=(0,x.Z)(function*(E){const C=yield ki(E.firebaseDependencies);C&&(yield Js(E.firebaseDependencies,C.token),yield function Qu(E){return Lo.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Sl.apply(this,arguments)}function Bo(){return Bo=(0,x.Z)(function*(E,C){try{const A=yield function Fc(E,C){return ka.apply(this,arguments)}(E.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield xc(E.firebaseDependencies,k),A}catch(A){throw yield function nd(E){return Sl.apply(this,arguments)}(E),A}}),Bo.apply(this,arguments)}function Wp(E,C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,x.Z)(function*(E,C){const k={token:yield Pc(E,C),createTime:Date.now(),subscriptionOptions:C};return yield xc(E,k),k.token})).apply(this,arguments)}function Bc(){return(Bc=(0,x.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oc(C)})})).apply(this,arguments)}function Al(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ba(E,C){if(!C.notification)return;E.notification={};const A=C.notification.title;A&&(E.notification.title=A);const k=C.notification.body;k&&(E.notification.body=k);const z=C.notification.image;z&&(E.notification.image=z);const X=C.notification.icon;X&&(E.notification.icon=X)}(C,E),function Bh(E,C){C.data&&(E.data=C.data)}(C,E),function Vc(E,C){var A,k,z,X,ge;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const Xe=null!==(z=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==z?z:null===(X=C.notification)||void 0===X?void 0:X.click_action;Xe&&(E.fcmOptions.link=Xe);const Ze=null===(ge=C.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Ze&&(E.fcmOptions.analyticsLabel=Ze)}(C,E),C}function Uc(E,C){const A=[];for(let k=0;k<E.length;k++)A.push(E.charAt(k)),k<C.length&&A.push(C.charAt(k));return A.join("")}function Hc(E){return ri.create("missing-app-config-values",{valueName:E})}Uc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Uh{constructor(C,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Vh(E){if(!E||!E.options)throw Hc("App Configuration Object");if(!E.name)throw Hc("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const k of C)if(!A[k])throw Hc(k);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:z,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Va(){return(Va=(0,x.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ku,{scope:Mc}),E.swRegistration.update().catch(()=>{})}catch(C){throw ri.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Qs(){return(Qs=(0,x.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function Nl(E){return Va.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Xs(){return(Xs=(0,x.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Zu)})).apply(this,arguments)}function Ua(){return Ua=(0,x.Z)(function*(E,C){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield function Rr(E,C){return Xs.apply(this,arguments)}(E,C?.vapidKey),yield function Hh(E,C){return Qs.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function Gp(E){return Lc.apply(this,arguments)}(E)}),Ua.apply(this,arguments)}function yr(){return(yr=(0,x.Z)(function*(E,C,A){const k=function sd(E){switch(E){case qu.NOTIFICATION_CLICKED:return"notification_open";case qu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[Mn],message_name:A[jp],message_time:A[kh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xt(){return Xt=(0,x.Z)(function*(E,C){const A=C.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===qu.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Al(A)):E.onMessageHandler.next(Al(A)));const k=A.data;(function zp(E){return"object"==typeof E&&!!E&&Mn in E})(k)&&"1"===k["google.c.a.e"]&&(yield function jh(E,C,A){return yr.apply(this,arguments)}(E,A.messageType,k))}),Xt.apply(this,arguments)}const eo="@firebase/messaging",fi=E=>{const C=new Uh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function od(E,C){return Xt.apply(this,arguments)}(C,A)),C},$h=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:k=>function rd(E,C){return Ua.apply(this,arguments)}(C,k)}};function no(){return pi.apply(this,arguments)}function pi(){return(pi=(0,x.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jc(){(0,te.Xd)(new de.wA("messaging",fi,"PUBLIC")),(0,te.Xd)(new de.wA("messaging-internal",$h,"PRIVATE")),(0,te.KN)(eo,"0.12.4"),(0,te.KN)(eo,"0.12.4","esm2017")}();const bn="analytics",Kp="firebase_id",Dt="origin",ad=6e4,ld="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ol="https://www.googletagmanager.com/gtag/js",si=new ve.Yd("@firebase/analytics"),gi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xr(E){if(!E.startsWith(Ol)){const C=gi.create("invalid-gtag-resource",{gtagURL:E});return si.warn(C.message),""}return E}function Gc(E){return Promise.all(E.map(C=>C.catch(A=>A)))}function Oe(){return(Oe=(0,x.Z)(function*(E,C,A,k,z,X){const ge=k[z];try{if(ge)yield C[ge];else{const Ze=(yield Gc(A)).find(ft=>ft.measurementId===z);Ze&&(yield C[Ze.appId])}}catch(Xe){si.error(Xe)}E("config",z,X)})).apply(this,arguments)}function br(){return(br=(0,x.Z)(function*(E,C,A,k,z){try{let X=[];if(z&&z.send_to){let ge=z.send_to;Array.isArray(ge)||(ge=[ge]);const Xe=yield Gc(A);for(const Ze of ge){const ft=Xe.find(At=>At.measurementId===Ze),It=ft&&C[ft.appId];if(!It){X=[];break}X.push(It)}}0===X.length&&(X=Object.values(C)),yield Promise.all(X),E("event",k,z||{})}catch(X){si.error(X)}})).apply(this,arguments)}const Ho=30,zc=new class io{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Yh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Yc(){return(Yc=(0,x.Z)(function*(E){var C;const{appId:A,apiKey:k}=E,z={method:"GET",headers:Yh(k)},X=ld.replace("{app-id}",A),ge=yield fetch(X,z);if(200!==ge.status&&304!==ge.status){let Xe="";try{const Ze=yield ge.json();null!==(C=Ze.error)&&void 0!==C&&C.message&&(Xe=Ze.error.message)}catch{}throw gi.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Xe})}return ge.json()})).apply(this,arguments)}function ji(){return(ji=(0,x.Z)(function*(E,C=zc,A){const{appId:k,apiKey:z,measurementId:X}=E.options;if(!k)throw gi.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:k};throw gi.create("no-api-key")}const ge=C.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new hd;return setTimeout((0,x.Z)(function*(){Xe.abort()}),void 0!==A?A:ad),ud({appId:k,apiKey:z,measurementId:X},ge,Xe,C)})).apply(this,arguments)}function ud(E,C,A){return ro.apply(this,arguments)}function ro(){return ro=(0,x.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:A},k,z=zc){var X;const{appId:ge,measurementId:Xe}=E;try{yield function As(E,C){return new Promise((A,k)=>{const z=Math.max(C-Date.now(),0),X=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(X),k(gi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(k,C)}catch(Ze){if(Xe)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:ge,measurementId:Xe};throw Ze}try{const Ze=yield function d_(E){return Yc.apply(this,arguments)}(E);return z.deleteThrottleMetadata(ge),Ze}catch(Ze){const ft=Ze;if(!function dd(E){if(!(E instanceof se.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ft)){if(z.deleteThrottleMetadata(ge),Xe)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:ge,measurementId:Xe};throw Ze}const It=503===Number(null===(X=ft?.customData)||void 0===X?void 0:X.httpStatus)?(0,se.$s)(A,z.intervalMillis,Ho):(0,se.$s)(A,z.intervalMillis),At={throttleEndTimeMillis:Date.now()+It,backoffCount:A+1};return z.setThrottleMetadata(ge,At),si.debug(`Calling attemptFetch again in ${It} millis`),ud(E,At,k,z)}}),ro.apply(this,arguments)}class hd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Fl,Tt;function Ll(){return(Ll=(0,x.Z)(function*(E,C,A,k,z){if(z&&z.global)E("event",A,k);else{const X=yield C;E("event",A,Object.assign(Object.assign({},k),{send_to:X}))}})).apply(this,arguments)}function _n(){return(_n=(0,x.Z)(function*(){if(!(0,se.hl)())return si.warn(gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return si.warn(gi.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function qr(){return qr=(0,x.Z)(function*(E,C,A,k,z,X,ge){var Xe;const Ze=function Li(E){return ji.apply(this,arguments)}(E);Ze.then(Bn=>{A[Bn.measurementId]=Bn.appId,E.options.measurementId&&Bn.measurementId!==E.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>si.error(Bn)),C.push(Ze);const ft=function en(){return _n.apply(this,arguments)}().then(Bn=>{if(Bn)return k.getId()}),[It,At]=yield Promise.all([Ze,ft]);(function kl(E){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Ol)&&A.src.includes(E))return A;return null})(X)||function xl(E,C){const A=function Rl(E,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,C)),A}("firebase-js-sdk-policy",{createScriptURL:xr}),k=document.createElement("script"),z=`${Ol}?l=${E}&id=${C}`;k.src=A?A?.createScriptURL(z):z,k.async=!0,document.head.appendChild(k)}(X,It.measurementId),Tt&&(z("consent","default",Tt),function Ha(E){Tt=E}(void 0)),z("js",new Date);const Jn=null!==(Xe=ge?.config)&&void 0!==Xe?Xe:{};return Jn[Dt]="firebase",Jn.update=!0,null!=At&&(Jn[Kp]=At),z("config",It.measurementId,Jn),Fl&&(z("set",Fl),function xn(E){Fl=E}(void 0)),It.measurementId}),qr.apply(this,arguments)}class Ns{constructor(C){this.app=C}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},jo=[];const ja={};let kr,Ln,Er="dataLayer",$a=!1;function sr(E,C,A){!function Fr(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((k,z)=>`(${z+1}) ${k}`).join(" "),A=gi.create("invalid-analytics-context",{errorInfo:C});si.warn(A.message)}}();const k=E.options.appId;if(!k)throw gi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw gi.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[k])throw gi.create("already-exists",{id:k});if(!$a){!function Zp(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Er);const{wrappedGtag:X,gtagCore:ge}=function oi(E,C,A,k,z){let X=function(...ge){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function Pl(E,C,A,k){function X(){return X=(0,x.Z)(function*(ge,...Xe){try{if("event"===ge){const[Ze,ft]=Xe;yield function Ht(E,C,A,k,z){return br.apply(this,arguments)}(E,C,A,Ze,ft)}else if("config"===ge){const[Ze,ft]=Xe;yield function Wc(E,C,A,k,z,X){return Oe.apply(this,arguments)}(E,C,A,k,Ze,ft)}else if("consent"===ge){const[Ze]=Xe;E("consent","update",Ze)}else if("get"===ge){const[Ze,ft,It]=Xe;E("get",Ze,ft,It)}else if("set"===ge){const[Ze]=Xe;E("set",Ze)}else E(ge,...Xe)}catch(Ze){si.error(Ze)}}),X.apply(this,arguments)}return function z(ge){return X.apply(this,arguments)}}(X,E,C,A),{gtagCore:X,wrappedGtag:window[z]}}(Fn,jo,ja,Er,"gtag");Ln=X,kr=ge,$a=!0}return Fn[k]=function En(E,C,A,k,z,X,ge){return qr.apply(this,arguments)}(E,jo,ja,C,kr,Er,A),new Ns(E)}function $o(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,x.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Wo="@firebase/analytics";!function za(){(0,te.Xd)(new de.wA(bn,(C,{options:A})=>sr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te.Xd)(new de.wA("analytics-internal",function E(C){try{const A=C.getProvider(bn).getImmediate();return{logEvent:(k,z,X)=>function jl(E,C,A,k){E=(0,se.m9)(E),function qp(E,C,A,k,z){return Ll.apply(this,arguments)}(Ln,Fn[E.app.options.appId],C,A,k).catch(z=>si.error(z))}(A,k,z,X)}}catch(A){throw gi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.KN)(Wo,"0.10.0"),(0,te.KN)(Wo,"0.10.0","esm2017")}();var $i=R(1954),Ya=R(2631);const zo=new class Zn extends Ya.v{}(class $l extends $i.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(C,A,k):(C.flush(this),0)}});var or=R(6321),Dn=R(9397),Jc=R(5137),Lr=R(3093);const Ka=new c.GfV("7.6.1"),ar="__angularfire_symbol__analyticsIsSupportedValue",wi="__angularfire_symbol__analyticsIsSupported",Dr="__angularfire_symbol__remoteConfigIsSupportedValue",Gl="__angularfire_symbol__remoteConfigIsSupported",Xr="__angularfire_symbol__messagingIsSupportedValue",oo="__angularfire_symbol__messagingIsSupported";function ao(E,C,A){if(C){if(1===C.length)return C[0];const X=C.filter(ge=>ge.app===A);if(1===X.length)return X[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[wi]||(globalThis[wi]=$o().then(E=>globalThis[ar]=E).catch(()=>globalThis[ar]=!1)),globalThis[oo]||(globalThis[oo]=no().then(E=>globalThis[Xr]=E).catch(()=>globalThis[Xr]=!1)),globalThis[Gl]||(globalThis[Gl]=ws().then(E=>globalThis[Dr]=E).catch(()=>globalThis[Dr]=!1));const qh=(E,C)=>{const A=C?[C]:(0,Q.C6)(),k=[];return A.forEach(z=>{z.container.getProvider(E).instances.forEach(ge=>{k.includes(ge)||k.push(ge)})}),k};function es(){}class eu{constructor(C,A=zo){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,k){const z=this.zone;return this.delegate.schedule(function(ge){z.runGuarded(()=>{C.apply(this,[ge])})},A,k)}}class qa{constructor(C){this.zone=C,this.task=null}call(C,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),A.pipe((0,Dn.b)({next:k,complete:k,error:k})).subscribe(C).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tu=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new eu(Zone.current)),this.insideAngular=A.run(()=>new eu(Zone.current,or.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function vn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function lo(E){return vn(),function Yo(E){return function(A){return(A=A.lift(new qa(E.ngZone))).pipe((0,Jc.R)(E.outsideAngular),(0,Lr.Q)(E.insideAngular))}}(vn())(E)}},9058:(st,De,R)=>{R.d(De,{$s:()=>ze,BH:()=>re,DV:()=>q,Dv:()=>an,GJ:()=>In,L:()=>ue,LL:()=>Ne,Pz:()=>_e,Sg:()=>we,UG:()=>K,UI:()=>Te,US:()=>de,Wj:()=>$t,Wl:()=>mt,Yr:()=>gn,ZB:()=>ne,ZR:()=>Ce,aH:()=>oe,b$:()=>zt,cI:()=>mn,dS:()=>Sr,eu:()=>he,g5:()=>x,gK:()=>xt,gQ:()=>yt,h$:()=>Me,hl:()=>le,hu:()=>Q,jU:()=>He,lb:()=>vi,m9:()=>Qt,ne:()=>Kt,p$:()=>$,pd:()=>at,r3:()=>Z,ru:()=>ht,tV:()=>V,uI:()=>ae,ug:()=>Gr,vZ:()=>Ve,w1:()=>sn,w9:()=>un,xO:()=>Yt,xb:()=>fe,z$:()=>xe,zI:()=>pe,zd:()=>Je});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(H,U){if(!H)throw x(U)},x=function(H){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+H)},te=function(H){const U=[];let J=0;for(let Ie=0;Ie<H.length;Ie++){let ce=H.charCodeAt(Ie);ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):55296==(64512&ce)&&Ie+1<H.length&&56320==(64512&H.charCodeAt(Ie+1))?(ce=65536+((1023&ce)<<10)+(1023&H.charCodeAt(++Ie)),U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ce=0;ce<H.length;ce+=3){const it=H[ce],St=ce+1<H.length,wt=St?H[ce+1]:0,bi=ce+2<H.length,Ot=bi?H[ce+2]:0;let ci=(15&wt)<<2|Ot>>6,_s=63&Ot;bi||(_s=64,St||(ci=64)),Ie.push(J[it>>2],J[(3&it)<<4|wt>>4],J[ci],J[_s])}return Ie.join("")},encodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(te(H),U)},decodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){const U=[];let J=0,Ie=0;for(;J<H.length;){const ce=H[J++];if(ce<128)U[Ie++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const it=H[J++];U[Ie++]=String.fromCharCode((31&ce)<<6|63&it)}else if(ce>239&&ce<365){const bi=((7&ce)<<18|(63&H[J++])<<12|(63&H[J++])<<6|63&H[J++])-65536;U[Ie++]=String.fromCharCode(55296+(bi>>10)),U[Ie++]=String.fromCharCode(56320+(1023&bi))}else{const it=H[J++],St=H[J++];U[Ie++]=String.fromCharCode((15&ce)<<12|(63&it)<<6|63&St)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray(H,U){this.init_();const J=U?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ce=0;ce<H.length;){const it=J[H.charAt(ce++)],wt=ce<H.length?J[H.charAt(ce)]:0;++ce;const Ot=ce<H.length?J[H.charAt(ce)]:64;++ce;const Zt=ce<H.length?J[H.charAt(ce)]:64;if(++ce,null==it||null==wt||null==Ot||null==Zt)throw new ve;Ie.push(it<<2|wt>>4),64!==Ot&&(Ie.push(wt<<4&240|Ot>>2),64!==Zt&&Ie.push(Ot<<6&192|Zt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(H){const U=te(H);return de.encodeByteArray(U,!0)},ue=function(H){return Me(H).replace(/\./g,"")},V=function(H){try{return de.decodeString(H,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(H){return ne(void 0,H)}function ne(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(const J in U)!U.hasOwnProperty(J)||!Be(J)||(H[J]=ne(H[J],U[J]));return H}function Be(H){return"__proto__"!==H}const Re=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=H&&V(H[1]);return U&&JSON.parse(U)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},oe=()=>{var H;return null===(H=Re())||void 0===H?void 0:H.config},_e=H=>{var U;return null===(U=Re())||void 0===U?void 0:U[`_${H}`]};class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,J)=>{this.resolve=U,this.reject=J})}wrapCallback(U){return(J,Ie)=>{J?this.reject(J):this.resolve(Ie),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(J):U(J,Ie))}}}function we(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=U||"demo-project",ce=H.iat||0,it=H.sub||H.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ce,exp:ce+3600,auth_time:ce,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(St)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function K(){var H;const U=null===(H=Re())||void 0===H?void 0:H.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function ht(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sn(){const H=xe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function gn(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((H,U)=>{try{let J=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Ie);ce.onsuccess=()=>{ce.result.close(),J||self.indexedDB.deleteDatabase(Ie),H(!0)},ce.onupgradeneeded=()=>{J=!1},ce.onerror=()=>{var it;U((null===(it=ce.error)||void 0===it?void 0:it.message)||"")}}catch(J){U(J)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(U,J,Ie){super(J),this.code=U,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(U,J,Ie){this.service=U,this.serviceName=J,this.errors=Ie}create(U,...J){const Ie=J[0]||{},ce=`${this.service}/${U}`,it=this.errors[U],St=it?function Qe(H,U){return H.replace(Ge,(J,Ie)=>{const ce=U[Ie];return null!=ce?String(ce):`<${Ie}?>`})}(it,Ie):"Error";return new Ce(ce,`${this.serviceName}: ${St} (${ce}).`,Ie)}}const Ge=/\{\$([^}]+)}/g;function mn(H){return JSON.parse(H)}function mt(H){return JSON.stringify(H)}const jt=function(H){let U={},J={},Ie={},ce="";try{const it=H.split(".");U=mn(V(it[0])||""),J=mn(V(it[1])||""),ce=it[2],Ie=J.d||{},delete J.d}catch{}return{header:U,claims:J,data:Ie,signature:ce}},un=function(H){const J=jt(H).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},In=function(H){const U=jt(H).claims;return"object"==typeof U&&!0===U.admin};function Z(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function q(H,U){if(Object.prototype.hasOwnProperty.call(H,U))return H[U]}function fe(H){for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U))return!1;return!0}function Te(H,U,J){const Ie={};for(const ce in H)Object.prototype.hasOwnProperty.call(H,ce)&&(Ie[ce]=U.call(J,H[ce],ce,H));return Ie}function Ve(H,U){if(H===U)return!0;const J=Object.keys(H),Ie=Object.keys(U);for(const ce of J){if(!Ie.includes(ce))return!1;const it=H[ce],St=U[ce];if(et(it)&&et(St)){if(!Ve(it,St))return!1}else if(it!==St)return!1}for(const ce of Ie)if(!J.includes(ce))return!1;return!0}function et(H){return null!==H&&"object"==typeof H}function Yt(H){const U=[];for(const[J,Ie]of Object.entries(H))Array.isArray(Ie)?Ie.forEach(ce=>{U.push(encodeURIComponent(J)+"="+encodeURIComponent(ce))}):U.push(encodeURIComponent(J)+"="+encodeURIComponent(Ie));return U.length?"&"+U.join("&"):""}function Je(H){const U={};return H.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ce,it]=Ie.split("=");U[decodeURIComponent(ce)]=decodeURIComponent(it)}}),U}function at(H){const U=H.indexOf("?");if(!U)return"";const J=H.indexOf("#",U);return H.substring(U,J>0?J:void 0)}class yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,J){J||(J=0);const Ie=this.W_;if("string"==typeof U)for(let Zt=0;Zt<16;Zt++)Ie[Zt]=U.charCodeAt(J)<<24|U.charCodeAt(J+1)<<16|U.charCodeAt(J+2)<<8|U.charCodeAt(J+3),J+=4;else for(let Zt=0;Zt<16;Zt++)Ie[Zt]=U[J]<<24|U[J+1]<<16|U[J+2]<<8|U[J+3],J+=4;for(let Zt=16;Zt<80;Zt++){const ci=Ie[Zt-3]^Ie[Zt-8]^Ie[Zt-14]^Ie[Zt-16];Ie[Zt]=4294967295&(ci<<1|ci>>>31)}let Ot,Gn,ce=this.chain_[0],it=this.chain_[1],St=this.chain_[2],wt=this.chain_[3],bi=this.chain_[4];for(let Zt=0;Zt<80;Zt++){Zt<40?Zt<20?(Ot=wt^it&(St^wt),Gn=1518500249):(Ot=it^St^wt,Gn=1859775393):Zt<60?(Ot=it&St|wt&(it|St),Gn=2400959708):(Ot=it^St^wt,Gn=3395469782);const ci=(ce<<5|ce>>>27)+Ot+bi+Gn+Ie[Zt]&4294967295;bi=wt,wt=St,St=4294967295&(it<<30|it>>>2),it=ce,ce=ci}this.chain_[0]=this.chain_[0]+ce&4294967295,this.chain_[1]=this.chain_[1]+it&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+bi&4294967295}update(U,J){if(null==U)return;void 0===J&&(J=U.length);const Ie=J-this.blockSize;let ce=0;const it=this.buf_;let St=this.inbuf_;for(;ce<J;){if(0===St)for(;ce<=Ie;)this.compress_(U,ce),ce+=this.blockSize;if("string"==typeof U){for(;ce<J;)if(it[St]=U.charCodeAt(ce),++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}else for(;ce<J;)if(it[St]=U[ce],++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}this.inbuf_=St,this.total_+=J}digest(){const U=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&J,J/=256;this.compress_(this.buf_);let Ie=0;for(let ce=0;ce<5;ce++)for(let it=24;it>=0;it-=8)U[Ie]=this.chain_[ce]>>it&255,++Ie;return U}}function Kt(H,U){const J=new on(H,U);return J.subscribe.bind(J)}class on{constructor(U,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{U(this)}).catch(Ie=>{this.error(Ie)})}next(U){this.forEachObserver(J=>{J.next(U)})}error(U){this.forEachObserver(J=>{J.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,J,Ie){let ce;if(void 0===U&&void 0===J&&void 0===Ie)throw new Error("Missing Observer.");ce=function Mt(H,U){if("object"!=typeof H||null===H)return!1;for(const J of U)if(J in H&&"function"==typeof H[J])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:J,complete:Ie},void 0===ce.next&&(ce.next=hn),void 0===ce.error&&(ce.error=hn),void 0===ce.complete&&(ce.complete=hn);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),it}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,U)}sendOne(U,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{J(this.observers[U])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}const an=function(H,U,J,Ie){let ce;if(Ie<U?ce="at least "+U:Ie>J&&(ce=0===J?"none":"no more than "+J),ce)throw new Error(H+" failed: Was called with "+Ie+(1===Ie?" argument.":" arguments.")+" Expects "+ce+".")};function xt(H,U){return`${H} failed: ${U} argument `}function $t(H,U,J,Ie){if((!Ie||J)&&"function"!=typeof J)throw new Error(xt(H,U)+"must be a valid function.")}function vi(H,U,J,Ie){if((!Ie||J)&&("object"!=typeof J||null===J))throw new Error(xt(H,U)+"must be a valid context object.")}const Sr=function(H){const U=[];let J=0;for(let Ie=0;Ie<H.length;Ie++){let ce=H.charCodeAt(Ie);if(ce>=55296&&ce<=56319){const it=ce-55296;Ie++,Q(Ie<H.length,"Surrogate pair missing trail surrogate."),ce=65536+(it<<10)+(H.charCodeAt(Ie)-56320)}ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):ce<65536?(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},Gr=function(H){let U=0;for(let J=0;J<H.length;J++){const Ie=H.charCodeAt(J);Ie<128?U++:Ie<2048?U+=2:Ie>=55296&&Ie<=56319?(U+=4,J++):U+=3}return U},Ar=1e3,Ee=2,G=144e5,ye=.5;function ze(H,U=Ar,J=Ee){const Ie=U*Math.pow(J,H),ce=Math.round(ye*Ie*(Math.random()-.5)*2);return Math.min(G,Ie+ce)}function Qt(H){return H&&H._delegate?H._delegate:H}},854:(st,De,R)=>{var c=R(5879);let Q=null;function x(){return Q}class se{}const de=new c.OlP("DocumentToken");let ve=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(ue)},providedIn:"platform"})}return t})();const Me=new c.OlP("Location Initialized");let ue=(()=>{class t extends ve{constructor(){super(),this._doc=(0,c.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function V(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function $(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ne(t){return t&&"?"!==t[0]?"?"+t:t}let Be=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(We)},providedIn:"root"})}return t})();const Ae=new c.OlP("appBaseHref");let We=(()=>{class t extends Be{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return V(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,u){const h=this.prepareExternalUrl(o+ne(u));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){const h=this.prepareExternalUrl(o+ne(u));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(ve),c.LFG(Ae,8))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pe=(()=>{class t extends Be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=V(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,u){let h=this.prepareExternalUrl(o+ne(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){let h=this.prepareExternalUrl(o+ne(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(ve),c.LFG(Ae,8))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})(),Ke=(()=>{class t{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function oe(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}($(ct(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ne(i))}normalize(e){return t.stripTrailingSlash(function lt(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=$;static#i=this.\u0275fac=function(i){return new(i||t)(c.LFG(Be))};static#r=this.\u0275prov=c.Yz7({token:t,factory:function(){return function Re(){return new Ke((0,c.LFG)(Be))}()},providedIn:"root"})}return t})();function ct(t){return t.replace(/\/index.html$/,"")}class js{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,u,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new js(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===u?void 0:u);else if(null!==u){const v=i.get(u);i.move(v,h),Dc(v,o)}});for(let o=0,u=i.length;o<u;o++){const v=i.get(o).context;v.index=o,v.count=u,v.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Dc(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Dc(t,n){t.context.$implicit=n.item}let Rn=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();function Ds(t){return"server"===t}let ei=(()=>{class t{static#e=this.\u0275prov=(0,c.Yz7)({token:t,providedIn:"root",factory:()=>new zr((0,c.LFG)(de),window)})}return t})();class zr{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Yr(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class id extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Al extends id{static makeCurrent(){!function te(t){Q||(Q=t)}(new Al)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Bh(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}();return null==e?null:function zp(t){Vc=Vc||document.createElement("a"),Vc.setAttribute("href",t);const n=Vc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function So(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let Vc,Ba=null,Vh=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const Hc=new c.OlP("EventManagerPlugins");let Uh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(u=>u.supports(e)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Hc),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();class Nl{constructor(n){this._doc=n}}const Va="ng-app-id";let Hh=(()=>{class t{constructor(e,i,o,u={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ds(u),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Va}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const u=o.get(e);return u.usage+=i,u.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,u=o?.get(i);if(u?.parentNode===e)return o.delete(i),u.removeAttribute(Va),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(Va,this.appId),h}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const u=this.styleRef,h=u.get(i)?.elements;h?h.push(o):u.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rr=/%COMP%/g,yr=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xt(t,n){return n.map(e=>e.replace(Rr,t))}let eo=(()=>{class t{constructor(e,i,o,u,h,v,D,I=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=v,this.ngZone=D,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=Ds(v),this.defaultRenderer=new to(e,h,D,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof Gh?o.applyToHost(e):o instanceof pi&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let u=o.get(i.id);if(!u){const h=this.doc,v=this.ngZone,D=this.eventManager,I=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:u=new Gh(D,I,i,this.appId,M,h,v,P);break;case c.ifc.ShadowDom:return new no(D,I,e,i,h,v,this.nonce,P);default:u=new pi(D,I,i,M,h,v,P)}o.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Uh),c.LFG(Hh),c.LFG(c.AFp),c.LFG(yr),c.LFG(de),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();class to{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Qs[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(jc(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(jc(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new c.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const u=Qs[o];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=Qs[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?n.style.setProperty(e,i,o&c.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&c.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=x().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function jc(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class no extends to{constructor(n,e,i,o,u,h,v,D){super(n,u,h,D),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=Xt(o.id,o.styles);for(const M of I){const P=document.createElement("style");v&&P.setAttribute("nonce",v),P.textContent=M,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pi extends to{constructor(n,e,i,o,u,h,v,D){super(n,u,h,v),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=D?Xt(D,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gh extends pi{constructor(n,e,i,o,u,h,v,D){const I=o+"-"+i.id;super(n,e,i,u,h,v,D,I),this.contentAttr=function sd(t){return"_ngcontent-%COMP%".replace(Rr,t)}(I),this.hostAttr=function od(t){return"_nghost-%COMP%".replace(Rr,t)}(I)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Uo=(()=>{class t extends Nl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const Wh=["alt","control","meta","shift"],Fi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $c=(()=>{class t extends Nl{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const u=t.parseEventName(i),h=t.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const u=t._normalizeKey(i.pop());let h="",v=i.indexOf("code");if(v>-1&&(i.splice(v,1),h="code."),Wh.forEach(I=>{const M=i.indexOf(I);M>-1&&(i.splice(M,1),h+=I+".")}),h+=u,0!=i.length||0===u.length)return null;const D={};return D.domEventName=o,D.fullKey=h,D}static matchEventFullKeyCode(e,i){let o=Fi[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(o=e.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Wh.forEach(h=>{h!==o&&(0,zh[h])(e)&&(u+=h+".")}),u+=o,u===i)}static eventCallback(e,i,o){return u=>{t.matchEventFullKeyCode(u,e)&&o.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const si=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Dt(){Al.makeCurrent()},multi:!0},{provide:de,useFactory:function ld(){return(0,c.RDi)(document),document},deps:[]}]),cd=new c.OlP(""),gi=[{provide:c.rWj,useClass:class Uc{addToWindow(n){c.dqk.getAngularTestability=(i,o=!0)=>{const u=n.findTestabilityInTree(i,o);if(null==u)throw new c.vHH(5103,!1);return u},c.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const v=function(D){h=h||D,u--,0==u&&i(h)};o.forEach(D=>{D.whenStable(v)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],xr=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ad(){return new c.qLn},deps:[]},{provide:Hc,useClass:Uo,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:Hc,useClass:$c,multi:!0,deps:[de]},eo,Hh,Uh,{provide:c.FYo,useExisting:eo},{provide:class ir{},useClass:Vh,deps:[]},[]];let Gc=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:c.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(cd,12))};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({providers:[...xr,...gi],imports:[Rn,c.hGG]})}return t})(),Oe=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(i){let o=null;return o=i?new i:function Wc(){return new Oe((0,c.LFG)(de))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;var mi=R(6304),Vl=R(6321),Kn=R(5592),vt=R(2096),Zr=R(3019),Tt=R(7398),Ha=R(3020),xn=R(4664),en=R(9360),_n=R(8251);function qr(t,n){return(0,en.e)(function En(t,n,e,i,o){return(u,h)=>{let v=e,D=n,I=0;u.subscribe((0,_n.x)(h,M=>{const P=I++;D=v?t(D,M,P):(v=!0,M),i&&h.next(D)},o&&(()=>{v&&h.next(D),h.complete()})))}}(t,n,arguments.length>=2,!0))}var Ns=R(3997),Fn=R(4829),jo=R(2737),ja=R(2420),Er=R(9940);function Pr(...t){const n=(0,Er.jO)(t);return(0,en.e)((e,i)=>{const o=t.length,u=new Array(o);let h=t.map(()=>!1),v=!1;for(let D=0;D<o;D++)(0,Fn.Xf)(t[D]).subscribe((0,_n.x)(i,I=>{u[D]=I,!v&&!h[D]&&(h[D]=!0,(v=h.every(jo.y))&&(h=null))},ja.Z));e.subscribe((0,_n.x)(i,D=>{if(v){const I=[D,...u];i.next(n?n(...I):I)}}))})}var Ln=R(2793),Ga=(R(8977),R(3399)),Fr=R(4537),sr=R(5861),Ul=R(7592),L=R(9058),$o=R(7879);const Jr="@firebase/database";let md="";function Kc(t){md=t}class Hl{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,L.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,L.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Zh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,L.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Zc=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Hl(n)}}catch{}return new Zh},Go=Zc("localStorage"),jl=Zc("sessionStorage"),Wa=new $o.Yd("@firebase/database"),Wo=function(){let t=1;return function(){return t++}}(),so=function(t){const n=(0,L.dS)(t),e=new L.gQ;e.update(n);const i=e.digest();return L.US.encodeByteArray(i)},za=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=za.apply(null,i):n+="object"==typeof i?(0,L.Wl)(i):i,n+=" "}return n};let $i=null,$l=!0;const Ya=function(t,n){(0,L.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Wa.logLevel=$o.in.VERBOSE,$i=Wa.log.bind(Wa),n&&jl.set("logging_enabled",!0)):"function"==typeof t?$i=t:($i=null,jl.remove("logging_enabled"))},Zn=function(...t){if(!0===$l&&($l=!1,null===$i&&!0===jl.get("logging_enabled")&&Ya(!0)),$i){const n=za.apply(null,t);$i(n)}},zo=function(t){return function(...n){Zn(t,...n)}},qc=function(...t){const n="FIREBASE INTERNAL ERROR: "+za(...t);Wa.error(n)},or=function(...t){const n=`FIREBASE FATAL ERROR: ${za(...t)}`;throw Wa.error(n),new Error(n)},Dn=function(...t){const n="FIREBASE WARNING: "+za(...t);Wa.warn(n)},Lr=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ar="[MIN_NAME]",wi="[MAX_NAME]",Dr=function(t,n){if(t===n)return 0;if(t===ar||n===wi)return-1;if(n===ar||t===wi)return 1;{const e=tu(t),i=tu(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},Gl=function(t,n){return t===n?0:t<n?-1:1},Xr=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,L.Wl)(n))},oo=function(t){if("object"!=typeof t||null===t)return(0,L.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,L.Wl)(n[i]),e+=":",e+=oo(t[n[i]]);return e+="}",e},Za=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let o=0;o<e;o+=n)i.push(t.substring(o,o+n>e?e:o+n));return i};function qn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Qc=function(t){(0,L.hu)(!Lr(t),"Invalid JSON number");const i=1023;let o,u,h,v,D;0===t?(u=0,h=0,o=1/t==-1/0?1:0):(o=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=v+i,h=Math.round(t*Math.pow(2,52-v)-Math.pow(2,52))):(u=0,h=Math.round(t/Math.pow(2,-1074))));const I=[];for(D=52;D;D-=1)I.push(h%2?1:0),h=Math.floor(h/2);for(D=11;D;D-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(o?1:0),I.reverse();const M=I.join("");let P="";for(D=0;D<64;D+=8){let B=parseInt(M.substr(D,8),2).toString(16);1===B.length&&(B="0"+B),P+=B}return P.toLowerCase()},es=new RegExp("^-?(0*)\\d{1,10}$"),tu=function(t){if(es.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},vn=function(t){try{t()}catch(n){setTimeout(()=>{throw Dn("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},lr=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class _d{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Jp{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(n)}}let lo=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const A=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X="ac",ge="websocket",Xe="long_polling";class Ze{constructor(n,e,i,o,u=!1,h="",v=!1,D=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=D,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Go.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Go.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function It(t,n,e){let i;if((0,L.hu)("string"==typeof n,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),n===ge)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==Xe)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ft(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const o=[];return qn(e,(u,h)=>{o.push(u+"="+h)}),i+o.join("&")}class At{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,L.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,L.p$)(this.counters_)}}const Jn={},Bn={};function Ms(t){const n=t.toString();return Jn[n]||(Jn[n]=new At),Jn[n]}class uo{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&vn(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jo{constructor(n,e,i,o,u,h,v){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zo(n),this.stats_=Ms(e),this.urlFn=D=>(this.appCheckToken&&(D[X]=this.appCheckToken),It(e,Xe,D))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new uo(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,L.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ng((...u)=>{const[h,v,D,I,M]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=v,this.password=D;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,v]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i[X]=this.appCheckToken),typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jo.forceAllow_=!0}static forceDisallow(){Jo.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Jo.forceAllow_&&(Jo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,L.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,L.h$)(e),o=Za(i,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,L.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ng{constructor(n,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Wo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ng.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(v){Zn("frame writing exception"),v.stack&&Zn(v.stack),Zn(v)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Zn("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),i()})}addTag(n,e){(0,L.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Zn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let bd=null;typeof MozWebSocket<"u"?bd=MozWebSocket:typeof WebSocket<"u"&&(bd=WebSocket);let Os=(()=>{class t{constructor(e,i,o,u,h,v,D){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zo(this.connId),this.stats_=Ms(i),this.connURL=t.connectionURL_(i,v,D,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,u,h){const v={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(v.r="f"),i&&(v.s=i),o&&(v.ls=o),u&&(v[X]=u),h&&(v.p=h),It(e,ge,v)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Go.set("previous_websocket_failure",!0);try{let o;if((0,L.Yr)()){o={headers:{"User-Agent":`Firebase/5/${md}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,v=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;v&&(o.proxy={origin:v})}this.mySock=new bd(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==bd&&!t.forceDisallow_}static previouslyFailed(){return Go.isInMemoryStorage||!0===Go.get("previous_websocket_failure")}markConnectionHealthy(){Go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,L.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,L.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Za(i,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),nu=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jo,Os]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Os&&Os.isAvailable();let o=i&&!Os.previouslyFailed();if(e.webSocketOnly&&(i||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Os];else{const u=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class g_{constructor(n,e,i,o,u,h,v,D,I,M){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=v,this.onDisconnect_=D,this.onKill_=I,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zo("c:"+this.id+":"),this.transportManager_=new nu(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=lr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Xr("t",n),i=Xr("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Xr("t",n),i=Xr("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Xr("t",n);if("d"in n){const i=n.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?qc("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qc("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rf{put(n,e,i,o){}merge(n,e,i,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Dd{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,L.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const o=this.getInitialEvent(n);o&&e.apply(i,o)}off(n,e,i){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!i||i===o[u].context))return void o.splice(u,1)}validateEventType_(n){(0,L.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class su extends Dd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new su}getInitialEvent(n){return(0,L.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function qt(){return new tn("")}function Bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qo(t){return t.pieces_.length-t.pieceNum_}function fn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new tn(t.pieces_,n)}function lg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wd(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function ug(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new tn(n,0)}function yn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof tn)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new tn(e,0)}function Ft(t){return t.pieceNum_>=t.pieces_.length}function Wi(t,n){const e=Bt(t),i=Bt(n);if(null===e)return n;if(e===i)return Wi(fn(t),fn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function U0(t,n){const e=wd(t,0),i=wd(n,0);for(let o=0;o<e.length&&o<i.length;o++){const u=Dr(e[o],i[o]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function ou(t,n){if(Qo(t)!==Qo(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function ns(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(Qo(t)>Qo(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class H0{constructor(n,e){this.errorPrefix_=e,this.parts_=wd(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);sf(this)}}function sf(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xo(t))}function Xo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Yl extends Dd{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Yl}getInitialEvent(n){return(0,L.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Rs=1e3;let Cd,Br=(()=>{class t extends rf{constructor(e,i,o,u,h,v,D,I){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=v,this.appCheckTokenProvider_=D,this.authOverride_=I,this.id=t.nextPersistentConnectionId_++,this.log_=zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yl.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&su.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const u=++this.requestNumber_,h={r:u,a:e,b:i};this.log_((0,L.Wl)(h)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const i=new L.BH,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:v=>{const D=v.d;"ok"===v.s?i.resolve(D):i.reject(D)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,u){this.initConnection_();const h=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+h),this.listens.has(v)||this.listens.set(v,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(v).has(h),"listen() called twice for same path/queryId.");const D={onComplete:u,hashFn:i,query:e,tag:o};this.listens.get(v).set(h,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,D=>{const I=D.d,M=D.s;t.warnOnListenWarnings_(I,i),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",D),"ok"!==M&&this.removeListen_(o,u),e.onComplete&&e.onComplete(M,I))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const o=(0,L.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,L.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const h=u.s,v=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,i)}sendUnlisten_(e,i,o,u){this.log_("Unlisten on "+e+" for "+i);const h={p:e};u&&(h.q=o,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,u){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,v=>{u&&setTimeout(()=>{u(v.s,v.d)},Math.floor(0))})}put(e,i,o,u){this.putInternal("p",e,i,o,u)}merge(e,i,o,u){this.putInternal("m",e,i,o,u)}putInternal(e,i,o,u,h){this.initConnection_();const v={p:i,d:o};void 0!==h&&(v.h=h),this.outstandingPuts_.push({action:e,request:v,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):qc("Unrecognized action received from server: "+(0,L.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,sr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,v=e.lastSessionId;let D=!1,I=null;const M=function(){I?I.close():(D=!0,u())};e.realtime_={close:M,sendRequest:function(ee){(0,L.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(ee)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ee,Se]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);D?Zn("getToken() completed but was canceled"):(Zn("getToken() completed. Creating connection."),e.authToken_=ee&&ee.accessToken,e.appCheckToken_=Se&&Se.token,I=new g_(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,u,je=>{Dn(je+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(ee){e.log_("Failed to get token: "+ee),D||(e.repoInfo_.nodeAdmin&&Dn(ee),M())}}})()}interrupt(e){Zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>oo(h)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const o=new tn(e).toString();let u;if(this.listens.has(o)){const h=this.listens.get(o);u=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,i){Zn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Zn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+md.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=su.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Lt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Lt(n,e)}}class ea{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Lt(ar,n),o=new Lt(ar,e);return 0!==this.compare(i,o)}minPost(){return Lt.MIN}}class ho extends ea{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(n){Cd=n}compare(n,e){return Dr(n.name,e.name)}isDefinedOn(n){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Lt.MIN}maxPost(){return new Lt(wi,Cd)}makePost(n,e){return(0,L.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Lt(n,Cd)}toString(){return".key"}}const is=new ho;class lu{constructor(n,e,i,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,o&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let cu,Cr=(()=>{class t{constructor(e,i,o,u,h){this.key=e,this.value=i,this.color=o??t.RED,this.left=u??Yi.EMPTY_NODE,this.right=h??Yi.EMPTY_NODE}copy(e,i,o,u,h){return new t(e??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,u;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Yi.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Yi{constructor(n,e=Yi.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Yi(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Cr.BLACK,null,null))}remove(n){return new Yi(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Cr.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new lu(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new lu(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new lu(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new lu(this.root_,null,this.comparator_,!0,n)}}function cr(t,n){return Dr(t.name,n.name)}function Zl(t,n){return Dr(t,n)}Yi.EMPTY_NODE=new class __{copy(n,e,i,o,u){return this}insert(n,e,i){return new Cr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Un=function(t){return"number"==typeof t?"number:"+Qc(t):"string:"+t},ta=function(t){if(t.isLeafNode()){const n=t.val();(0,L.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,L.r3)(n,".sv"),"Priority must be a string or number.")}else(0,L.hu)(t===cu||t.isEmpty(),"priority of unexpected type.");(0,L.hu)(t===cu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Id,Ni,na,fo=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ta(this.priorityNode_)}static set __childrenNodeConstructor(e){Id=e}static get __childrenNodeConstructor(){return Id}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ft(e)?this:".priority"===Bt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Bt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,L.hu)(".priority"!==o||1===Qo(e),".priority must be the last token in a path"),this.updateImmediateChild(o,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Un(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Qc(this.value_):this.value_,this.lazyHash_=so(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(o);return(0,L.hu)(u>=0,"Unknown leaf type: "+i),(0,L.hu)(h>=0,"Unknown leaf type: "+o),u===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const wn=new class y_ extends ea{compare(n,e){const i=n.node.getPriority(),o=e.node.getPriority(),u=i.compareTo(o);return 0===u?Dr(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Lt.MIN}maxPost(){return new Lt(wi,new fo("[PRIORITY-POST]",na))}makePost(n,e){const i=Ni(n);return new Lt(e,new fo("[PRIORITY-POST]",i))}toString(){return".priority"}},_=Math.log(2);class f{constructor(n){this.count=parseInt(Math.log(n+1)/_,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const g=function(t,n,e,i){t.sort(n);const o=function(D,I){const M=I-D;let P,B;if(0===M)return null;if(1===M)return P=t[D],B=e?e(P):P,new Cr(B,P.node,Cr.BLACK,null,null);{const ee=parseInt(M/2,10)+D,Se=o(D,ee),je=o(ee+1,I);return P=t[ee],B=e?e(P):P,new Cr(B,P.node,Cr.BLACK,Se,je)}},v=function(D){let I=null,M=null,P=t.length;const B=function(Se,je){const $e=P-Se,pt=P;P-=Se;const gt=o($e+1,pt),Ut=t[$e],dt=e?e(Ut):Ut;ee(new Cr(dt,Ut.node,je,null,gt))},ee=function(Se){I?(I.left=Se,I=Se):(M=Se,I=Se)};for(let Se=0;Se<D.count;++Se){const je=D.nextBitIsOne(),$e=Math.pow(2,D.count-(Se+1));je?B($e,Cr.BLACK):(B($e,Cr.BLACK),B($e,Cr.RED))}return M}(new f(t.length));return new Yi(i||n,v)};let y;const T={};class N{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,L.hu)(T&&wn,"ChildrenNode.ts has not been loaded"),y=y||new N({".priority":T},{".priority":wn}),y}get(n){const e=(0,L.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Yi?e:null}hasIndex(n){return(0,L.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,L.hu)(n!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const u=e.getIterator(Lt.Wrap);let v,h=u.getNext();for(;h;)o=o||n.isDefinedOn(h.node),i.push(h),h=u.getNext();v=o?g(i,n.getCompare()):T;const D=n.toString(),I=Object.assign({},this.indexSet_);I[D]=n;const M=Object.assign({},this.indexes_);return M[D]=v,new N(M,I)}addToIndexes(n,e){const i=(0,L.UI)(this.indexes_,(o,u)=>{const h=(0,L.DV)(this.indexSet_,u);if((0,L.hu)(h,"Missing index implementation for "+u),o===T){if(h.isDefinedOn(n.node)){const v=[],D=e.getIterator(Lt.Wrap);let I=D.getNext();for(;I;)I.name!==n.name&&v.push(I),I=D.getNext();return v.push(n),g(v,h.getCompare())}return T}{const v=e.get(n.name);let D=o;return v&&(D=D.remove(new Lt(n.name,v))),D.insert(n,n.node)}});return new N(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,L.UI)(this.indexes_,o=>{if(o===T)return o;{const u=e.get(n.name);return u?o.remove(new Lt(n.name,u)):o}});return new N(i,this.indexSet_)}}let j,W=(()=>{class t{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ta(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return j||(j=new t(new Yi(Zl),null,N.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||j}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?j:i}}getChild(e){const i=Bt(e);return null===i?this:this.getImmediateChild(i).getChild(fn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Lt(e,i);let u,h;i.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const v=u.isEmpty()?j:this.priorityNode_;return new t(u,v,h)}}updateChild(e,i){const o=Bt(e);if(null===o)return i;{(0,L.hu)(".priority"!==Bt(e)||1===Qo(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(fn(e),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,u=0,h=!0;if(this.forEachChild(wn,(v,D)=>{i[v]=D.val(e),o++,h&&t.INTEGER_REGEXP_.test(v)?u=Math.max(u,Number(v)):h=!1}),!e&&h&&u<2*o){const v=[];for(const D in i)v[D]=i[D];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Un(this.getPriority().val())+":"),this.forEachChild(wn,(i,o)=>{const u=o.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":so(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const u=this.resolveIndex_(o);if(u){const h=u.getPredecessorKey(new Lt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Lt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Lt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Lt.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Lt.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ue?-1:0}withIndex(e){if(e===is||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===is||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(wn),u=i.getIterator(wn);let h=o.getNext(),v=u.getNext();for(;h&&v;){if(h.name!==v.name||!h.node.equals(v.node))return!1;h=o.getNext(),v=u.getNext()}return null===h&&null===v}return!1}return!1}}resolveIndex_(e){return e===is?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Ue=new class Le extends W{constructor(){super(new Yi(Zl),W.EMPTY_NODE,N.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return W.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Lt,{MIN:{value:new Lt(ar,W.EMPTY_NODE)},MAX:{value:new Lt(wi,Ue)}}),ho.__EMPTY_NODE=W.EMPTY_NODE,fo.__childrenNodeConstructor=W,function v_(t){cu=t}(Ue),function gg(t){na=t}(Ue);const rt=!0;function Ye(t,n=null){if(null===t)return W.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,L.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new fo(t,Ye(n));if(t instanceof Array||!rt){let e=W.EMPTY_NODE;return qn(t,(i,o)=>{if((0,L.r3)(t,i)&&"."!==i.substring(0,1)){const u=Ye(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(Ye(n))}{const e=[];let i=!1;if(qn(t,(h,v)=>{if("."!==h.substring(0,1)){const D=Ye(v);D.isEmpty()||(i=i||!D.getPriority().isEmpty(),e.push(new Lt(h,D)))}}),0===e.length)return W.EMPTY_NODE;const u=g(e,cr,h=>h.name,Zl);if(i){const h=g(e,wn.getCompare());return new W(u,Ye(n),new N({".priority":h},{".priority":wn}))}return new W(u,Ye(n),N.Default)}}!function pg(t){Ni=t}(Ye);class On extends ea{constructor(n){super(),this.indexPath_=n,(0,L.hu)(!Ft(n)&&".priority"!==Bt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),o=this.extractChild(e.node),u=i.compareTo(o);return 0===u?Dr(n.name,e.name):u}makePost(n,e){const i=Ye(n),o=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new Lt(e,o)}maxPost(){const n=W.EMPTY_NODE.updateChild(this.indexPath_,Ue);return new Lt(wi,n)}toString(){return wd(this.indexPath_,0).join("/")}}const nl=new class Vr extends ea{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Dr(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Lt.MIN}maxPost(){return Lt.MAX}makePost(n,e){const i=Ye(n);return new Lt(e,i)}toString(){return".value"}};function ia(t){return{type:"value",snapshotNode:t}}function rs(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function il(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function ra(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class Td{constructor(n){this.index_=n}updateChild(n,e,i,o,u,h){(0,L.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=n.getImmediateChild(e);return v.getChild(o).equals(i.getChild(o))&&v.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(il(e,v)):(0,L.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?h.trackChildChange(rs(e,i)):h.trackChildChange(ra(e,i,v))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(wn,(o,u)=>{e.hasChild(o)||i.trackChildChange(il(o,u))}),e.isLeafNode()||e.forEachChild(wn,(o,u)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(u)||i.trackChildChange(ra(o,u,h))}else i.trackChildChange(rs(o,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?W.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jl{constructor(n){this.indexedFilter_=new Td(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Jl.getStartPost_(n),this.endPost_=Jl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,o,u,h){return this.matches(new Lt(e,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,o,u,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=W.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(W.EMPTY_NODE);const u=this;return e.forEachChild(wn,(h,v)=>{u.matches(new Lt(h,v))||(o=o.updateImmediateChild(h,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class af{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Jl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,o,u,h){return this.rangedFilter_.matches(new Lt(e,i))||(i=W.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,o,u,h):this.fullLimitUpdateChild_(n,e,i,u,h)}updateFullNode(n,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=W.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=W.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const v=u.getNext();if(this.withinDirectionalStart(v)){if(!this.withinDirectionalEnd(v))break;o=o.updateImmediateChild(v.name,v.node),h++}}}else{let u;o=e.withIndex(this.index_),o=o.updatePriority(W.EMPTY_NODE),u=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let h=0;for(;u.hasNext();){const v=u.getNext();h<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?h++:o=o.updateImmediateChild(v.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,o,u){let h;if(this.reverse_){const P=this.index_.getCompare();h=(B,ee)=>P(ee,B)}else h=this.index_.getCompare();const v=n;(0,L.hu)(v.numChildren()===this.limit_,"");const D=new Lt(e,i),I=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),M=this.rangedFilter_.matches(D);if(v.hasChild(e)){const P=v.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=B&&(B.name===e||v.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const ee=null==B?1:h(B,D);if(M&&!i.isEmpty()&&ee>=0)return u?.trackChildChange(ra(e,i,P)),v.updateImmediateChild(e,i);{u?.trackChildChange(il(e,P));const je=v.updateImmediateChild(e,W.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(u?.trackChildChange(rs(B.name,B.node)),je.updateImmediateChild(B.name,B.node)):je}}return i.isEmpty()?n:M&&h(I,D)>=0?(null!=u&&(u.trackChildChange(il(I.name,I.node)),u.trackChildChange(rs(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(I.name,W.EMPTY_NODE)):n}}class uu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wn}copy(){const n=new uu;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Sd(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function cf(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function _g(t,n){const e=t.copy();return e.index_=n,e}function vg(t){const n={};if(t.isDefault())return n;let e;if(t.index_===wn?e="$priority":t.index_===nl?e="$value":t.index_===is?e="$key":((0,L.hu)(t.index_ instanceof On,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,L.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,L.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,L.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,L.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,L.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function D_(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==wn&&(n.i=t.index_.toString()),n}class sa extends rf{constructor(n,e,i,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=zo("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,L.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const h=sa.getListenId_(n,i),v={};this.listens_[h]=v;const D=vg(n._queryParams);this.restRequest_(u+".json",D,(I,M)=>{let P=M;if(404===I&&(P=null,I=null),null===I&&this.onDataUpdate_(u,P,!1,i),(0,L.DV)(this.listens_,h)===v){let B;B=I?401===I?"permission_denied":"rest_error:"+I:"ok",o(B,null)}})}unlisten(n,e){const i=sa.getListenId_(n,e);delete this.listens_[i]}get(n){const e=vg(n._queryParams),i=n._path.toString(),o=new L.BH;return this.restRequest_(i+".json",e,(u,h)=>{let v=h;404===u&&(v=null,u=null),null===u?(this.onDataUpdate_(i,v,!1,null),o.resolve(v)):o.reject(new Error(v))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+h);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+h+" received. status:",v.status,"response:",v.responseText);let D=null;if(v.status>=200&&v.status<300){try{D=(0,L.cI)(v.responseText)}catch{Dn("Failed to parse JSON response for "+h+": "+v.responseText)}i(null,D)}else 401!==v.status&&404!==v.status&&Dn("Got unsuccessful REST response for "+h+" Status: "+v.status),i(v.status);i=null}},v.open("GET",h,!0),v.send()})}}class j0{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function uf(){return{value:null,children:new Map}}function Ad(t,n,e){if(Ft(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Bt(n);t.children.has(i)||t.children.set(i,uf()),Ad(t.children.get(i),n=fn(n),e)}}function $0(t,n){if(Ft(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(wn,(i,o)=>{Ad(t,new tn(i),o)}),$0(t,n)}}if(t.children.size>0){const e=Bt(n);return n=fn(n),t.children.has(e)&&$0(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function Nd(t,n,e){null!==t.value?e(n,t.value):function cC(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,o)=>{Nd(o,new tn(n.toString()+"/"+i),e)})}class G0{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&qn(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=n,e}}class z0{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new G0(n);const i=1e4+2e4*Math.random();lr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;qn(n,(o,u)=>{u>0&&(0,L.r3)(this.statsToReport_,o)&&(e[o]=u,i=!0)}),i&&this.server_.reportStats(e),lr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ss=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(ss||{});function df(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class hu{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=ss.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Ft(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(n));return new hu(qt(),e,this.revert)}}return(0,L.hu)(Bt(this.path)===n,"operationForChild called for unrelated child."),new hu(fn(this.path),this.affectedTree,this.revert)}}class Md{constructor(n,e){this.source=n,this.path=e,this.type=ss.LISTEN_COMPLETE}operationForChild(n){return Ft(this.path)?new Md(this.source,qt()):new Md(this.source,fn(this.path))}}class rl{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=ss.OVERWRITE}operationForChild(n){return Ft(this.path)?new rl(this.source,qt(),this.snap.getImmediateChild(n)):new rl(this.source,fn(this.path),this.snap)}}class oa{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=ss.MERGE}operationForChild(n){if(Ft(this.path)){const e=this.children.subtree(new tn(n));return e.isEmpty()?null:e.value?new rl(this.source,qt(),e.value):new oa(this.source,qt(),e)}return(0,L.hu)(Bt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,fn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ql{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ft(n))return this.isFullyInitialized()&&!this.filtered_;const e=Bt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Y0{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function hf(t,n,e,i,o,u){const h=i.filter(v=>v.type===e);h.sort((v,D)=>function K0(t,n,e){if(null==n.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new Lt(n.childName,n.snapshotNode),o=new Lt(e.childName,e.snapshotNode);return t.index_.compare(i,o)}(t,v,D)),h.forEach(v=>{const D=function dC(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,v,u);o.forEach(I=>{I.respondsTo(v.type)&&n.push(I.createEvent(D,t.query_))})})}function ff(t,n){return{eventCache:t,serverCache:n}}function Xl(t,n,e,i){return ff(new Ql(n,e,i),t.serverCache)}function bg(t,n,e,i){return ff(t.eventCache,new Ql(n,e,i))}function sl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let I_;class Pn{constructor(n,e=(()=>(I_||(I_=new Yi(Gl)),I_))()){this.value=n,this.children=e}static fromObject(n){let e=new Pn(null);return qn(n,(i,o)=>{e=e.set(new tn(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(Ft(n))return null;{const i=Bt(n),o=this.children.get(i);if(null!==o){const u=o.findRootMostMatchingPathAndValue(fn(n),e);return null!=u?{path:yn(new tn(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ft(n))return this;{const e=Bt(n),i=this.children.get(e);return null!==i?i.subtree(fn(n)):new Pn(null)}}set(n,e){if(Ft(n))return new Pn(e,this.children);{const i=Bt(n),u=(this.children.get(i)||new Pn(null)).set(fn(n),e),h=this.children.insert(i,u);return new Pn(this.value,h)}}remove(n){if(Ft(n))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const e=Bt(n),i=this.children.get(e);if(i){const o=i.remove(fn(n));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new Pn(null):new Pn(this.value,u)}return this}}get(n){if(Ft(n))return this.value;{const e=Bt(n),i=this.children.get(e);return i?i.get(fn(n)):null}}setTree(n,e){if(Ft(n))return e;{const i=Bt(n),u=(this.children.get(i)||new Pn(null)).setTree(fn(n),e);let h;return h=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Pn(this.value,h)}}fold(n){return this.fold_(qt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((o,u)=>{i[o]=u.fold_(yn(n,o),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,qt(),e)}findOnPath_(n,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(Ft(n))return null;{const u=Bt(n),h=this.children.get(u);return h?h.findOnPath_(fn(n),yn(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,qt(),e)}foreachOnPath_(n,e,i){if(Ft(n))return this;{this.value&&i(e,this.value);const o=Bt(n),u=this.children.get(o);return u?u.foreachOnPath_(fn(n),yn(e,o),i):new Pn(null)}}foreach(n){this.foreach_(qt(),n)}foreach_(n,e){this.children.inorderTraversal((i,o)=>{o.foreach_(yn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class os{constructor(n){this.writeTree_=n}static empty(){return new os(new Pn(null))}}function pf(t,n,e){if(Ft(n))return new os(new Pn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const o=i.path;let u=i.value;const h=Wi(o,n);return u=u.updateChild(h,e),new os(t.writeTree_.set(o,u))}{const o=new Pn(e),u=t.writeTree_.setTree(n,o);return new os(u)}}}function ec(t,n,e){let i=t;return qn(e,(o,u)=>{i=pf(i,yn(n,o),u)}),i}function gf(t,n){if(Ft(n))return os.empty();{const e=t.writeTree_.setTree(n,new Pn(null));return new os(e)}}function mf(t,n){return null!=tc(t,n)}function tc(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Wi(e.path,n)):null}function T_(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wn,(i,o)=>{n.push(new Lt(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&n.push(new Lt(i,o.value))}),n}function ol(t,n){if(Ft(n))return t;{const e=tc(t,n);return new os(null!=e?new Pn(e):t.writeTree_.subtree(n))}}function Eg(t){return t.writeTree_.isEmpty()}function Od(t,n){return Z0(qt(),t.writeTree_,n)}function Z0(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((o,u)=>{".priority"===o?((0,L.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=Z0(yn(t,o),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(yn(t,".priority"),i)),e}}function Dg(t,n){return DC(n,t)}function pC(t,n){if(t.snap)return ns(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ns(yn(t.path,e),n))return!0;return!1}function GS(t){return t.visible}function gC(t,n,e){let i=os.empty();for(let o=0;o<t.length;++o){const u=t[o];if(n(u)){const h=u.path;let v;if(u.snap)ns(e,h)?(v=Wi(e,h),i=pf(i,v,u.snap)):ns(h,e)&&(v=Wi(h,e),i=pf(i,qt(),u.snap.getChild(v)));else{if(!u.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(ns(e,h))v=Wi(e,h),i=ec(i,v,u.children);else if(ns(h,e))if(v=Wi(h,e),Ft(v))i=ec(i,qt(),u.children);else{const D=(0,L.DV)(u.children,Bt(v));if(D){const I=D.getChild(fn(v));i=pf(i,qt(),I)}}}}}return i}function mC(t,n,e,i,o){if(i||o){const u=ol(t.visibleWrites,n);return!o&&Eg(u)?e:o||null!=e||mf(u,qt())?Od(gC(t.allWrites,function(I){return(I.visible||o)&&(!i||!~i.indexOf(I.writeId))&&(ns(I.path,n)||ns(n,I.path))},n),e||W.EMPTY_NODE):null}{const u=tc(t.visibleWrites,n);if(null!=u)return u;{const h=ol(t.visibleWrites,n);return Eg(h)?e:null!=e||mf(h,qt())?Od(h,e||W.EMPTY_NODE):null}}}function Rd(t,n,e,i){return mC(t.writeTree,t.treePath,n,e,i)}function po(t,n){return function WS(t,n,e){let i=W.EMPTY_NODE;const o=tc(t.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(wn,(u,h)=>{i=i.updateImmediateChild(u,h)}),i;if(e){const u=ol(t.visibleWrites,n);return e.forEachChild(wn,(h,v)=>{const D=Od(ol(u,new tn(h)),v);i=i.updateImmediateChild(h,D)}),T_(u).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return T_(ol(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function xd(t,n,e,i){return function q0(t,n,e,i,o){(0,L.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const u=yn(n,e);if(mf(t.visibleWrites,u))return null;{const h=ol(t.visibleWrites,u);return Eg(h)?o.getChild(e):Od(h,o.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function vf(t,n){return function vC(t,n){return tc(t.visibleWrites,n)}(t.writeTree,yn(t.treePath,n))}function wg(t,n,e){return function _C(t,n,e,i){const o=yn(n,e),u=tc(t.visibleWrites,o);return null!=u?u:i.isCompleteForChild(e)?Od(ol(t.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function EC(t,n){return DC(yn(t.treePath,n),t.writeTree)}function DC(t,n){return{treePath:t,writeTree:n}}class zS{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,ra(i,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,il(i,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,rs(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,L.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(i,ra(i,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const Cg=new class S_{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class Q0{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Ql(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wg(this.writes_,n,i)}}getChildAfterChild(n,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fu(this.viewCache_),u=function J0(t,n,e,i,o,u){return function yC(t,n,e,i,o,u,h){let v;const D=ol(t.visibleWrites,n),I=tc(D,qt());if(null!=I)v=I;else{if(null==e)return[];v=Od(D,e)}if(v=v.withIndex(h),v.isEmpty()||v.isLeafNode())return[];{const M=[],P=h.getCompare(),B=u?v.getReverseIteratorFrom(i,h):v.getIteratorFrom(i,h);let ee=B.getNext();for(;ee&&M.length<o;)0!==P(ee,i)&&M.push(ee),ee=B.getNext();return M}}(t.writeTree,t.treePath,n,e,i,o,u)}(this.writes_,o,e,1,i,n);return 0===u.length?null:u[0]}}function eb(t,n,e,i,o,u){const h=n.eventCache;if(null!=vf(i,e))return n;{let v,D;if(Ft(e))if((0,L.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=fu(n),P=po(i,I instanceof W?I:W.EMPTY_NODE);v=t.filter.updateFullNode(n.eventCache.getNode(),P,u)}else{const I=Rd(i,fu(n));v=t.filter.updateFullNode(n.eventCache.getNode(),I,u)}else{const I=Bt(e);if(".priority"===I){(0,L.hu)(1===Qo(e),"Can't have a priority with additional path components");const M=h.getNode();D=n.serverCache.getNode();const P=xd(i,e,M,D);v=null!=P?t.filter.updatePriority(M,P):h.getNode()}else{const M=fn(e);let P;if(h.isCompleteForChild(I)){D=n.serverCache.getNode();const B=xd(i,e,h.getNode(),D);P=null!=B?h.getNode().getImmediateChild(I).updateChild(M,B):h.getNode().getImmediateChild(I)}else P=wg(i,I,n.serverCache);v=null!=P?t.filter.updateChild(h.getNode(),I,P,M,o,u):h.getNode()}}return Xl(n,v,h.isFullyInitialized()||Ft(e),t.filter.filtersNodes())}}function Ig(t,n,e,i,o,u,h,v){const D=n.serverCache;let I;const M=h?t.filter:t.filter.getIndexedFilter();if(Ft(e))I=M.updateFullNode(D.getNode(),i,null);else if(M.filtersNodes()&&!D.isFiltered()){const ee=D.getNode().updateChild(e,i);I=M.updateFullNode(D.getNode(),ee,null)}else{const ee=Bt(e);if(!D.isCompleteForPath(e)&&Qo(e)>1)return n;const Se=fn(e),$e=D.getNode().getImmediateChild(ee).updateChild(Se,i);I=".priority"===ee?M.updatePriority(D.getNode(),$e):M.updateChild(D.getNode(),ee,$e,Se,Cg,null)}const P=bg(n,I,D.isFullyInitialized()||Ft(e),M.filtersNodes());return eb(t,P,e,o,new Q0(o,P,u),v)}function Tg(t,n,e,i,o,u,h){const v=n.eventCache;let D,I;const M=new Q0(o,n,u);if(Ft(e))I=t.filter.updateFullNode(n.eventCache.getNode(),i,h),D=Xl(n,I,!0,t.filter.filtersNodes());else{const P=Bt(e);if(".priority"===P)I=t.filter.updatePriority(n.eventCache.getNode(),i),D=Xl(n,I,v.isFullyInitialized(),v.isFiltered());else{const B=fn(e),ee=v.getNode().getImmediateChild(P);let Se;if(Ft(B))Se=i;else{const je=M.getCompleteChild(P);Se=null!=je?".priority"===lg(B)&&je.getChild(ug(B)).isEmpty()?je:je.updateChild(B,i):W.EMPTY_NODE}D=ee.equals(Se)?n:Xl(n,t.filter.updateChild(v.getNode(),P,Se,B,M,h),v.isFullyInitialized(),t.filter.filtersNodes())}}return D}function yf(t,n){return t.eventCache.isCompleteForChild(n)}function Sg(t,n,e){return e.foreach((i,o)=>{n=n.updateChild(i,o)}),n}function A_(t,n,e,i,o,u,h,v){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let I,D=n;I=Ft(e)?i:new Pn(null).setTree(e,i);const M=n.serverCache.getNode();return I.children.inorderTraversal((P,B)=>{if(M.hasChild(P)){const Se=Sg(0,n.serverCache.getNode().getImmediateChild(P),B);D=Ig(t,D,new tn(P),Se,o,u,h,v)}}),I.children.inorderTraversal((P,B)=>{const ee=!n.serverCache.isCompleteForChild(P)&&null===B.value;if(!M.hasChild(P)&&!ee){const je=Sg(0,n.serverCache.getNode().getImmediateChild(P),B);D=Ig(t,D,new tn(P),je,o,u,h,v)}}),D}class tb{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Td(i.getIndex()),u=function b_(t){return t.loadsAllData()?new Td(t.getIndex()):t.hasLimit()?new af(t):new Jl(t)}(i);this.processor_=function YS(t){return{filter:t}}(u);const h=e.serverCache,v=e.eventCache,D=o.updateFullNode(W.EMPTY_NODE,h.getNode(),null),I=u.updateFullNode(W.EMPTY_NODE,v.getNode(),null),M=new Ql(D,h.isFullyInitialized(),o.filtersNodes()),P=new Ql(I,v.isFullyInitialized(),u.filtersNodes());this.viewCache_=ff(P,M),this.eventGenerator_=new Y0(this.query_)}get query(){return this.query_}}function NC(t,n){const e=fu(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Ft(n)&&!e.getImmediateChild(Bt(n)).isEmpty())?e.getChild(n):null}function ib(t){return 0===t.eventRegistrations_.length}function N_(t,n,e){const i=[];if(e){(0,L.hu)(null==n,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,o);h&&i.push(h)})}if(n){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const h=t.eventRegistrations_[u];if(h.matches(n)){if(n.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}else o.push(h)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function OC(t,n,e,i){n.type===ss.MERGE&&null!==n.source.queryId&&((0,L.hu)(fu(t.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(sl(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=function wC(t,n,e,i,o){const u=new zS;let h,v;if(e.type===ss.OVERWRITE){const I=e;I.source.fromUser?h=Tg(t,n,I.path,I.snap,i,o,u):((0,L.hu)(I.source.fromServer,"Unknown source."),v=I.source.tagged||n.serverCache.isFiltered()&&!Ft(I.path),h=Ig(t,n,I.path,I.snap,i,o,v,u))}else if(e.type===ss.MERGE){const I=e;I.source.fromUser?h=function IC(t,n,e,i,o,u,h){let v=n;return i.foreach((D,I)=>{const M=yn(e,D);yf(n,Bt(M))&&(v=Tg(t,v,M,I,o,u,h))}),i.foreach((D,I)=>{const M=yn(e,D);yf(n,Bt(M))||(v=Tg(t,v,M,I,o,u,h))}),v}(t,n,I.path,I.children,i,o,u):((0,L.hu)(I.source.fromServer,"Unknown source."),v=I.source.tagged||n.serverCache.isFiltered(),h=A_(t,n,I.path,I.children,i,o,v,u))}else if(e.type===ss.ACK_USER_WRITE){const I=e;h=I.revert?function SC(t,n,e,i,o,u){let h;if(null!=vf(i,e))return n;{const v=new Q0(i,n,o),D=n.eventCache.getNode();let I;if(Ft(e)||".priority"===Bt(e)){let M;if(n.serverCache.isFullyInitialized())M=Rd(i,fu(n));else{const P=n.serverCache.getNode();(0,L.hu)(P instanceof W,"serverChildren would be complete if leaf node"),M=po(i,P)}I=t.filter.updateFullNode(D,M,u)}else{const M=Bt(e);let P=wg(i,M,n.serverCache);null==P&&n.serverCache.isCompleteForChild(M)&&(P=D.getImmediateChild(M)),I=null!=P?t.filter.updateChild(D,M,P,fn(e),v,u):n.eventCache.getNode().hasChild(M)?t.filter.updateChild(D,M,W.EMPTY_NODE,fn(e),v,u):D,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Rd(i,fu(n)),h.isLeafNode()&&(I=t.filter.updateFullNode(I,h,u)))}return h=n.serverCache.isFullyInitialized()||null!=vf(i,qt()),Xl(n,I,h,t.filter.filtersNodes())}}(t,n,I.path,i,o,u):function Pd(t,n,e,i,o,u,h){if(null!=vf(o,e))return n;const v=n.serverCache.isFiltered(),D=n.serverCache;if(null!=i.value){if(Ft(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return Ig(t,n,e,D.getNode().getChild(e),o,u,v,h);if(Ft(e)){let I=new Pn(null);return D.getNode().forEachChild(is,(M,P)=>{I=I.set(new tn(M),P)}),A_(t,n,e,I,o,u,v,h)}return n}{let I=new Pn(null);return i.foreach((M,P)=>{const B=yn(e,M);D.isCompleteForPath(B)&&(I=I.set(M,D.getNode().getChild(B)))}),A_(t,n,e,I,o,u,v,h)}}(t,n,I.path,I.affectedTree,i,o,u)}else{if(e.type!==ss.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);h=function TC(t,n,e,i,o){const u=n.serverCache;return eb(t,bg(n,u.getNode(),u.isFullyInitialized()||Ft(e),u.isFiltered()),e,i,Cg,o)}(t,n,e.path,i,u)}const D=u.getChanges();return function CC(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=sl(t);(e.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(ia(sl(n)))}}(n,h,D),{viewCache:h,changes:D}}(t.processor_,o,n,e,i);return function X0(t,n){(0,L.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,L.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,kd(t,u.changes,u.viewCache.eventCache.getNode(),null)}function kd(t,n,e,i){return function uC(t,n,e,i){const o=[],u=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function ql(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),hf(t,o,"child_removed",n,i,e),hf(t,o,"child_added",n,i,e),hf(t,o,"child_moved",u,i,e),hf(t,o,"child_changed",n,i,e),hf(t,o,"value",n,i,e),o}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let rn,Df;class Fd{constructor(){this.views=new Map}}function Ag(t,n,e,i){const o=n.source.queryId;if(null!==o){const u=t.views.get(o);return(0,L.hu)(null!=u,"SyncTree gave us an op for an invalid query."),OC(u,n,e,i)}{let u=[];for(const h of t.views.values())u=u.concat(OC(h,n,e,i));return u}}function ob(t,n,e,i,o){const h=t.views.get(n._queryIdentifier);if(!h){let v=Rd(e,o?i:null),D=!1;v?D=!0:i instanceof W?(v=po(e,i),D=!1):(v=W.EMPTY_NODE,D=!1);const I=ff(new Ql(v,D,!1),new Ql(i,o,!1));return new tb(n,I)}return h}function bf(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function pu(t,n){let e=null;for(const i of t.views.values())e=e||NC(i,n);return e}function Ng(t,n){return n._queryParams.loadsAllData()?Ef(t):t.views.get(n._queryIdentifier)}function cb(t,n){return null!=Ng(t,n)}function aa(t){return null!=Ef(t)}function Ef(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let O_=1;class wf{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function bC(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R_(t,n,e,i,o){return function hC(t,n,e,i,o){(0,L.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:o}),o&&(t.visibleWrites=pf(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,o),o?ic(t,new rl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function go(t,n,e=!1){const i=function nc(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function _f(t,n){const e=t.allWrites.findIndex(v=>v.writeId===n);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let o=i.visible,u=!1,h=t.allWrites.length-1;for(;o&&h>=0;){const v=t.allWrites[h];v.visible&&(h>=e&&pC(v,i.path)?o=!1:ns(i.path,v.path)&&(u=!0)),h--}return!!o&&(u?(function $S(t){t.visibleWrites=gC(t.allWrites,GS,qt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=gf(t.visibleWrites,i.path):qn(i.children,D=>{t.visibleWrites=gf(t.visibleWrites,yn(i.path,D))}),!0))}(t.pendingWriteTree_,n)){let u=new Pn(null);return null!=i.snap?u=u.set(qt(),!0):qn(i.children,h=>{u=u.set(new tn(h),!0)}),ic(t,new hu(i.path,u,e))}return[]}function Ur(t,n,e){return ic(t,new rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function Og(t,n,e,i,o=!1){const u=n._path,h=t.syncPointTree_.get(u);let v=[];if(h&&("default"===n._queryIdentifier||cb(h,n))){const D=function lb(t,n,e,i){const o=n._queryIdentifier,u=[];let h=[];const v=aa(t);if("default"===o)for(const[D,I]of t.views.entries())h=h.concat(N_(I,e,i)),ib(I)&&(t.views.delete(D),I.query._queryParams.loadsAllData()||u.push(I.query));else{const D=t.views.get(o);D&&(h=h.concat(N_(D,e,i)),ib(D)&&(t.views.delete(o),D.query._queryParams.loadsAllData()||u.push(D.query)))}return v&&!aa(t)&&u.push(new(function sb(){return(0,L.hu)(rn,"Reference.ts has not been loaded"),rn}())(n._repo,n._path)),{removed:u,events:h}}(h,n,e,i);(function M_(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const I=D.removed;if(v=D.events,!o){const M=-1!==I.findIndex(B=>B._queryParams.loadsAllData()),P=t.syncPointTree_.findOnPath(u,(B,ee)=>aa(ee));if(M&&!P){const B=t.syncPointTree_.subtree(u);if(!B.isEmpty()){const ee=function ZS(t){return t.fold((n,e,i)=>{if(e&&aa(e))return[Ef(e)];{let o=[];return e&&(o=bf(e)),qn(i,(u,h)=>{o=o.concat(h)}),o}})}(B);for(let Se=0;Se<ee.length;++Se){const je=ee[Se],$e=je.query,pt=B_(t,je);t.listenProvider_.startListening(xg($e),mu(t,$e),pt.hashFn,pt.onComplete)}}}!P&&I.length>0&&!i&&(M?t.listenProvider_.stopListening(xg(n),null):I.forEach(B=>{const ee=t.queryToTagMap.get(V_(B));t.listenProvider_.stopListening(xg(B),ee)}))}!function Pg(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const o=V_(i),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}(t,I)}return v}function k_(t,n,e,i){const o=db(t,i);if(null!=o){const u=U_(o),h=u.path,v=u.queryId,D=Wi(h,n);return H_(t,h,new rl(df(v),D,e))}return[]}function F_(t,n,e,i=!1){const o=n._path;let u=null,h=!1;t.syncPointTree_.foreachOnPath(o,(B,ee)=>{const Se=Wi(B,o);u=u||pu(ee,Se),h=h||aa(ee)});let D,v=t.syncPointTree_.get(o);v?(h=h||aa(v),u=u||pu(v,qt())):(v=new Fd,t.syncPointTree_=t.syncPointTree_.set(o,v)),null!=u?D=!0:(D=!1,u=W.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((ee,Se)=>{const je=pu(Se,qt());je&&(u=u.updateImmediateChild(ee,je))}));const I=cb(v,n);if(!I&&!n._queryParams.loadsAllData()){const B=V_(n);(0,L.hu)(!t.queryToTagMap.has(B),"View does not exist, but we have a tag");const ee=function kC(){return O_++}();t.queryToTagMap.set(B,ee),t.tagToQueryMap.set(ee,B)}let P=function ab(t,n,e,i,o,u){const h=ob(t,n,i,o,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function MC(t,n){t.eventRegistrations_.push(n)}(h,e),function KS(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(wn,(u,h)=>{i.push(rs(u,h))}),e.isFullyInitialized()&&i.push(ia(e.getNode())),kd(t,i,e.getNode(),n)}(h,e)}(v,n,e,Dg(t.pendingWriteTree_,o),u,D);if(!I&&!h&&!i){const B=Ng(v,n);P=P.concat(function j_(t,n,e){const i=n._path,o=mu(t,n),u=B_(t,e),h=t.listenProvider_.startListening(xg(n),o,u.hashFn,u.onComplete),v=t.syncPointTree_.subtree(i);if(o)(0,L.hu)(!aa(v.value),"If we're adding a query, it shouldn't be shadowed");else{const D=v.fold((I,M,P)=>{if(!Ft(I)&&M&&aa(M))return[Ef(M).query];{let B=[];return M&&(B=B.concat(bf(M).map(ee=>ee.query))),qn(P,(ee,Se)=>{B=B.concat(Se)}),B}});for(let I=0;I<D.length;++I){const M=D[I];t.listenProvider_.stopListening(xg(M),mu(t,M))}}return h}(t,n,B))}return P}function Rg(t,n,e){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(h,v)=>{const I=pu(v,Wi(h,n));if(I)return I});return mC(o,n,u,e,!0)}function ic(t,n){return L_(n,t.syncPointTree_,null,Dg(t.pendingWriteTree_,qt()))}function L_(t,n,e,i){if(Ft(t.path))return ub(t,n,e,i);{const o=n.get(qt());null==e&&null!=o&&(e=pu(o,qt()));let u=[];const h=Bt(t.path),v=t.operationForChild(h),D=n.children.get(h);if(D&&v){const I=e?e.getImmediateChild(h):null,M=EC(i,h);u=u.concat(L_(v,D,I,M))}return o&&(u=u.concat(Ag(o,t,i,e))),u}}function ub(t,n,e,i){const o=n.get(qt());null==e&&null!=o&&(e=pu(o,qt()));let u=[];return n.children.inorderTraversal((h,v)=>{const D=e?e.getImmediateChild(h):null,I=EC(i,h),M=t.operationForChild(h);M&&(u=u.concat(ub(M,v,D,I)))}),o&&(u=u.concat(Ag(o,t,i,e))),u}function B_(t,n){const e=n.query,i=mu(t,e);return{hashFn:()=>(function nb(t){return t.viewCache_.serverCache.getNode()}(n)||W.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function xC(t,n,e){const i=db(t,e);if(i){const o=U_(i),u=o.path,h=o.queryId,v=Wi(u,n);return H_(t,u,new Md(df(h),v))}return[]}(t,e._path,i):function P_(t,n){return ic(t,new Md({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function qh(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(o,e);return Og(t,e,null,u)}}}}function mu(t,n){const e=V_(n);return t.queryToTagMap.get(e)}function V_(t){return t._path.toString()+"$"+t._queryIdentifier}function db(t,n){return t.tagToQueryMap.get(n)}function U_(t){const n=t.indexOf("$");return(0,L.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new tn(t.substr(0,n))}}function H_(t,n,e){const i=t.syncPointTree_.get(n);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),Ag(i,e,Dg(t.pendingWriteTree_,n),null)}function xg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function RC(){return(0,L.hu)(Df,"Reference.ts has not been loaded"),Df}())(t._repo,t._path):t}class Cf{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new Cf(e)}node(){return this.node_}}class rc{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=yn(this.path_,n);return new rc(this.syncTree_,e)}node(){return Rg(this.syncTree_,this.path_)}}const $_=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},kg=function(t,n,e){return t&&"object"==typeof t?((0,L.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?If(t[".sv"],n,e):"object"==typeof t[".sv"]?Fg(t[".sv"],n):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},If=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+t)},Fg=function(t,n,e){t.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const o=n.node();if((0,L.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},_u=function(t,n,e,i){return Sf(n,new rc(e,t),i)},Tf=function(t,n,e){return Sf(t,new Cf(n),e)};function Sf(t,n,e){const i=t.getPriority().val(),o=kg(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const h=t,v=kg(h.getValue(),n,e);return v!==h.getValue()||o!==h.getPriority().val()?new fo(v,Ye(o)):t}{const h=t;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new fo(o))),h.forEachChild(wn,(v,D)=>{const I=Sf(D,n.getImmediateChild(v),e);I!==D&&(u=u.updateImmediateChild(v,I))}),u}}class Bd{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function G_(t,n){let e=n instanceof tn?n:new tn(n),i=t,o=Bt(e);for(;null!==o;){const u=(0,L.DV)(i.node.children,o)||{children:{},childCount:0};i=new Bd(o,i,u),e=fn(e),o=Bt(e)}return i}function al(t){return t.node.value}function vu(t,n){t.node.value=n,z_(t)}function hb(t){return t.node.childCount>0}function Lg(t,n){qn(t.node.children,(e,i)=>{n(new Bd(e,t,i))})}function pb(t,n,e,i){e&&!i&&n(t),Lg(t,o=>{pb(o,n,!0,i)}),e&&i&&n(t)}function Vd(t){return new tn(null===t.parent?t.name:Vd(t.parent)+"/"+t.name)}function z_(t){null!==t.parent&&function FC(t,n,e){const i=function fb(t){return void 0===al(t)&&!hb(t)}(e),o=(0,L.r3)(t.node.children,n);i&&o?(delete t.node.children[n],t.node.childCount--,z_(t)):!i&&!o&&(t.node.children[n]=e.node,t.node.childCount++,z_(t))}(t.parent,t.name,t)}const qS=/[\[\].#$\/\u0000-\u001F\u007F]/,LC=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10485760,Hd=function(t){return"string"==typeof t&&0!==t.length&&!qS.test(t)},gb=function(t){return"string"==typeof t&&0!==t.length&&!LC.test(t)},yu=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Lr(t)||t&&"object"==typeof t&&(0,L.r3)(t,".sv")},as=function(t,n,e,i){i&&void 0===n||Af((0,L.gK)(t,"value"),n,e)},Af=function(t,n,e){const i=e instanceof tn?new H0(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Xo(i));if("function"==typeof n)throw new Error(t+"contains a function "+Xo(i)+" with contents = "+n.toString());if(Lr(n))throw new Error(t+"contains "+n.toString()+" "+Xo(i));if("string"==typeof n&&n.length>Ud/3&&(0,L.ug)(n)>Ud)throw new Error(t+"contains a string greater than "+Ud+" utf8 bytes "+Xo(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,u=!1;if(qn(n,(h,v)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!Hd(h)))throw new Error(t+" contains an invalid key ("+h+") "+Xo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function m_(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,L.ug)(n),sf(t)})(i,h),Af(t,v,i),function dg(t){const n=t.parts_.pop();t.byteLength_-=(0,L.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),o&&u)throw new Error(t+' contains ".value" child '+Xo(i)+" in addition to actual children.")}},vb=function(t,n,e,i){if(i&&void 0===n)return;const o=(0,L.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];qn(n,(h,v)=>{const D=new tn(h);if(Af(o,v,yn(e,D)),".priority"===lg(D)&&!yu(v))throw new Error(o+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(D)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=wd(i);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!Hd(u[h]))throw new Error(t+"contains an invalid key ("+u[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(U0);let o=null;for(e=0;e<n.length;e++){if(i=n[e],null!==o&&ns(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,u)},Bg=function(t,n,e){if(!e||void 0!==n){if(Lr(n))throw new Error((0,L.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yu(n))throw new Error((0,L.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vg=function(t,n,e,i){if(!(i&&void 0===e||Hd(e)))throw new Error((0,L.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nf=function(t,n,e,i){if(!(i&&void 0===e||gb(e)))throw new Error((0,L.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ug=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Nf(t,n,e,i)},xs=function(t,n){if(".info"===Bt(n))throw new Error(t+" failed = Can't modify data under /.info/")},bu=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Hd(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gb(t)}(e))throw new Error((0,L.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hg(t,n){let e=null;for(let i=0;i<n.length;i++){const o=n[i],u=o.getPath();null!==e&&!ou(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&t.eventLists_.push(e)}function Y_(t,n,e){Hg(t,e),yb(t,i=>ou(i,n))}function ls(t,n,e){Hg(t,e),yb(t,i=>ns(i,n)||ns(n,i))}function yb(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];o&&(n(o.path)?(BC(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function BC(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();$i&&Zn("event: "+e.toString()),vn(i)}}}const K_="repo_interrupt",bb=25;class Z_{constructor(n,e,i,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uf(),this.transactionQueueTree_=new Bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jg(t){const e=t.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function jd(t){return $_({timestamp:jg(t)})}function Eb(t,n,e,i,o){t.dataUpdateCount++;const u=new tn(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(o)if(i){const D=(0,L.UI)(e,I=>Ye(I));h=function Ld(t,n,e,i){const o=db(t,i);if(o){const u=U_(o),h=u.path,v=u.queryId,D=Wi(h,n),I=Pn.fromObject(e);return H_(t,h,new oa(df(v),D,I))}return[]}(t.serverSyncTree_,u,D,o)}else{const D=Ye(e);h=k_(t.serverSyncTree_,u,D,o)}else if(i){const D=(0,L.UI)(e,I=>Ye(I));h=function Mg(t,n,e){const i=Pn.fromObject(e);return ic(t,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,D)}else{const D=Ye(e);h=Ur(t.serverSyncTree_,u,D)}let v=u;h.length>0&&(v=Pf(t,u)),ls(t.eventQueue_,v,h)}function Db(t,n){q_(t,"connected",n),!1===n&&function Cb(t){Rf(t,"onDisconnectEvents");const n=jd(t),e=uf();Nd(t.onDisconnect_,qt(),(o,u)=>{const h=_u(o,u,t.serverSyncTree_,n);Ad(e,o,h)});let i=[];Nd(e,qt(),(o,u)=>{i=i.concat(Ur(t.serverSyncTree_,o,u));const h=kf(t,o);Pf(t,h)}),t.onDisconnect_=uf(),ls(t.eventQueue_,qt(),i)}(t)}function q_(t,n,e){const i=new tn("/.info/"+n),o=Ye(e);t.infoData_.updateSnapshot(i,o);const u=Ur(t.infoSyncTree_,i,o);ls(t.eventQueue_,i,u)}function Of(t){return t.nextWriteId_++}function J_(t,n,e,i,o){Rf(t,"set",{path:n.toString(),value:e,priority:i});const u=jd(t),h=Ye(e,i),v=Rg(t.serverSyncTree_,n),D=Tf(h,v,u),I=Of(t),M=R_(t.serverSyncTree_,n,D,I,!0);Hg(t.eventQueue_,M),t.server_.put(n.toString(),h.val(!0),(B,ee)=>{const Se="ok"===B;Se||Dn("set at "+n+" failed: "+B);const je=go(t.serverSyncTree_,I,!Se);ls(t.eventQueue_,n,je),sc(0,o,B,ee)});const P=kf(t,n);Pf(t,P),ls(t.eventQueue_,P,[])}function Ib(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,o)=>{"ok"===i&&$0(t.onDisconnect_,n),sc(0,e,i,o)})}function Ps(t,n,e,i){const o=Ye(e);t.server_.onDisconnectPut(n.toString(),o.val(!0),(u,h)=>{"ok"===u&&Ad(t.onDisconnect_,n,o),sc(0,i,u,h)})}function la(t,n,e){let i;i=".info"===Bt(n._path)?Og(t.infoSyncTree_,n,e):Og(t.serverSyncTree_,n,e),Y_(t.eventQueue_,n._path,i)}function $g(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K_)}function Rf(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Zn(e,...n)}function sc(t,n,e,i){n&&vn(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let u=o;i&&(u+=": "+i);const h=new Error(u);h.code=o,n(h)}})}function ks(t,n,e){return Rg(t.serverSyncTree_,n,e)||W.EMPTY_NODE}function xf(t,n=t.transactionQueueTree_){if(n||Wg(t,n),al(n)){const e=Gg(t,n);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function HC(t,n,e){const i=e.map(I=>I.currentWriteId),o=ks(t,n,i);let u=o;const h=o.hash();for(let I=0;I<e.length;I++){const M=e[I];(0,L.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const P=Wi(n,M.path);u=u.updateChild(P,M.currentOutputSnapshotRaw)}const v=u.val(!0),D=n;t.server_.put(D.toString(),v,I=>{Rf(t,"transaction put response",{path:D.toString(),status:I});let M=[];if("ok"===I){const P=[];for(let B=0;B<e.length;B++)e[B].status=2,M=M.concat(go(t.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&P.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();Wg(t,G_(t.transactionQueueTree_,n)),xf(t,t.transactionQueueTree_),ls(t.eventQueue_,n,M);for(let B=0;B<P.length;B++)vn(P[B])}else{if("datastale"===I)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{Dn("transaction at "+D.toString()+" failed: "+I);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=I}Pf(t,n)}},h)}(t,Vd(n),e)}else hb(n)&&Lg(n,e=>{xf(t,e)})}function Pf(t,n){const e=Sb(t,n),i=Vd(e);return function Bi(t,n,e){if(0===n.length)return;const i=[];let o=[];const h=n.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<n.length;v++){const D=n[v],I=Wi(e,D.path);let P,M=!1;if((0,L.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)M=!0,P=D.abortReason,o=o.concat(go(t.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=bb)M=!0,P="maxretry",o=o.concat(go(t.serverSyncTree_,D.currentWriteId,!0));else{const B=ks(t,D.path,h);D.currentInputSnapshot=B;const ee=n[v].update(B.val());if(void 0!==ee){Af("transaction failed: Data returned ",ee,D.path);let Se=Ye(ee);"object"==typeof ee&&null!=ee&&(0,L.r3)(ee,".priority")||(Se=Se.updatePriority(B.getPriority()));const $e=D.currentWriteId,pt=jd(t),gt=Tf(Se,B,pt);D.currentOutputSnapshotRaw=Se,D.currentOutputSnapshotResolved=gt,D.currentWriteId=Of(t),h.splice(h.indexOf($e),1),o=o.concat(R_(t.serverSyncTree_,D.path,gt,D.currentWriteId,D.applyLocally)),o=o.concat(go(t.serverSyncTree_,$e,!0))}else M=!0,P="nodata",o=o.concat(go(t.serverSyncTree_,D.currentWriteId,!0))}ls(t.eventQueue_,e,o),o=[],M&&(n[v].status=2,setTimeout(n[v].unwatcher,Math.floor(0)),n[v].onComplete&&i.push("nodata"===P?()=>n[v].onComplete(null,!1,n[v].currentInputSnapshot):()=>n[v].onComplete(new Error(P),!1,null)))}Wg(t,t.transactionQueueTree_);for(let v=0;v<i.length;v++)vn(i[v]);xf(t,t.transactionQueueTree_)}(t,Gg(t,e),i),i}function Sb(t,n){let e,i=t.transactionQueueTree_;for(e=Bt(n);null!==e&&void 0===al(i);)i=G_(i,e),e=Bt(n=fn(n));return i}function Gg(t,n){const e=[];return Ab(t,n,e),e.sort((i,o)=>i.order-o.order),e}function Ab(t,n,e){const i=al(n);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Lg(n,o=>{Ab(t,o,e)})}function Wg(t,n){const e=al(n);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,vu(n,e.length>0?e:void 0)}Lg(n,i=>{Wg(t,i)})}function kf(t,n){const e=Vd(Sb(t,n)),i=G_(t.transactionQueueTree_,n);return function W_(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,o=>{zg(t,o)}),zg(t,i),pb(i,o=>{zg(t,o)}),e}function zg(t,n){const e=al(n);if(e){const i=[];let o=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,L.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,L.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(go(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?vu(n,void 0):e.length=u+1,ls(t.eventQueue_,Vd(n),o);for(let h=0;h<i.length;h++)vn(i[h])}}const Yg=function(t,n){const e=Mb(t),i=e.namespace;return"firebase.com"===e.domain&&or(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ze(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new tn(e.pathString)}},Mb=function(t){let n="",e="",i="",o="",u="",h=!0,v="https",D=443;if("string"==typeof t){let I=t.indexOf("//");I>=0&&(v=t.substring(0,I-1),t=t.substring(I+2));let M=t.indexOf("/");-1===M&&(M=t.length);let P=t.indexOf("?");-1===P&&(P=t.length),n=t.substring(0,Math.min(M,P)),M<P&&(o=function Nb(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(t.substring(M,P)));const B=function jC(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Dn(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,P)));I=n.indexOf(":"),I>=0?(h="https"===v||"wss"===v,D=parseInt(n.substring(I+1),10)):I=n.length;const ee=n.slice(0,I);if("localhost"===ee.toLowerCase())e="localhost";else if(ee.split(".").length<=2)e=ee;else{const Se=n.indexOf(".");i=n.substring(0,Se).toLowerCase(),e=n.substring(Se+1),u=i}"ns"in B&&(u=B.ns)}return{host:n,port:D,domain:e,subdomain:i,secure:h,scheme:v,pathString:o,namespace:u}},Ob="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$C=function(){let t=0;const n=[];return function(e){const i=e===t;let o;t=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Ob.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Ob.charAt(n[o]);return(0,L.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class Rb{constructor(n,e,i,o){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class ev{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class oc{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class ca{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new L.BH;return Ib(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){xs("OnDisconnect.remove",this._path);const n=new L.BH;return Ps(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){xs("OnDisconnect.set",this._path),as("OnDisconnect.set",n,this._path,!1);const e=new L.BH;return Ps(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){xs("OnDisconnect.setWithPriority",this._path),as("OnDisconnect.setWithPriority",n,this._path,!1),Bg("OnDisconnect.setWithPriority",e,!1);const i=new L.BH;return function Tb(t,n,e,i,o){const u=Ye(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(h,v)=>{"ok"===h&&Ad(t.onDisconnect_,n,u),sc(0,o,h,v)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){xs("OnDisconnect.update",this._path),vb("OnDisconnect.update",n,this._path,!1);const e=new L.BH;return function XS(t,n,e,i){if((0,L.xb)(e))return Zn("onDisconnect().update() called with empty data.  Don't do anything."),void sc(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(o,u)=>{"ok"===o&&qn(e,(h,v)=>{const D=Ye(v);Ad(t.onDisconnect_,yn(n,h),D)}),sc(0,i,o,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Mi{constructor(n,e,i,o){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return Ft(this._path)?null:lg(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const n=D_(this._queryParams),e=oo(n);return"{}"===e?"default":e}get _queryObject(){return D_(this._queryParams)}isEqual(n){if(!((n=(0,L.m9)(n))instanceof Mi))return!1;const e=this._repo===n._repo,i=ou(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function cg(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function Kg(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function ac(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===is){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ar)throw new Error(i);if("string"!=typeof n)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==wi)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(t.getIndex()===wn){if(null!=n&&!yu(n)||null!=e&&!yu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(t.getIndex()instanceof On||t.getIndex()===nl,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ff(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends Mi{constructor(n,e){super(n,e,new uu,!1)}get parent(){const n=ug(this._path);return null===n?null:new cs(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class ll{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new tn(n),i=lc(this.ref,n);return new ll(this._node.getChild(e),i,wn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>n(new ll(o,lc(this.ref,i),wn)))}hasChild(n){const e=new tn(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $d(t,n){return(t=(0,L.m9)(t))._checkNotDeleted("ref"),void 0!==n?lc(t._root,n):t._root}function Lf(t,n){(t=(0,L.m9)(t))._checkNotDeleted("refFromURL");const e=Yg(n,t._repo.repoInfo_.nodeAdmin);bu("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&or("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),$d(t,e.path.toString())}function lc(t,n){return null===Bt((t=(0,L.m9)(t))._path)?Ug("child","path",n,!1):Nf("child","path",n,!1),new cs(t._repo,yn(t._path,n))}function tv(t,n){t=(0,L.m9)(t),xs("set",t._path),as("set",n,t._path,!1);const e=new L.BH;return J_(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function eA(t,n){vb("update",n,t._path,!1);const e=new L.BH;return function QS(t,n,e,i){Rf(t,"update",{path:n.toString(),value:e});let o=!0;const u=jd(t),h={};if(qn(e,(v,D)=>{o=!1,h[v]=_u(yn(n,v),Ye(D),t.serverSyncTree_,u)}),o)Zn("update() called with empty data.  Don't do anything."),sc(0,i,"ok",void 0);else{const v=Of(t),D=function x_(t,n,e,i){!function fC(t,n,e,i){(0,L.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=ec(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const o=Pn.fromObject(e);return ic(t,new oa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(t.serverSyncTree_,n,h,v);Hg(t.eventQueue_,D),t.server_.merge(n.toString(),e,(I,M)=>{const P="ok"===I;P||Dn("update at "+n+" failed: "+I);const B=go(t.serverSyncTree_,v,!P),ee=B.length>0?Pf(t,n):n;ls(t.eventQueue_,ee,B),sc(0,i,I,M)}),qn(e,I=>{const M=kf(t,yn(n,I));Pf(t,M)}),ls(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function KC(t){t=(0,L.m9)(t);const n=new oc(()=>{}),e=new Zg(n);return function VC(t,n,e){const i=function PC(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(I,M)=>{const P=Wi(I,e);i=i||pu(M,P)});let o=t.syncPointTree_.get(e);o?i=i||pu(o,qt()):(o=new Fd,t.syncPointTree_=t.syncPointTree_.set(e,o));const u=null!=i,h=u?new Ql(i,!0,!1):null;return function AC(t){return sl(t.viewCache_)}(ob(o,n,Dg(t.pendingWriteTree_,n._path),u?h.getNode():W.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(o=>{const u=Ye(o).withIndex(n._queryParams.getIndex());let h;if(F_(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=Ur(t.serverSyncTree_,n._path,u);else{const v=mu(t.serverSyncTree_,n);h=k_(t.serverSyncTree_,n._path,u,v)}return ls(t.eventQueue_,n._path,h),Og(t.serverSyncTree_,n,e,null,!0),u},o=>(Rf(t,"get for query "+(0,L.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(t._repo,t,e).then(i=>new ll(i,new cs(t._repo,t._path),t._queryParams.getIndex()))}class Zg{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new Rb("value",this,new ll(n.snapshotNode,new cs(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ev(this,n,e):null}matches(n){return n instanceof Zg&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class nv{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ev(this,n,e):null}createEvent(n,e){(0,L.hu)(null!=n.childName,"Child events should have a childName.");const i=lc(new cs(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new Rb(n.type,this,new ll(n.snapshotNode,i,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof nv&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Gd(t,n,e,i,o){let u;if("object"==typeof i&&(u=void 0,o=i),"function"==typeof i&&(u=i),o&&o.onlyOnce){const D=e,I=(M,P)=>{la(t._repo,t,v),D(M,P)};I.userCallback=e.userCallback,I.context=e.context,e=I}const h=new oc(e,u||void 0),v="value"===n?new Zg(h):new nv(n,h);return function Q_(t,n,e){let i;i=".info"===Bt(n._path)?F_(t.infoSyncTree_,n,e):F_(t.serverSyncTree_,n,e),Y_(t.eventQueue_,n._path,i)}(t._repo,t,v),()=>la(t._repo,t,v)}function qg(t,n,e,i){return Gd(t,"value",n,e,i)}function ZC(t,n,e,i){return Gd(t,"child_added",n,e,i)}function Bf(t,n,e,i){return Gd(t,"child_changed",n,e,i)}function qC(t,n,e,i){return Gd(t,"child_moved",n,e,i)}function iv(t,n,e,i){return Gd(t,"child_removed",n,e,i)}function rv(t,n,e){let i=null;const o=e?new oc(e):null;"value"===n?i=new Zg(o):n&&(i=new nv(n,o)),la(t._repo,t,i)}class mo{}class sv extends mo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("endAt",this._value,n._path,!0);const e=cf(n._queryParams,this._value,this._key);if(Ff(e),ac(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class kt extends mo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("endBefore",this._value,n._path,!1);const e=function lC(t,n,e){let i;return i=cf(t,n,t.index_===is||e?e:ar),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(Ff(e),ac(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class ov extends mo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("startAt",this._value,n._path,!0);const e=Sd(n._queryParams,this._value,this._key);if(Ff(e),ac(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Fb extends mo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("startAfter",this._value,n._path,!1);const e=function E_(t,n,e){let i;return i=Sd(t,n,t.index_===is||e?e:wi),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(Ff(e),ac(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Jg extends mo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function lf(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class av extends mo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function mg(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Lb extends mo{constructor(n){super(),this._path=n}_apply(n){Kg(n,"orderByChild");const e=new tn(this._path);if(Ft(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new On(e),o=_g(n._queryParams,i);return ac(o),new Mi(n._repo,n._path,o,!0)}}class cv extends mo{_apply(n){Kg(n,"orderByKey");const e=_g(n._queryParams,is);return ac(e),new Mi(n._repo,n._path,e,!0)}}class Bb extends mo{_apply(n){Kg(n,"orderByPriority");const e=_g(n._queryParams,wn);return ac(e),new Mi(n._repo,n._path,e,!0)}}class QC extends mo{_apply(n){Kg(n,"orderByValue");const e=_g(n._queryParams,nl);return ac(e),new Mi(n._repo,n._path,e,!0)}}class eI extends mo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(as("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sv(this._value,this._key)._apply(new ov(this._value,this._key)._apply(n))}}function _o(t,...n){let e=(0,L.m9)(t);for(const i of n)e=i._apply(e);return e}(function rb(t){(0,L.hu)(!rn,"__referenceConstructor has already been defined"),rn=t})(cs),function gu(t){(0,L.hu)(!Df,"__referenceConstructor has already been defined"),Df=t}(cs);const hv={};function fv(t,n,e,i,o){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zn("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let D,I,h=Yg(u,o),v=h.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(D=!0,u=`http://${I}?ns=${v.namespace}`,h=Yg(u,o),v=h.repoInfo):D=!h.repoInfo.secure;const M=o&&D?new lo(lo.OWNER):new Jp(t.name,t.options,n);bu("Invalid Firebase Database URL",h),Ft(h.path)||or("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function iI(t,n,e,i){let o=hv[n.name];o||(o={},hv[n.name]=o);let u=o[t.toURLString()];return u&&or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new Z_(t,false,e,i),o[t.toURLString()]=u,u}(v,t,M,new _d(t.name,e));return new rI(P,t)}class rI{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function JS(t,n,e){if(t.stats_=Ms(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new sa(t.repoInfo_,(i,o,u,h)=>{Eb(t,i,o,u,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Db(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Br(t.repoInfo_,n,(i,o,u,h)=>{Eb(t,i,o,u,h)},i=>{Db(t,i)},i=>{!function wb(t,n){qn(n,(e,i)=>{q_(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function Vn(t,n){const e=t.toString();return Bn[e]||(Bn[e]=n()),Bn[e]}(t.repoInfo_,()=>new z0(t.stats_,t.server_)),t.infoData_=new j0,t.infoSyncTree_=new wf({startListening:(i,o,u,h)=>{let v=[];const D=t.infoData_.getNode(i._path);return D.isEmpty()||(v=Ur(t.infoSyncTree_,i._path,D),setTimeout(()=>{h("ok")},0)),v},stopListening:()=>{}}),q_(t,"connected",!1),t.serverSyncTree_=new wf({startListening:(i,o,u,h)=>(t.server_.listen(i,u,o,(v,D)=>{const I=h(v,D);ls(t.eventQueue_,i._path,I)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function nI(t,n){const e=hv[n];(!e||e[t.key]!==t)&&or(`Database ${n}(${t.repoInfo_}) has already been deleted.`),$g(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&or("Cannot call "+n+" on a deleted database.")}}function jb(){nu.IS_TRANSPORT_INITIALIZED&&Dn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function tA(){jb(),Jo.forceDisallow()}function pv(){jb(),Os.forceDisallow(),Jo.forceAllow()}function Gb(t,n){Ya(t,n)}const cI={".sv":"timestamp"};class dI{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Br.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Br.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function lI(t){Kc(Ul.SDK_VERSION),(0,Ul._registerComponent)(new Fr.wA("database",(n,{instanceIdentifier:e})=>fv(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ul.registerVersion)(Jr,"0.14.4",t),(0,Ul.registerVersion)(Jr,"0.14.4","esm2017")}();const fI=new $o.Yd("@firebase/database-compat"),_v=function(t){fI.warn("FIREBASE WARNING: "+t)};class zb{constructor(n){this._delegate=n}cancel(n){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(n,e);return i&&o.then(()=>i(null),u=>i(u)),o}update(n,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,_v("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),o=>e(o)),i}}class Qg{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class da{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Nf("DataSnapshot.child","path",n,!1),new da(this._database,this._delegate.child(n))}hasChild(n){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Nf("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new da(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ur{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,o){var u;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const h=ur.getCancelAndContextArgs_("Query.on",i,o),v=(I,M)=>{e.call(h.context,new da(this.database,I),M)};v.userCallback=e,v.context=h.context;const D=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(n){case"value":return qg(this._delegate,v,D),e;case"child_added":return ZC(this._delegate,v,D),e;case"child_removed":return iv(this._delegate,v,D),e;case"child_changed":return Bf(this._delegate,v,D),e;case"child_moved":return qC(this._delegate,v,D),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,rv(this._delegate,n,o)}else rv(this._delegate,n)}get(){return KC(this._delegate).then(n=>new da(this.database,n))}once(n,e,i,o){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const u=ur.getCancelAndContextArgs_("Query.once",i,o),h=new L.BH,v=(I,M)=>{const P=new da(this.database,I);e&&e.call(u.context,P,M),h.resolve(P)};v.userCallback=e,v.context=u.context;const D=I=>{u.cancel&&u.cancel.call(u.context,I),h.reject(I)};switch(n){case"value":qg(this._delegate,v,D,{onlyOnce:!0});break;case"child_added":ZC(this._delegate,v,D,{onlyOnce:!0});break;case"child_removed":iv(this._delegate,v,D,{onlyOnce:!0});break;case"child_changed":Bf(this._delegate,v,D,{onlyOnce:!0});break;case"child_moved":qC(this._delegate,v,D,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new ur(this.database,_o(this._delegate,function zd(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jg(t)}(n)))}limitToLast(n){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new ur(this.database,_o(this._delegate,function Vf(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new av(t)}(n)))}orderByChild(n){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new ur(this.database,_o(this._delegate,function lv(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Nf("orderByChild","path",t,!1),new Lb(t)}(n)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new ur(this.database,_o(this._delegate,function uv(){return new cv}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new ur(this.database,_o(this._delegate,function dv(){return new Bb}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new ur(this.database,_o(this._delegate,function XC(){return new QC}()))}startAt(n=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new ur(this.database,_o(this._delegate,function Wd(t=null,n){return Vg("startAt","key",n,!0),new ov(t,n)}(n,e)))}startAfter(n=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new ur(this.database,_o(this._delegate,function JC(t,n){return Vg("startAfter","key",n,!0),new Fb(t,n)}(n,e)))}endAt(n=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new ur(this.database,_o(this._delegate,function Pb(t,n){return Vg("endAt","key",n,!0),new sv(t,n)}(n,e)))}endBefore(n=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new ur(this.database,_o(this._delegate,function kb(t,n){return Vg("endBefore","key",n,!0),new kt(t,n)}(n,e)))}equalTo(n,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new ur(this.database,_o(this._delegate,function Vb(t,n){return Vg("equalTo","key",n,!0),new eI(t,n)}(n,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof ur))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,L.Wj)(n,"cancel",o.cancel,!0),o.context=i,(0,L.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Hr(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Hr extends ur{constructor(n,e){super(n,new Mi(e._repo,e._path,new uu,!1)),this.database=n,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Hr(this.database,lc(this._delegate,n))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Hr(this.database,n):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Hr(this.database,this._delegate.root)}set(n,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const i=tv(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}update(n,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,_v("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xs("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const i=eA(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function xb(t,n,e){if(xs("setWithPriority",t._path),as("setWithPriority",n,t._path,!1),Bg("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new L.BH;return J_(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&o.then(()=>i(null),u=>i(u)),o}remove(n){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",n,!0);const e=function zC(t){return xs("remove",t._path),tv(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function hI(t,n,e){var i;if(t=(0,L.m9)(t),xs("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,u=new L.BH,v=qg(t,()=>{});return function X_(t,n,e,i,o,u){Rf(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:Wo(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=ks(t,n,void 0);h.currentInputSnapshot=v;const D=h.update(v.val());if(void 0===D)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Af("transaction failed: Data returned ",D,h.path),h.status=0;const I=G_(t.transactionQueueTree_,n),M=al(I)||[];let P;M.push(h),vu(I,M),"object"==typeof D&&null!==D&&(0,L.r3)(D,".priority")?(P=(0,L.DV)(D,".priority"),(0,L.hu)(yu(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(Rg(t.serverSyncTree_,n)||W.EMPTY_NODE).getPriority().val();const B=jd(t),ee=Ye(D,P),Se=Tf(ee,v,B);h.currentOutputSnapshotRaw=ee,h.currentOutputSnapshotResolved=Se,h.currentWriteId=Of(t);const je=R_(t.serverSyncTree_,n,Se,h.currentWriteId,h.applyLocally);ls(t.eventQueue_,n,je),xf(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(D,I,M)=>{let P=null;D?u.reject(D):(P=new ll(M,new cs(t._repo,t._path),wn),u.resolve(new dI(I,P)))},v,o),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new Qg(u.committed,new da(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(n,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const i=function YC(t,n){t=(0,L.m9)(t),xs("setPriority",t._path),Bg("setPriority",n,!1);const e=new L.BH;return J_(t._repo,yn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}push(n,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const i=function WC(t,n){t=(0,L.m9)(t),xs("push",t._path),as("push",n,t._path,!0);const e=jg(t._repo),i=$C(e),o=lc(t,i),u=lc(t,i);let h;return h=null!=n?tv(u,n).then(()=>u):Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,n),o=i.then(h=>new Hr(this.database,h));e&&o.then(()=>e(null),h=>e(h));const u=new Hr(this.database,i);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return xs("Reference.onDisconnect",this._delegate._path),new zb(new ca(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yd{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:tA,forceLongPolling:pv}}useEmulator(n,e,i={}){!function $b(t,n,e,i={}){(t=(0,L.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&or("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new lo(lo.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,t.app.options.projectId);u=new lo(h)}!function Hb(t,n,e,i){t.repoInfo_=new Ze(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(o,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,L.Dv)("database.ref",0,1,arguments.length),n instanceof Hr){const e=Lf(this._delegate,n.toString());return new Hr(this,e)}{const e=$d(this._delegate,n);return new Hr(this,e)}}refFromURL(n){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=Lf(this._delegate,n);return new Hr(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function oI(t){(t=(0,L.m9)(t))._checkNotDeleted("goOffline"),$g(t._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function aI(t){(t=(0,L.m9)(t))._checkNotDeleted("goOnline"),function UC(t){t.persistentConnection_&&t.persistentConnection_.resume(K_)}(t._repo)}(this._delegate)}}Yd.ServerValue={TIMESTAMP:function gv(){return cI}(),increment:t=>function uI(t){return{".sv":{increment:t}}}(t)};var Kb=Object.freeze({__proto__:null,initStandalone:function Yb({app:t,url:n,version:e,customAuthImpl:i,namespace:o,nodeAdmin:u=!1}){Kc(e);const h=new Fr.zt("auth-internal",new Fr.H0("database-standalone"));return h.setComponent(new Fr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Yd(fv(t,h,void 0,n,u),t),namespace:o}}});const vv=Yd.ServerValue;!function cl(t){t.INTERNAL.registerComponent(new Fr.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new Yd(o,i)},"PUBLIC").setServiceProps({Reference:Hr,Query:ur,Database:Yd,DataSnapshot:da,enableLogging:Gb,INTERNAL:Kb,ServerValue:vv}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Ga.Z);var Hn=R(8645),Vi=R(2459),Kd=R(3093),gI=R(4552);class Zb extends Hn.x{constructor(n=1/0,e=1/0,i=gI.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;e||(i.push(n),!o&&i.push(u.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!n.closed;h+=i?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!o){const h=e.now();let v=0;for(let D=1;D<i.length&&i[D]<=h;D+=2)v=D;v&&i.splice(0,v+1)}}}function qb(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,(0,Ha.B)({connector:()=>new Zb(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const cc=(0,R(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(t,n){return(0,en.e)((e,i)=>{let o=0;e.subscribe((0,_n.x)(i,u=>t.call(n,u,o++)&&i.next(u)))})}var ds=R(6232);function dr(t){return t<=0?()=>ds.E:(0,en.e)((n,e)=>{let i=0;n.subscribe((0,_n.x)(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function em(t){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,_n.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function yv(t=Jb){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,_n.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function Jb(){return new cc}function uc(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):jo.y,dr(1),e?em(n):yv(()=>new cc))}var Fs=R(4674);function bv(t,n){return(0,Fs.m)(n)?(0,xn.w)(()=>t,n):(0,xn.w)(()=>t)}var tm=R(5137);R(4097);var qd=R(4303);const Dv=new Map,eE={activated:!1,tokenObservers:[]},EI={initialized:!1,enabled:!1};function ai(t){return Dv.get(t)||Object.assign({},eE)}function rm(){return EI}const sm="https://content-firebaseappcheck.googleapis.com/v1",wI="exchangeDebugToken",CI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rE{constructor(n,e,i,o,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,sr.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function dA(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ki=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uf(t){if(!ai(t).activated)throw Ki.create("use-before-activation",{appName:t.name})}function dc(t,n){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,sr.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(i["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(n),headers:i};let h,v;try{h=yield fetch(t,u)}catch(P){throw Ki.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==h.status)throw Ki.create("fetch-status-error",{httpStatus:h.status});try{v=yield h.json()}catch(P){throw Ki.create("fetch-parse-error",{originalErrorMessage:P?.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const I=1e3*Number(D[1]),M=Date.now();return{token:v.token,expireTimeMillis:M+I,issuedAtTimeMillis:M}})).apply(this,arguments)}function fs(t,n){const{projectId:e,appId:i,apiKey:o}=t.options;return{url:`${sm}/projects/${e}/apps/${i}:${wI}?key=${o}`,body:{debug_token:n}}}const Cv="firebase-app-check-database",Jd=1,ha="firebase-app-check-store";let ul=null;function cm(){return(cm=(0,sr.Z)(function*(t,n){const i=(yield function wu(){return ul||(ul=new Promise((t,n)=>{try{const e=indexedDB.open(Cv,Jd);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var o;n(Ki.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ha,{keyPath:"compositeKey"})}}catch(e){n(Ki.create("storage-open",{originalErrorMessage:e?.message}))}}),ul)}()).transaction(ha,"readwrite"),u=i.objectStore(ha).put({compositeKey:t,value:n});return new Promise((h,v)=>{u.onsuccess=D=>{h()},i.onerror=D=>{var I;v(Ki.create("storage-set",{originalErrorMessage:null===(I=D.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const nh=new $o.Yd("@firebase/app-check");function hm(t,n){return(0,L.hl)()?function Xd(t,n){return function Iv(t,n){return cm.apply(this,arguments)}(function Sv(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{nh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function oE(){return rm().enabled}function aE(){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,sr.Z)(function*(){const t=rm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hA={error:"UNKNOWN_ERROR"};function TI(t){return L.US.encodeString(JSON.stringify(t),!1)}function Ov(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,sr.Z)(function*(t,n=!1){const e=t.app;Uf(e);const i=ai(e);let u,o=i.token;if(o&&!fa(o)&&(i.token=void 0,o=void 0),!o){const D=yield i.cachedTokenPromise;D&&(fa(D)?o=D:yield hm(e,void 0))}if(!n&&o&&fa(o))return{token:o.token};let v,h=!1;if(oE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=dc(fs(e,yield aE()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const D=yield i.exchangeTokenPromise;return yield hm(e,D),i.token=D,{token:D.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield ai(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?nh.warn(D.message):nh.error(D),u=D}return o?u?v=fa(o)?{token:o.token,internalError:u}:kv(u):(v={token:o.token},i.token=o,yield hm(e,o)):v=kv(u),h&&function Pv(t,n){const e=ai(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,v),v})).apply(this,arguments)}function lE(t){return xv.apply(this,arguments)}function xv(){return(xv=(0,sr.Z)(function*(t){const n=t.app;Uf(n);const{provider:e}=ai(n);if(oE()){const i=yield aE(),{token:o}=yield dc(fs(n,i),t.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Cu(t,n){const e=ai(t),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function fm(t){const{app:n}=t,e=ai(n);let i=e.tokenRefresher;i||(i=function pm(t){const{app:n}=t;return new rE((0,sr.Z)(function*(){let i;if(i=ai(n).token?yield Ov(t,!0):yield Ov(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ai(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},CI.RETRIAL_MIN_WAIT,CI.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fa(t){return t.expireTimeMillis-Date.now()>0}function kv(t){return{token:TI(hA),error:t}}class SI{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=ai(this.app);for(const e of n)Cu(this.app,e.next);return Promise.resolve()}}const vm="app-check-internal";!function gE(){(0,qd.Xd)(new Fr.wA("app-check",t=>function jf(t,n){return new SI(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(vm).initialize()})),(0,qd.Xd)(new Fr.wA(vm,t=>function AI(t){return{getToken:n=>Ov(t,n),getLimitedUseToken:()=>lE(t),addTokenListener:n=>function Hf(t,n,e,i){const{app:o}=t,u=ai(o);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:n}],u.token&&fa(u.token)){const v=u.token;Promise.resolve().then(()=>{e({token:v.token}),fm(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>fm(t))}(t,"INTERNAL",n),removeTokenListener:n=>Cu(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qd.KN)("@firebase/app-check","0.8.0")}();class $v{constructor(){return(0,Ln.vb)("app-check")}}typeof window<"u"&&window;var EE=R(120);const Wv=new c.OlP("angularfire2.auth.use-emulator"),zv=new c.OlP("angularfire2.auth.settings"),ym=new c.OlP("angularfire2.auth.tenant-id"),zf=new c.OlP("angularfire2.auth.langugage-code"),Yv=new c.OlP("angularfire2.auth.use-device-language"),Kv=new c.OlP("angularfire.auth.persistence"),Zv=(t,n,e,i,o,u,h,v)=>(0,mi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const D=n.runOutsideAngular(()=>t.auth());if(e&&D.useEmulator(...e),i&&(D.tenantId=i),D.languageCode=o,u&&D.useDeviceLanguage(),h)for(const[I,M]of Object.entries(h))D.settings[I]=M;return v&&D.setPersistence(v),D},[e,i,o,u,h,v]);let qv=(()=>{class t{constructor(e,i,o,u,h,v,D,I,M,P,B,ee){const Se=new Hn.x,je=(0,vt.of)(void 0).pipe((0,Kd.Q)(h.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,8977)))),(0,Tt.U)(()=>(0,mi.on)(e,u,i)),(0,Tt.U)($e=>Zv($e,u,v,I,M,P,D,B)),qb({bufferSize:1,refCount:!1}));if(Ds(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,vt.of)(null);else{je.pipe(uc()).subscribe();const pt=je.pipe((0,xn.w)(dt=>dt.getRedirectResult().then(Nt=>Nt,()=>null)),Ln.iC,qb({bufferSize:1,refCount:!1})),gt=je.pipe((0,xn.w)(dt=>new Kn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>dt.onAuthStateChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))})))),Ut=je.pipe((0,xn.w)(dt=>new Kn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>dt.onIdTokenChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))}))));this.authState=pt.pipe(bv(gt),(0,tm.R)(h.outsideAngular),(0,Kd.Q)(h.insideAngular)),this.user=pt.pipe(bv(Ut),(0,tm.R)(h.outsideAngular),(0,Kd.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(dt=>dt?(0,Vi.D)(dt.getIdToken()):(0,vt.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(dt=>dt?(0,Vi.D)(dt.getIdTokenResult()):(0,vt.of)(null))),this.credential=(0,Zr.T)(pt,Se,this.authState.pipe(Ii(dt=>!dt))).pipe((0,Tt.U)(dt=>dt?.user?dt:null),(0,tm.R)(h.outsideAngular),(0,Kd.Q)(h.insideAngular))}return(0,mi.pX)(this,je,u,{spy:{apply:($e,pt,gt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&gt.then(Ut=>Se.next(Ut))}}})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ln.HU),c.LFG(Wv,8),c.LFG(zv,8),c.LFG(ym,8),c.LFG(zf,8),c.LFG(Yv,8),c.LFG(Kv,8),c.LFG($v,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function Jv(t){return null==t}function Yf(t){return"function"==typeof t.set}function dl(t,n){return Yf(n)?n:t.ref(n)}function CE(t,n){if(function DE(t){return"string"==typeof t}(t))return n.stringCase();if(Yf(t))return n.firebaseCase();if(function wE(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Kf(t,n,e="on",i=Vl.z){return new Kn.y(o=>{let u=null;return u=t[e](n,(h,v)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:v})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Tt.U)(o=>{const{snapshot:u,prevKey:h}=o;let v=null;return u.exists()&&(v=u.key),{type:n,payload:u,prevKey:h,key:v}}),(0,Ha.B)())}function hc(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function WI(t,n){const{payload:e,prevKey:i,key:o}=n,u=hc(t,o),h=function Xv(t,n){if(Jv(n))return 0;{const e=hc(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let v=null;n.payload.forEach(D=>{const I={payload:D,type:"value",prevKey:v,key:D.key};return v=D.key,t=[...t,I],!1})}return t;case"child_added":if(u>-1){const v=t[u-1];(v&&v.key||null)!==i&&(t=t.filter(D=>D.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(v=>v.payload.key!==e.key);case"child_changed":return t.map(v=>v.payload.key===o?n:v);case"child_moved":if(u>-1){const v=t.splice(u,1)[0];return(t=t.slice()).splice(h,0,v),t}return t;default:return t}}function bm(t){return(Jv(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function zI(t,n,e){return function Qv(t,n,e){return Kf(t,"value","once",e).pipe((0,xn.w)(i=>{const o=[(0,vt.of)(i)];return n.forEach(u=>o.push(Kf(t,u,"on",e))),(0,Zr.T)(...o).pipe(qr(WI,[]))}),(0,Ns.x)())}(t,n=bm(n),e)}function YI(t,n,e){const i=(n=bm(n)).map(o=>Kf(t,o,"on",e));return(0,Zr.T)(...i)}function TE(t,n){return function(i,o){return CE(i,{stringCase:()=>t.child(i)[n](o),firebaseCase:()=>i[n](o),snapshotCase:()=>i.ref[n](o)})}}function Oi(t){return function(e){return e?CE(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function AE(t,n){return function(){return Kf(t,"value","on",n)}}const NE=new c.OlP("angularfire2.realtimeDatabaseURL"),JI=new c.OlP("angularfire2.database.use-emulator");let ey=(()=>{class t{constructor(e,i,o,u,h,v,D,I,M,P,B,ee,Se,je,$e){this.schedulers=v;const pt=D,gt=(0,mi.on)(e,h,i);I&&Zv(gt,h,M,B,ee,Se,P,je),this.database=(0,mi.cc)(`${gt.name}.database.${o}`,"AngularFireDatabase",gt.name,()=>{const Ut=h.runOutsideAngular(()=>gt.database(o||void 0));return pt&&Ut.useEmulator(...pt),Ut},[pt])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>dl(this.database,e));let u=o;return i&&(u=i(o)),function SE(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:TE(i,"update"),set:TE(i,"set"),push:o=>i.push(o),remove:Oi(i),snapshotChanges:o=>zI(t,o,e).pipe(Ln.iC),stateChanges:o=>YI(t,o,e).pipe(Ln.iC),auditTrail:o=>function KI(t,n,e){return function IE(t,n,e){return function ZI(t,n){return Kf(t,"value","on",n).pipe((0,Tt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Pr(n),(0,Tt.U)(([o,u])=>{const h=o.lastKeyToLoad,v=u.map(D=>D.key);return{actions:u,lastKeyToLoad:h,loadedKeys:v}}),function kr(t){return(0,en.e)((n,e)=>{let i=!1,o=0;n.subscribe((0,_n.x)(e,u=>(i||(i=!t(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Tt.U)(o=>o.actions))}(t,YI(t,n).pipe(qr((o,u)=>[...o,u],[])),e)}(t,o,e).pipe(Ln.iC),valueChanges:(o,u)=>zI(t,o,e).pipe((0,Tt.U)(v=>v.map(D=>u&&u.idField?Object.assign(Object.assign({},D.payload.val()),{[u.idField]:D.key}):D.payload.val())),Ln.iC)}}(u,this)}object(e){return function qI(t,n){return{query:t,snapshotChanges:()=>AE(t,n.schedulers.outsideAngular)().pipe(Ln.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>AE(t,n.schedulers.outsideAngular)().pipe(Ln.iC,(0,Tt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dl(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(NE,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ln.HU),c.LFG(JI,8),c.LFG(qv,8),c.LFG(Wv,8),c.LFG(zv,8),c.LFG(ym,8),c.LFG(zf,8),c.LFG(Yv,8),c.LFG(Kv,8),c.LFG($v,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),ME=(()=>{class t{constructor(){EE.Z.registerVersion("angularfire",Ln.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[ey]}),t})();var vo=R(5619);const{isArray:QI}=Array,{getPrototypeOf:OE,prototype:XI,keys:RE}=Object;function eT(t){if(1===t.length){const n=t[0];if(QI(n))return{args:n,keys:null};if(function xE(t){return t&&"object"==typeof t&&OE(t)===XI}(n)){const e=RE(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:ty}=Array;function ny(t){return(0,Tt.U)(n=>function pa(t,n){return ty(n)?t(...n):t(n)}(t,n))}function iy(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}var ga=R(7103);function ps(...t){const n=(0,Er.yG)(t),e=(0,Er.jO)(t),{args:i,keys:o}=eT(t);if(0===i.length)return(0,Vi.D)([],n);const u=new Kn.y(function yo(t,n,e=jo.y){return i=>{ry(n,()=>{const{length:o}=t,u=new Array(o);let h=o,v=o;for(let D=0;D<o;D++)ry(n,()=>{const I=(0,Vi.D)(t[D],n);let M=!1;I.subscribe((0,_n.x)(i,P=>{u[D]=P,M||(M=!0,v--),v||i.next(e(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,o?h=>iy(o,h):jo.y));return e?u.pipe(ny(e)):u}function ry(t,n,e){t?(0,ga.f)(e,t,n):n()}var rh=R(7537);function Zf(...t){return function tT(){return(0,rh.J)(1)}()((0,Vi.D)(t,(0,Er.yG)(t)))}function PE(t){return new Kn.y(n=>{(0,Fn.Xf)(t()).subscribe(n)})}var nT=R(8407);function Iu(t,n){const e=(0,Fs.m)(t)?t:()=>t,i=o=>o.error(e());return new Kn.y(n?o=>n.schedule(i,0,o):i)}var Tu=R(7394);function sy(){return(0,en.e)((t,n)=>{let e=null;t._refCount++;const i=(0,_n.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class oy extends Kn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,en.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Tu.w0;const e=this.getSubject();n.add(this.source.subscribe((0,_n.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Tu.w0.EMPTY)}return n}refCount(){return sy()(this)}}var Zi=R(1631);function sh(t,n){return(0,Fs.m)(n)?(0,Zi.z)(t,n,1):(0,Zi.z)(t,1)}var Ri=R(9397);function ma(t){return(0,en.e)((n,e)=>{let u,i=null,o=!1;i=n.subscribe((0,_n.x)(e,void 0,void 0,h=>{u=(0,Fn.Xf)(t(h,ma(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,u.subscribe(e))})}function ay(t){return t<=0?()=>ds.E:(0,en.e)((n,e)=>{let i=[];n.subscribe((0,_n.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function Em(t){return(0,en.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function _i(t){return(0,en.e)((n,e)=>{(0,Fn.Xf)(t).subscribe((0,_n.x)(e,()=>e.complete(),ja.Z)),!e.closed&&n.subscribe(e)})}const Vt="primary",Su=Symbol("RouteTitle");class Dm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Au(t){return new Dm(t)}function LE(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let u=0;u<i.length;u++){const h=i[u],v=t[u];if(h.startsWith(":"))o[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function bo(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!cy(t[o],n[o]))return!1;return!0}function cy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,u)=>i[u]===o)}return t===n}function uy(t){return t.length>0?t[t.length-1]:null}function hl(t){return function ih(t){return!!t&&(t instanceof Kn.y||(0,Fs.m)(t.lift)&&(0,Fs.m)(t.subscribe))}(t)?t:(0,c.QGY)(t)?(0,Vi.D)(Promise.resolve(t)):(0,vt.of)(t)}const VE={exact:function jE(t,n,e){if(!Nu(t.segments,n.segments)||!wm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!jE(t.children[i],n.children[i],e))return!1;return!0},subset:$E},UE={exact:function iT(t,n){return bo(t,n)},subset:function rT(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>cy(t[e],n[e]))},ignored:()=>!0};function HE(t,n,e){return VE[e.paths](t.root,n.root,e.matrixParams)&&UE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function $E(t,n,e){return GE(t,n,n.segments,e)}function GE(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Nu(o,e)||n.hasChildren()||!wm(o,e,i))}if(t.segments.length===e.length){if(!Nu(t.segments,e)||!wm(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!$E(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(Nu(t.segments,o)&&wm(t.segments,o,i)&&t.children[Vt])&&GE(t.children[Vt],n,u,i)}}function wm(t,n,e){return n.every((i,o)=>UE[e](t[o].parameters,i.parameters))}class oh{constructor(n=new Cn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return aT.serialize(this)}}class Cn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cm(this)}}class qf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return py(this)}}function Nu(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Jf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return new dy},providedIn:"root"})}return t})();class dy{parse(n){const e=new KE(n);return new oh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${ah(n.root,!0)}`,i=function gy(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${Qf(e)}=${Qf(o)}`).join("&"):`${Qf(e)}=${Qf(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function WE(t){return encodeURI(t)}(n.fragment)}`:""}`}}const aT=new dy;function Cm(t){return t.segments.map(n=>py(n)).join("/")}function ah(t,n){if(!t.hasChildren())return Cm(t);if(n){const e=t.children[Vt]?ah(t.children[Vt],!1):"",i=[];return Object.entries(t.children).forEach(([o,u])=>{o!==Vt&&i.push(`${o}:${ah(u,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function oT(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===Vt&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==Vt&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===Vt?[ah(t.children[Vt],!1)]:[`${o}:${ah(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Vt]?`${Cm(t)}/${e[0]}`:`${Cm(t)}/(${e.join("//")})`}}function hy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(t){return hy(t).replace(/%3B/gi,";")}function Im(t){return hy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(t){return decodeURIComponent(t)}function fy(t){return Xf(t.replace(/\+/g,"%20"))}function py(t){return`${Im(t.path)}${function zE(t){return Object.keys(t).map(n=>`;${Im(n)}=${Im(t[n])}`).join("")}(t.parameters)}`}const YE=/^[^\/()?;#]+/;function fl(t){const n=t.match(YE);return n?n[0]:""}const lT=/^[^\/()?;=#]+/,lh=/^[^=?&#]+/,my=/^[^&#]+/;class KE{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Vt]=new Cn(n,e)),i}parseSegment(){const n=fl(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(n),new qf(Xf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function cT(t){const n=t.match(lT);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=fl(this.remaining);o&&(i=o,this.capture(i))}n[Xf(e)]=Xf(i)}parseQueryParam(n){const e=function _A(t){const n=t.match(lh);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function vA(t){const n=t.match(my);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=fy(e),u=fy(i);if(n.hasOwnProperty(o)){let h=n[o];Array.isArray(h)||(h=[h],n[o]=h),h.push(u)}else n[o]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fl(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Vt);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[Vt]:new Cn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new c.vHH(4011,!1)}}function _y(t){return t.segments.length>0?new Cn([],{[Vt]:t}):t}function uT(t){const n={};for(const i of Object.keys(t.children)){const u=uT(t.children[i]);if(i===Vt&&0===u.segments.length&&u.hasChildren())for(const[h,v]of Object.entries(u.children))n[h]=v;else(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function ch(t){if(1===t.numberOfChildren&&t.children[Vt]){const n=t.children[Vt];return new Cn(t.segments.concat(n.segments),n.children)}return t}(new Cn(t.segments,n))}function Mu(t){return t instanceof oh}function ZE(t){let n;const o=_y(function e(u){const h={};for(const D of u.children){const I=e(D);h[D.outlet]=I}const v=new Cn(u.url,h);return u===t&&(n=v),v}(t.root));return n??o}function Ou(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return uh(o,o,o,e,i);const u=function qE(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hT(!0,0,t);let n=0,e=!1;const i=t.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([D,I])=>{v[D]="string"==typeof I?I.split("/"):I}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?e=!0:".."===v?n++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new hT(e,n,i)}(n);if(u.toRoot())return uh(o,o,new Cn([],{}),e,i);const h=function fT(t,n,e){if(t.isAbsolute)return new ep(n,!0,0);if(!e)return new ep(n,!1,NaN);if(null===e.parent)return new ep(e,!0,0);const i=Tm(t.commands[0])?0:1;return function JE(t,n,e){let i=t,o=n,u=e;for(;u>o;){if(u-=o,i=i.parent,!i)throw new c.vHH(4005,!1);o=i.segments.length}return new ep(i,!1,o-u)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(u,o,t),v=h.processChildren?dh(h.segmentGroup,h.index,u.commands):vy(h.segmentGroup,h.index,u.commands);return uh(o,h.segmentGroup,v,e,i)}function Tm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fc(t){return"object"==typeof t&&null!=t&&t.outlets}function uh(t,n,e,i,o){let h,u={};i&&Object.entries(i).forEach(([D,I])=>{u[D]=Array.isArray(I)?I.map(M=>`${M}`):`${I}`}),h=t===n?e:Ir(t,n,e);const v=_y(uT(h));return new oh(v,u,o)}function Ir(t,n,e){const i={};return Object.entries(t.children).forEach(([o,u])=>{i[o]=u===n?e:Ir(u,n,e)}),new Cn(t.segments,i)}class hT{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Tm(i[0]))throw new c.vHH(4003,!1);const o=i.find(fc);if(o&&o!==uy(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ep{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function vy(t,n,e){if(t||(t=new Cn([],{})),0===t.segments.length&&t.hasChildren())return dh(t,n,e);const i=function pT(t,n,e){let i=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return u;const h=t.segments[o],v=e[i];if(fc(v))break;const D=`${v}`,I=i<e.length-1?e[i+1]:null;if(o>0&&void 0===D)break;if(D&&I&&"object"==typeof I&&void 0===I.outlets){if(!XE(D,I,h))return u;i+=2}else{if(!XE(D,{},h))return u;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new Cn(t.segments.slice(0,i.pathIndex),{});return u.children[Vt]=new Cn(t.segments.slice(i.pathIndex),t.children),dh(u,0,o)}return i.match&&0===o.length?new Cn(t.segments,{}):i.match&&!t.hasChildren()?yy(t,n,e):i.match?dh(t,0,o):yy(t,n,e)}function dh(t,n,e){if(0===e.length)return new Cn(t.segments,{});{const i=function QE(t){return fc(t[0])?t[0].outlets:{[Vt]:t}}(e),o={};if(Object.keys(i).some(u=>u!==Vt)&&t.children[Vt]&&1===t.numberOfChildren&&0===t.children[Vt].segments.length){const u=dh(t.children[Vt],n,e);return new Cn(t.segments,u.children)}return Object.entries(i).forEach(([u,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(o[u]=vy(t.children[u],n,h))}),Object.entries(t.children).forEach(([u,h])=>{void 0===i[u]&&(o[u]=h)}),new Cn(t.segments,o)}}function yy(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const u=e[o];if(fc(u)){const D=gT(u.outlets);return new Cn(i,D)}if(0===o&&Tm(e[0])){i.push(new qf(t.segments[n].path,hh(e[0]))),o++;continue}const h=fc(u)?u.outlets[Vt]:`${u}`,v=o<e.length-1?e[o+1]:null;h&&v&&Tm(v)?(i.push(new qf(h,hh(v))),o+=2):(i.push(new qf(h,{})),o++)}return new Cn(i,{})}function gT(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=yy(new Cn([],{}),0,i))}),n}function hh(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function XE(t,n,e){return t==e.path&&bo(n,e.parameters)}const tp="imperative";class _a{constructor(n,e){this.id=n,this.url=e}}class Ru extends _a{constructor(n,e,i="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pl extends _a{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fh extends _a{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xu extends _a{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=16}}class Sm extends _a{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ph extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class np extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mT extends _a{constructor(n,e,i,o,u){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _T extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vT extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eD{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tD{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nD{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yT{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iD{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bT{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rD{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sD{}class oD{constructor(n){this.url=n}}class yA{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gh,this.attachRef=null}}let gh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new yA,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ip{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=by(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=by(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Ey(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Ey(n,this._root).map(e=>e.value)}}function by(t,n){if(t===n.value)return n;for(const e of n.children){const i=by(t,e);if(i)return i}return null}function Ey(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Ey(t,e);if(i.length)return i.unshift(n),i}return[]}class va{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function ya(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class aD extends ip{constructor(n,e){super(n),this.snapshot=e,Dy(this,n)}toString(){return this.snapshot.toString()}}function lD(t,n){const e=function ET(t,n){const h=new rp([],{},{},"",{},Vt,n,null,{});return new cD("",new va(h,[]))}(0,n),i=new vo.X([new qf("",{})]),o=new vo.X({}),u=new vo.X({}),h=new vo.X({}),v=new vo.X(""),D=new mh(i,o,h,v,u,Vt,n,e.root);return D.snapshot=e.root,new aD(new va(D,[]),e)}class mh{constructor(n,e,i,o,u,h,v,D){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=v,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,Tt.U)(I=>I[Su]))??(0,vt.of)(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(n=>Au(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(n=>Au(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DT(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],u=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(u.component)break;i--}}return function wT(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rp{get title(){return this.data?.[Su]}constructor(n,e,i,o,u,h,v,D,I){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=h,this.component=v,this.routeConfig=D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cD extends ip{constructor(n,e){super(e),this.url=n,Dy(this,e)}toString(){return _h(this._root)}}function Dy(t,n){n.value._routerState=t,n.children.forEach(e=>Dy(t,e))}function _h(t){const n=t.children.length>0?` { ${t.children.map(_h).join(", ")} } `:"";return`${t.value}${n}`}function wy(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,bo(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),bo(n.params,e.params)||t.paramsSubject.next(e.params),function BE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!bo(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),bo(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Am(t,n){const e=bo(t.params,n.params)&&function sT(t,n){return Nu(t,n)&&t.every((e,i)=>bo(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Am(t.parent,n.parent))}let uD=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(gh),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Nm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const o=this.location,h=e.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,D=new dD(e,v,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:D,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return t})();class dD{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===mh?this.route:n===gh?this.childContexts:this.parent.get(n,e)}}const Nm=new c.OlP("");let Cy=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=ps([i.queryParams,i.params,i.data]).pipe((0,xn.w)(([u,h,v],D)=>(v={...u,...h,...v},0===D?(0,vt.of)(v):Promise.resolve(v)))).subscribe(u=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const h=(0,c.qFp)(i.component);if(h)for(const{templateName:v}of h.inputs)e.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();function Pu(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function IT(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return Pu(t,i,o);return Pu(t,i)})}(t,n,e);return new va(i,o)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(v=>Pu(t,v)),h}}const i=function hD(t){return new mh(new vo.X(t.url),new vo.X(t.params),new vo.X(t.queryParams),new vo.X(t.fragment),new vo.X(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(u=>Pu(t,u));return new va(i,o)}}const Mm="ngNavigationCancelingError";function fD(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Mu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=pD(!1,0,n);return o.url=e,o.navigationBehaviorOptions=i,o}function pD(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Mm]=!0,i.cancellationCode=n,e&&(i.url=e),i}function Om(t){return t&&t[Mm]}let gD=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(i,o){1&i&&c._UZ(0,"router-outlet")},dependencies:[uD],encapsulation:2})}return t})();function Rm(t){const n=t.children&&t.children.map(Rm),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Vt&&(e.component=gD),e}function Ls(t){return t.outlet||Vt}function sp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class RT{constructor(n,e,i,o,u){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),wy(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=ya(e);n.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],i),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(o===u)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=ya(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(i&&i.outlet){const h=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:v})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=ya(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=ya(e);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],i),this.forwardEvent(new bT(u.value.snapshot))}),n.children.length&&this.forwardEvent(new yT(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(wy(o),o===u)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),wy(v.route.value),this.activateChildRoutes(n,null,h.children)}else{const v=sp(o.snapshot);h.attachRef=null,h.route=o,h.injector=v,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class vD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xm{constructor(n,e){this.component=n,this.route=e}}function Iy(t,n,e){const i=t._root;return Fu(i,n?n._root:null,e,[i.value])}function ku(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,c.Z0I)(t)?n.get(t):t:i}function Fu(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ya(n);return t.children.forEach(h=>{(function xT(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,h=n?n.value:null,v=e?e.getContext(t.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const D=function PT(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Nu(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Nu(t.url,n.url)||!bo(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Am(t,n)||!bo(t.queryParams,n.queryParams);default:return!Am(t,n)}}(h,u,u.routeConfig.runGuardsAndResolvers);D?o.canActivateChecks.push(new vD(i)):(u.data=h.data,u._resolvedData=h._resolvedData),Fu(t,n,u.component?v?v.children:null:e,i,o),D&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new xm(v.outlet.component,h))}else h&&Lu(n,v,o),o.canActivateChecks.push(new vD(i)),Fu(t,null,u.component?v?v.children:null:e,i,o)})(h,u[h.value.outlet],e,i.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,v])=>Lu(v,e.getContext(h),o)),o}function Lu(t,n,e){const i=ya(t),o=t.value;Object.entries(i).forEach(([u,h])=>{Lu(h,o.component?n?n.children.getContext(u):null:n,e)}),e.canDeactivateChecks.push(new xm(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function op(t){return"function"==typeof t}function Ay(t){return t instanceof cc||"EmptyError"===t?.name}const ap=Symbol("INITIAL_VALUE");function vh(){return(0,xn.w)(t=>ps(t.map(n=>n.pipe(dr(1),function kE(...t){const n=(0,Er.yG)(t);return(0,en.e)((e,i)=>{(n?Zf(t,e,n):Zf(t,e)).subscribe(i)})}(ap)))).pipe((0,Tt.U)(n=>{for(const e of n)if(!0!==e){if(e===ap)return ap;if(!1===e||e instanceof oh)return e}return!0}),Ii(n=>n!==ap),dr(1)))}function SD(t){return(0,nT.z)((0,Ri.b)(n=>{if(Mu(n))throw fD(0,n)}),(0,Tt.U)(n=>!0===n))}class My{constructor(n){this.segmentGroup=n||null}}class Oy{constructor(n){this.urlTree=n}}function yh(t){return Iu(new My(t))}function ND(t){return Iu(new Oy(t))}class HT{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new c.vHH(4002,!1)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,vt.of)(i);if(o.numberOfChildren>1||!o.children[Vt])return Iu(new c.vHH(4e3,!1));o=o.children[Vt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,o){const u=this.createSegmentGroup(n,e.root,i,o);return new oh(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);i[o]=e[v]}else i[o]=u}),i}createSegmentGroup(n,e,i,o){const u=this.createSegments(n,e.segments,i,o);let h={};return Object.entries(e.children).forEach(([v,D])=>{h[v]=this.createSegmentGroup(n,D,i,o)}),new Cn(u,h)}createSegments(n,e,i,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new c.vHH(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const Ry={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MD(t,n,e,i,o){const u=Pm(t,n,e);return u.matched?(i=function mD(t,n){return t.providers&&!t._injector&&(t._injector=(0,c.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function AD(t,n,e,i){const o=n.canMatch;if(!o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=ku(h,t);return hl(function Sy(t){return t&&op(t.canMatch)}(v)?v.canMatch(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(vh(),SD())}(i,n,e).pipe((0,Tt.U)(h=>!0===h?u:{...Ry}))):(0,vt.of)(u)}function Pm(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...Ry}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||LE)(e,t,n);if(!o)return{...Ry};const u={};Object.entries(o.posParams??{}).forEach(([v,D])=>{u[v]=D.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function xy(t,n,e,i){return e.length>0&&function GT(t,n,e){return e.some(i=>km(t,n,i)&&Ls(i)!==Vt)}(t,e,i)?{segmentGroup:new Cn(n,$T(i,new Cn(e,t.children))),slicedSegments:[]}:0===e.length&&function WT(t,n,e){return e.some(i=>km(t,n,i))}(t,e,i)?{segmentGroup:new Cn(t.segments,jT(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Cn(t.segments,t.children),slicedSegments:e}}function jT(t,n,e,i,o){const u={};for(const h of i)if(km(t,e,h)&&!o[Ls(h)]){const v=new Cn([],{});u[Ls(h)]=v}return{...o,...u}}function $T(t,n){const e={};e[Vt]=n;for(const i of t)if(""===i.path&&Ls(i)!==Vt){const o=new Cn([],{});e[Ls(i)]=o}return e}function km(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class RD{constructor(n,e,i,o,u,h,v){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new HT(this.urlSerializer,this.urlTree)}noMatchError(n){return new c.vHH(4002,!1)}recognize(){const n=xy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Vt).pipe(ma(e=>{if(e instanceof Oy)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof My?this.noMatchError(e):e}),(0,Tt.U)(e=>{const i=new rp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),o=new va(i,e),u=new cD("",o),h=function dT(t,n,e=null,i=null){return Ou(ZE(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root),{state:u,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Vt).pipe(ma(i=>{throw i instanceof My?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=DT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,o,!0)}processChildren(n,e,i){const o=[];for(const u of Object.keys(i.children))"primary"===u?o.unshift(u):o.push(u);return(0,Vi.D)(o).pipe(sh(u=>{const h=i.children[u],v=function _D(t,n){const e=t.filter(i=>Ls(i)===n);return e.push(...t.filter(i=>Ls(i)!==n)),e}(e,u);return this.processSegmentGroup(n,v,h,u)}),qr((u,h)=>(u.push(...h),u)),em(null),function FE(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):jo.y,ay(1),e?em(n):yv(()=>new cc))}(),(0,Zi.z)(u=>{if(null===u)return yh(i);const h=Py(u);return function xD(t){t.sort((n,e)=>n.value.outlet===Vt?-1:e.value.outlet===Vt?1:n.value.outlet.localeCompare(e.value.outlet))}(h),(0,vt.of)(h)}))}processSegment(n,e,i,o,u,h){return(0,Vi.D)(e).pipe(sh(v=>this.processSegmentAgainstRoute(v._injector??n,e,v,i,o,u,h).pipe(ma(D=>{if(D instanceof My)return(0,vt.of)(null);throw D}))),uc(v=>!!v),ma(v=>{if(Ay(v))return function lp(t,n,e){return 0===n.length&&!t.children[e]}(i,o,u)?(0,vt.of)([]):yh(i);throw v}))}processSegmentAgainstRoute(n,e,i,o,u,h,v){return function zT(t,n,e,i){return!!(Ls(t)===i||i!==Vt&&km(n,e,t))&&("**"===t.path||Pm(n,t,e).matched)}(i,o,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,u,h,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,u,h):yh(o):yh(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ND(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,Zi.z)(h=>{const v=new Cn(h,{});return this.processSegment(n,e,v,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){const{matched:v,consumedSegments:D,remainingSegments:I,positionalParamSegments:M}=Pm(e,o,u);if(!v)return yh(e);const P=this.applyRedirects.applyRedirectCommands(D,o.redirectTo,M);return o.redirectTo.startsWith("/")?ND(P):this.applyRedirects.lineralizeSegments(o,P).pipe((0,Zi.z)(B=>this.processSegment(n,i,e,B.concat(I),h,!1)))}matchSegmentAgainstRoute(n,e,i,o,u,h){let v;if("**"===i.path){const D=o.length>0?uy(o).parameters:{},I=new rp(o,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kD(i),Ls(i),i.component??i._loadedComponent??null,i,YT(i));v=(0,vt.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),e.children={}}else v=MD(e,i,o,n).pipe((0,Tt.U)(({matched:D,consumedSegments:I,remainingSegments:M,parameters:P})=>D?{snapshot:new rp(I,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kD(i),Ls(i),i.component??i._loadedComponent??null,i,YT(i)),consumedSegments:I,remainingSegments:M}:null));return v.pipe((0,xn.w)(D=>null===D?yh(e):this.getChildConfig(n=i._injector??n,i,o).pipe((0,xn.w)(({routes:I})=>{const M=i._loadedInjector??n,{snapshot:P,consumedSegments:B,remainingSegments:ee}=D,{segmentGroup:Se,slicedSegments:je}=xy(e,B,ee,I);if(0===je.length&&Se.hasChildren())return this.processChildren(M,I,Se).pipe((0,Tt.U)(pt=>null===pt?null:[new va(P,pt)]));if(0===I.length&&0===je.length)return(0,vt.of)([new va(P,[])]);const $e=Ls(i)===u;return this.processSegment(M,I,Se,je,$e?Vt:u,!0).pipe((0,Tt.U)(pt=>[new va(P,pt)]))}))))}getChildConfig(n,e,i){return e.children?(0,vt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,vt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function VT(t,n,e,i){const o=n.canLoad;if(void 0===o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=ku(h,t);return hl(function Bu(t){return t&&op(t.canLoad)}(v)?v.canLoad(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(vh(),SD())}(n,e,i).pipe((0,Zi.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,Ri.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function UT(t){return Iu(pD(!1,3))}())):(0,vt.of)({routes:[],injector:n})}}function PD(t){const n=t.value.routeConfig;return n&&""===n.path}function Py(t){const n=[],e=new Set;for(const i of t){if(!PD(i)){n.push(i);continue}const o=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=Py(i.children);n.push(new va(i.value,o))}return n.filter(i=>!e.has(i))}function kD(t){return t.data||{}}function YT(t){return t.resolve||{}}function KT(t,n){return(0,Zi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,vt.of)(e);let u=0;return(0,Vi.D)(o).pipe(sh(h=>function ZT(t,n,e,i){const o=t.routeConfig,u=t._resolve;return void 0!==o?.title&&!bh(o)&&(u[Su]=o.title),function qT(t,n,e,i){const o=function JT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,vt.of)({});const u={};return(0,Vi.D)(o).pipe((0,Zi.z)(h=>function QT(t,n,e,i){const o=sp(n)??i,u=ku(t,o);return hl(u.resolve?u.resolve(n,e):o.runInContext(()=>u(n,e)))}(t[h],n,e,i).pipe(uc(),(0,Ri.b)(v=>{u[h]=v}))),ay(1),function ly(t){return(0,Tt.U)(()=>t)}(u),ma(h=>Ay(h)?ds.E:Iu(h)))}(u,t,n,i).pipe((0,Tt.U)(h=>(t._resolvedData=h,t.data=DT(t,e).resolve,o&&bh(o)&&(t.data[Su]=o.title),null)))}(h.route,i,t,n)),(0,Ri.b)(()=>u++),ay(1),(0,Zi.z)(h=>u===o.length?(0,vt.of)(e):ds.E))})}function bh(t){return"string"==typeof t.title||null===t.title}function ky(t){return(0,xn.w)(n=>{const e=t(n);return e?(0,Vi.D)(e).pipe((0,Tt.U)(()=>n)):(0,vt.of)(n)})}const pc=new c.OlP("ROUTES");let Fy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,vt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=hl(e.loadComponent()).pipe((0,Tt.U)(e1),(0,Ri.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),Em(()=>{this.componentLoaders.delete(e)})),o=new oy(i,()=>new Hn.x).pipe(sy());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,vt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function NA(t,n,e,i){return hl(t.loadChildren()).pipe((0,Tt.U)(e1),(0,Zi.z)(o=>o instanceof c.YKP||Array.isArray(o)?(0,vt.of)(o):(0,Vi.D)(n.compileModuleAsync(o))),(0,Tt.U)(o=>{i&&i(t);let u,h,v=!1;return Array.isArray(o)?(h=o,!0):(u=o.create(e).injector,h=u.get(pc,[],{optional:!0,self:!0}).flat()),{routes:h.map(Rm),injector:u}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Em(()=>{this.childrenLoaders.delete(i)})),h=new oy(u,()=>new Hn.x).pipe(sy());return this.childrenLoaders.set(i,h),h}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e1(t){return function XT(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let gc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hn.x,this.transitionAbortSubject=new Hn.x,this.configLoader=(0,c.f3M)(Fy),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Jf),this.rootContexts=(0,c.f3M)(gh),this.inputBindingEnabled=null!==(0,c.f3M)(Nm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,vt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new tD(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new eD(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new vo.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(u=>0!==u.id),(0,Tt.U)(u=>({...u,extractedUrl:e.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let h=!1,v=!1;return(0,vt.of)(u).pipe((0,Ri.b)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(D=>{const I=D.currentBrowserUrl.toString(),M=!e.navigated||D.extractedUrl.toString()!==I||I!==D.currentUrlTree.toString();if(!M&&"reload"!==(D.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const B="";return this.events.next(new xu(D.id,this.urlSerializer.serialize(D.rawUrl),B,0)),D.resolve(null),ds.E}if(e.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return(0,vt.of)(D).pipe((0,xn.w)(B=>{const ee=this.transitions?.getValue();return this.events.next(new Ru(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),ee!==this.transitions?.getValue()?ds.E:Promise.resolve(B)}),function AA(t,n,e,i,o,u){return(0,Zi.z)(h=>function OD(t,n,e,i,o,u,h="emptyOnly"){return new RD(t,n,e,i,o,h,u).recognize()}(t,n,e,i,h.extractedUrl,o,u).pipe((0,Tt.U)(({state:v,tree:D})=>({...h,targetSnapshot:v,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ri.b)(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const ee=new ph(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(ee)}));if(M&&e.urlHandlingStrategy.shouldProcessUrl(D.currentRawUrl)){const{id:B,extractedUrl:ee,source:Se,restoredState:je,extras:$e}=D,pt=new Ru(B,this.urlSerializer.serialize(ee),Se,je);this.events.next(pt);const gt=lD(0,this.rootComponentType).snapshot;return this.currentTransition=u={...D,targetSnapshot:gt,urlAfterRedirects:ee,extras:{...$e,skipLocationChange:!1,replaceUrl:!1}},(0,vt.of)(u)}{const B="";return this.events.next(new xu(D.id,this.urlSerializer.serialize(D.extractedUrl),B,1)),D.resolve(null),ds.E}}),(0,Ri.b)(D=>{const I=new np(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(I)}),(0,Tt.U)(D=>(this.currentTransition=u={...D,guards:Iy(D.targetSnapshot,D.currentSnapshot,this.rootContexts)},u)),function DD(t,n){return(0,Zi.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?(0,vt.of)({...e,guardsResult:!0}):function Ny(t,n,e,i){return(0,Vi.D)(t).pipe((0,Zi.z)(o=>function BT(t,n,e,i,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,vt.of)(!0);const h=u.map(v=>{const D=sp(n)??o,I=ku(v,D);return hl(function IA(t){return t&&op(t.canDeactivate)}(I)?I.canDeactivate(t,n,e,i):D.runInContext(()=>I(t,n,e,i))).pipe(uc())});return(0,vt.of)(h).pipe(vh())}(o.component,o.route,e,n,i)),uc(o=>!0!==o,!0))}(h,i,o,t).pipe((0,Zi.z)(v=>v&&function yD(t){return"boolean"==typeof t}(v)?function wD(t,n,e,i){return(0,Vi.D)(n).pipe(sh(o=>Zf(function ID(t,n){return null!==t&&n&&n(new nD(t)),(0,vt.of)(!0)}(o.route.parent,i),function CD(t,n){return null!==t&&n&&n(new iD(t)),(0,vt.of)(!0)}(o.route,i),function LT(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(h=>function Ty(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>PE(()=>{const v=h.guards.map(D=>{const I=sp(h.node)??e,M=ku(D,I);return hl(function kT(t){return t&&op(t.canActivateChild)}(M)?M.canActivateChild(i,t):I.runInContext(()=>M(i,t))).pipe(uc())});return(0,vt.of)(v).pipe(vh())}));return(0,vt.of)(u).pipe(vh())}(t,o.path,e),function TD(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return(0,vt.of)(!0);const o=i.map(u=>PE(()=>{const h=sp(n)??e,v=ku(u,h);return hl(function bD(t){return t&&op(t.canActivate)}(v)?v.canActivate(n,t):h.runInContext(()=>v(n,t))).pipe(uc())}));return(0,vt.of)(o).pipe(vh())}(t,o.route,e))),uc(o=>!0!==o,!0))}(i,u,t,n):(0,vt.of)(v)),(0,Tt.U)(v=>({...e,guardsResult:v})))})}(this.environmentInjector,D=>this.events.next(D)),(0,Ri.b)(D=>{if(u.guardsResult=D.guardsResult,Mu(D.guardsResult))throw fD(0,D.guardsResult);const I=new mT(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.events.next(I)}),Ii(D=>!!D.guardsResult||(this.cancelNavigationTransition(D,"",3),!1)),ky(D=>{if(D.guards.canActivateChecks.length)return(0,vt.of)(D).pipe((0,Ri.b)(I=>{const M=new _T(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}),(0,xn.w)(I=>{let M=!1;return(0,vt.of)(I).pipe(KT(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ri.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(I,"",2)}}))}),(0,Ri.b)(I=>{const M=new vT(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}))}),ky(D=>{const I=M=>{const P=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,Ri.b)(B=>{M.component=B}),(0,Tt.U)(()=>{})));for(const B of M.children)P.push(...I(B));return P};return ps(I(D.targetSnapshot.root)).pipe(em(),dr(1))}),ky(()=>this.afterPreactivation()),(0,Tt.U)(D=>{const I=function CT(t,n,e){const i=Pu(t,n._root,e?e._root:void 0);return new aD(i,n)}(e.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return this.currentTransition=u={...D,targetRouterState:I},u}),(0,Ri.b)(()=>{this.events.next(new sD)}),((t,n,e,i)=>(0,Tt.U)(o=>(new RT(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,D=>this.events.next(D),this.inputBindingEnabled),dr(1),(0,Ri.b)({next:D=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pl(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects))),e.titleStrategy?.updateTitle(D.targetRouterState.snapshot),D.resolve(!0)},complete:()=>{h=!0}}),_i(this.transitionAbortSubject.pipe((0,Ri.b)(D=>{throw D}))),Em(()=>{h||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),ma(D=>{if(v=!0,Om(D))this.events.next(new fh(u.id,this.urlSerializer.serialize(u.extractedUrl),D.message,D.cancellationCode)),function TT(t){return Om(t)&&Mu(t.url)}(D)?this.events.next(new oD(D.url)):u.resolve(!1);else{this.events.next(new Sm(u.id,this.urlSerializer.serialize(u.extractedUrl),D,u.targetSnapshot??void 0));try{u.resolve(e.errorHandler(D))}catch(I){u.reject(I)}}return ds.E}))}))}cancelNavigationTransition(e,i,o){const u=new fh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(u),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FD(t){return t!==tp}let LD=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(u=>u.outlet===Vt);return i}getResolvedTitleForRoute(e){return e.data[Su]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(t1)},providedIn:"root"})}return t})(),t1=(()=>{class t extends LD{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Oe))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fm=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(n1)},providedIn:"root"})}return t})();class BD{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let n1=(()=>{class t extends BD{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=c.n5z(t)))(o||t)}}();static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cp=new c.OlP("",{providedIn:"root",factory:()=>({})});let Lm=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(i1)},providedIn:"root"})}return t})(),i1=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var up=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(up||{});function Ly(t,n){t.events.pipe(Ii(e=>e instanceof pl||e instanceof fh||e instanceof Sm||e instanceof xu),(0,Tt.U)(e=>e instanceof pl||e instanceof xu?up.COMPLETE:e instanceof fh&&(0===e.code||1===e.code)?up.REDIRECTING:up.FAILED),Ii(e=>e!==up.REDIRECTING),dr(1)).subscribe(()=>{n()})}function r1(t){throw t}function s1(t,n,e){return n.parse("/")}const VD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new Hn.x,this.options=(0,c.f3M)(cp,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||r1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||s1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Lm),this.routeReuseStrategy=(0,c.f3M)(Fm),this.titleStrategy=(0,c.f3M)(LD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(pc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(gc),this.urlSerializer=(0,c.f3M)(Jf),this.location=(0,c.f3M)(Ke),this.componentInputBindingEnabled=!!(0,c.f3M)(Nm,{optional:!0}),this.eventsSubscription=new Tu.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(By(i)&&this._events.next(i));if(i instanceof Ru)FD(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof xu)this.rawUrlTree=o.rawUrl;else if(i instanceof ph){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof sD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof fh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof oD){const u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FD(o.source)};this.scheduleNavigation(u,tp,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Sm&&this.restoreHistory(o,!0),i instanceof pl&&(this.navigated=!0),By(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const D={...o};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(u.state=D)}const v=this.parseUrl(e);this.scheduleNavigation(v,i,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Rm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:v,preserveFragment:D}=i,I=D?this.currentUrlTree.fragment:h;let P,M=null;switch(v){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}null!==M&&(M=this.removeEmptyProps(M));try{P=ZE(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),P=this.currentUrlTree.root}return Ou(P,e,M,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Mu(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,tp,null,i)}navigate(e,i={skipLocationChange:!1}){return function o1(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...VD}:!1===i?{...Bm}:i,Mu(e))return HE(this.currentUrlTree,e,o);const u=this.parseUrl(e);return HE(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const u=e[o];return null!=u&&(i[o]=u),i},{})}scheduleNavigation(e,i,o,u,h){if(this.disposed)return Promise.resolve(!1);let v,D,I;h?(v=h.resolve,D=h.reject,I=h.promise):I=new Promise((P,B)=>{v=P,D=B});const M=this.pendingTasks.add();return Ly(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:u,resolve:v,reject:D,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function By(t){return!(t instanceof sD||t instanceof oD)}class HD{}let c1=(()=>{class t{constructor(e,i,o,u,h){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(e=>e instanceof pl),sh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,e,`Route: ${u.path}`));const h=u._injector??e,v=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return(0,Vi.D)(o).pipe((0,rh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,vt.of)(null);const u=o.pipe((0,Zi.z)(h=>null===h?(0,vt.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Vi.D)([u,h]).pipe((0,rh.J)())}return u})}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Bs),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(HD),c.LFG(Fy))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Uy=new c.OlP("");let Um=(()=>{class t{constructor(e,i,o,u,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ru?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();function Eo(t,n){return{\u0275kind:t,\u0275providers:n}}function $D(){const t=(0,c.f3M)(c.zs3);return n=>{const e=t.get(c.z2F);if(n!==e.components[0])return;const i=t.get(Bs),o=t.get($y);1===t.get(dp)&&i.initialNavigation(),t.get(Gy,null,c.XFs.Optional)?.setUpPreloading(),t.get(Uy,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const $y=new c.OlP("",{factory:()=>new Hn.x}),dp=new c.OlP("",{providedIn:"root",factory:()=>1}),Gy=new c.OlP("");function d1(t){return Eo(0,[{provide:Gy,useExisting:c1},{provide:HD,useExisting:t}])}const hr=new c.OlP("ROUTER_FORROOT_GUARD"),Eh=[Ke,{provide:Jf,useClass:dy},Bs,gh,{provide:mh,useFactory:function Hy(t){return t.routerState.root},deps:[Bs]},Fy,[]];function g1(){return new c.PXZ("Router",Bs)}let YD=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Eh,[],{provide:pc,multi:!0,useValue:e},{provide:hr,useFactory:Wy,deps:[[Bs,new c.FiY,new c.tp0]]},{provide:cp,useValue:i||{}},i?.useHash?{provide:Be,useClass:Pe}:{provide:Be,useClass:We},{provide:Uy,useFactory:()=>{const t=(0,c.f3M)(ei),n=(0,c.f3M)(c.R0b),e=(0,c.f3M)(cp),i=(0,c.f3M)(gc),o=(0,c.f3M)(Jf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Um(o,i,t,n,e)}},i?.preloadingStrategy?d1(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:g1},i?.initialNavigation?FA(i):[],i?.bindToComponentInputs?Eo(8,[Cy,{provide:Nm,useExisting:Cy}]).\u0275providers:[],[{provide:m1,useFactory:$D},{provide:c.tb,multi:!0,useExisting:m1}]]}}static forChild(e){return{ngModule:t,providers:[{provide:pc,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(hr,8))};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();function Wy(t){return"guarded"}function FA(t){return["disabled"===t.initialNavigation?Eo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const n=(0,c.f3M)(Bs);return()=>{n.setUpLocationChangeListener()}}},{provide:dp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Eo(2,[{provide:dp,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:n=>{const e=n.get(Me,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Bs),u=n.get($y);Ly(o,()=>{i(!0)}),n.get(gc).afterPreactivation=()=>(i(!0),u.closed?(0,vt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const m1=new c.OlP(""),v1=[];let y1=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[YD.forRoot(v1),YD]})}return t})(),zy=(()=>{class t{constructor(e){this.db=e,this.refNovenyek=this.db.list("/novenyek")}getNovenyek(){return this.refNovenyek}updateNoveny(e,i){return this.refNovenyek.update(e,i)}deleteNoveny(e){return this.refNovenyek.remove(e)}newNoveny(e){return this.refNovenyek.push(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(ey))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qD=(()=>{class t{constructor(){this.oszlopokNoveny=["megnevezes","kepUrl","ar"]}getNovenyOszlopok(){return this.oszlopokNoveny}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hp=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:t})}return t})(),gl=(()=>{class t extends hp{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=c.n5z(t)))(o||t)}}();static#t=this.\u0275dir=c.lG2({type:t,features:[c.qOj]})}return t})();const Do=new c.OlP("NgValueAccessor"),XD={provide:Do,useExisting:(0,c.Gpc)(()=>fp),multi:!0},E1=new c.OlP("CompositionEventMode");let fp=(()=>{class t extends hp{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dh(){const t=x()?x().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(E1,8))};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&c.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[c._Bn([XD]),c.qOj]})}return t})();const qi=new c.OlP("NgValidators"),Vu=new c.OlP("NgAsyncValidators");function rw(t){return null!=t}function Jy(t){return(0,c.QGY)(t)?(0,Vi.D)(t):t}function Qy(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Xy(t,n){return n.map(e=>e(t))}function ow(t){return t.map(n=>function sw(t){return!t.validate}(n)?n:e=>n.validate(e))}function lw(t){return null!=t?function aw(t){if(!t)return null;const n=t.filter(rw);return 0==n.length?null:function(e){return Qy(Xy(e,n))}}(ow(t)):null}function cw(t){return null!=t?function e0(t){if(!t)return null;const n=t.filter(rw);return 0==n.length?null:function(e){return function b1(...t){const n=(0,Er.jO)(t),{args:e,keys:i}=eT(t),o=new Kn.y(u=>{const{length:h}=e;if(!h)return void u.complete();const v=new Array(h);let D=h,I=h;for(let M=0;M<h;M++){let P=!1;(0,Fn.Xf)(e[M]).subscribe((0,_n.x)(u,B=>{P||(P=!0,I--),v[M]=B},()=>D--,void 0,()=>{(!D||!P)&&(I||u.next(i?iy(i,v):v),u.complete())}))}});return n?o.pipe(ny(n)):o}(Xy(e,n).map(Jy)).pipe((0,Tt.U)(Qy))}}(ow(t)):null}function C1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function uw(t){return t?Array.isArray(t)?t:[t]:[]}function t0(t,n){return Array.isArray(t)?t.includes(n):t===n}function S1(t,n){const e=uw(n);return uw(t).forEach(o=>{t0(e,o)||e.push(o)}),e}function A1(t,n){return uw(n).filter(e=>!t0(t,e))}class N1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=lw(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class fr extends N1{get formDirective(){return null}get path(){return null}}class Ea extends N1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n0{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dw=(()=>{class t extends n0{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(Ea,2))};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&c.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[c.qOj]})}return t})();const gp="VALID",Gm="INVALID",wh="PENDING",mp="DISABLED";function Wm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mw{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===gp}get invalid(){return this.status===Gm}get pending(){return this.status==wh}get disabled(){return this.status===mp}get enabled(){return this.status!==mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(S1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(S1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(A1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(A1(n,this._rawAsyncValidators))}hasValidator(n){return t0(this._rawValidators,n)}hasAsyncValidator(n){return t0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=wh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=mp,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=gp,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gp||this.status===wh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mp:gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=wh,this._hasOwnPendingAsyncValidator=!0;const e=Jy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?mp:this.errors?Gm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wh)?wh:this._anyControlsHaveStatus(Gm)?Gm:gp}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Wm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function R1(t){return Array.isArray(t)?lw(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function x1(t){return Array.isArray(t)?cw(t):t||null}(this._rawAsyncValidators)}}const Uu=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_p}),_p="always";function Ch(t,n,e=_p){(function Zm(t,n){const e=function I1(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(C1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function T1(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(C1(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();Ih(n._rawValidators,o),Ih(n._rawAsyncValidators,o)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function d0(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&L1(t,n)})}(t,n),function _w(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function F1(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&L1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function mc(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Ih(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function L1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hu(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function yp(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const f0=class extends mw{constructor(n=null,e,i){super(function a0(t){return(Wm(t)?t.validators:t)||null}(e),function l0(t,n){return(Wm(n)?n.asyncValidators:t)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=yp(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Hu(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Hu(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){yp(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},tN={provide:Ea,useExisting:(0,c.Gpc)(()=>g0)},p0=(()=>Promise.resolve())();let g0=(()=>{class t extends Ea{constructor(e,i,o,u,h,v){super(),this._changeDetectorRef=h,this.callSetDisabledState=v,this.control=new f0,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function vp(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(u=>{u.constructor===fp?e=u:function yw(t){return Object.getPrototypeOf(t.constructor)===gl}(u)?i=u:o=u}),o||i||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function h0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ch(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){p0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,c.VuI)(i);p0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ym(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(fr,9),c.Y36(qi,10),c.Y36(Vu,10),c.Y36(Do,10),c.Y36(c.sBO,8),c.Y36(Uu,8))};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([tN]),c.qOj,c.TTD]})}return t})();const Z1={provide:Do,useExisting:(0,c.Gpc)(()=>Dw),multi:!0};let Dw=(()=>{class t extends gl{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=c.n5z(t)))(o||t)}}();static#t=this.\u0275dir=c.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&c.NdJ("input",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},features:[c._Bn([Z1]),c.qOj]})}return t})(),q1=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),Fw=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[q1]})}return t})(),hN=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Uu,useValue:e.callSetDisabledState??_p}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[Fw]})}return t})();function pN(t,n){if(1&t&&(c.TgZ(0,"div",2),c._uU(1),c.qZA()),2&t){const e=n.$implicit;c.xp6(1),c.hij(" ",e," ")}}function gN(t,n){if(1&t){const e=c.EpF();c.TgZ(0,"div",0)(1,"div",4)(2,"input",5),c.NdJ("ngModelChange",function(o){const h=c.CHM(e).$implicit;return c.KtG(h.megnevezes=o)}),c.qZA(),c.TgZ(3,"label",6),c._uU(4,"Megnevez\xe9s"),c.qZA()(),c.TgZ(5,"div",4)(6,"input",7),c.NdJ("ngModelChange",function(o){const h=c.CHM(e).$implicit;return c.KtG(h.kepUrl=o)}),c.qZA(),c.TgZ(7,"label",8),c._uU(8,"K\xe9p c\xedm"),c.qZA()(),c.TgZ(9,"div",4)(10,"input",9),c.NdJ("ngModelChange",function(o){const h=c.CHM(e).$implicit;return c.KtG(h.ar=o)}),c.qZA(),c.TgZ(11,"label",10),c._uU(12,"\xc1r"),c.qZA()(),c.TgZ(13,"div",2)(14,"button",11),c.NdJ("click",function(){const u=c.CHM(e).$implicit,h=c.oxw();return c.KtG(h.updateNoveny(u.key,u))}),c._uU(15,"Ment"),c.qZA(),c.TgZ(16,"button",12),c.NdJ("click",function(){const u=c.CHM(e).$implicit,h=c.oxw();return c.KtG(h.deleteNoveny(u.key))}),c._uU(17,"T\xf6r\xf6l"),c.qZA()()()}if(2&t){const e=n.$implicit;c.xp6(2),c.Q6J("ngModel",e.megnevezes),c.xp6(4),c.Q6J("ngModel",e.kepUrl),c.xp6(4),c.Q6J("ngModel",e.ar)}}let dS=(()=>{class t{constructor(e,i){this.base=e,this.config=i,this.base.getNovenyek().snapshotChanges().pipe((0,Tt.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>this.novenyek=o),this.oszlopok=this.config.oszlopokNoveny}updateNoveny(e,i){this.base.updateNoveny(e,i).then(()=>console.log("Sikeres m\xf3dos\xedt\xe1s!")).catch(()=>console.log("Hiba a m\xf3dos\xedt\xe1sn\xe1l"))}deleteNoveny(e){this.base.deleteNoveny(e).then(()=>console.log("Sikeres t\xf6rl\xe9s!")).catch(()=>console.log("Hiba a t\xf6rl\xe9sn\xe9l"))}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(zy),c.Y36(qD))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["app-noveny"]],decls:5,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["class","row",4,"ngFor","ngForOf"],[1,"form-floating","mb-3","col"],["type","text","id","floatingInput",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","text","id","kepurl",1,"form-control",3,"ngModel","ngModelChange"],["for","kepUrl"],["type","number","id","ar",1,"form-control",3,"ngModel","ngModelChange"],["for","ar"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.YNc(1,pN,2,1,"div",1),c.TgZ(2,"div",2),c._uU(3," M\u0171veletek "),c.qZA()(),c.YNc(4,gN,18,3,"div",3)),2&i&&(c.xp6(1),c.Q6J("ngForOf",o.oszlopok),c.xp6(3),c.Q6J("ngForOf",o.novenyek))},dependencies:[er,fp,Dw,dw,g0]})}return t})(),hS=(()=>{class t{constructor(){this.title="Novenyek1007"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c._UZ(1,"app-noveny"),c.qZA())},dependencies:[dS]})}return t})();var mN=R(4266);const _N=["addListener","removeListener"],vN=["addEventListener","removeEventListener"],yN=["on","off"];function pr(t,n,e,i){if((0,Fs.m)(e)&&(i=e,e=void 0),i)return pr(t,n,e).pipe(ny(i));const[o,u]=function DN(t){return(0,Fs.m)(t.addEventListener)&&(0,Fs.m)(t.removeEventListener)}(t)?vN.map(h=>v=>t[h](n,v,e)):function bN(t){return(0,Fs.m)(t.addListener)&&(0,Fs.m)(t.removeListener)}(t)?_N.map(Lw(t,n)):function EN(t){return(0,Fs.m)(t.on)&&(0,Fs.m)(t.off)}(t)?yN.map(Lw(t,n)):[];if(!o&&(0,mN.z)(t))return(0,Zi.z)(h=>pr(h,n,e))((0,Fn.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new Kn.y(h=>{const v=(...D)=>h.next(1<D.length?D:D[0]);return o(v),()=>u(v)})}function Lw(t,n){return e=>i=>t[e](n,i)}var wN=R(671);const{isArray:CN}=Array;function r(t){return 1===t.length&&CN(t[0])?t[0]:t}function l(...t){const n=(0,Er.jO)(t),e=r(t);return e.length?new Kn.y(i=>{let o=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{o=u=null});for(let h=0;!i.closed&&h<e.length;h++)(0,Fn.Xf)(e[h]).subscribe((0,_n.x)(i,v=>{if(o[h].push(v),o.every(D=>D.length)){const D=o.map(I=>I.shift());i.next(n?n(...D):D),o.some((I,M)=>!I.length&&u[M])&&i.complete()}},()=>{u[h]=!0,!o[h].length&&i.complete()}));return()=>{o=u=null}}):ds.E}Math,Math,Math;const _R=["*"],YR=["dialog"];function Ip(t){return"string"==typeof t}function Tp(t){return null!=t}function r_(t){return(t||document.body).getBoundingClientRect()}const jN={animation:!0,transitionTimerDelayMs:5},Vx=()=>{},{transitionTimerDelayMs:Ux}=jN,R0=new Map,Hs=(t,n,e,i)=>{let o=i.context||{};const u=R0.get(n);if(u)switch(i.runningTransition){case"continue":return ds.E;case"stop":t.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),R0.delete(n)}const h=e(n,i.animation,o)||Vx;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),(0,vt.of)(void 0).pipe(function Lx(t){return n=>new Kn.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const v=new Hn.x,D=new Hn.x,I=v.pipe(function d(...t){return n=>Zf(n,(0,vt.of)(...t))}(!0));R0.set(n,{transition$:v,complete:()=>{D.next(),D.complete()},context:o});const M=function Bx(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const P=pr(n,"transitionend").pipe(_i(I),Ii(({target:ee})=>ee===n));(function s(...t){return 1===(t=r(t)).length?(0,Fn.Xf)(t[0]):new Kn.y(function a(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,Fn.Xf)(t[i]).subscribe((0,_n.x)(n,o=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(o)})))}}(t))})(function Bw(t=0,n,e=Vl.P){let i=-1;return null!=n&&((0,wN.K)(n)?e=n:i=n),new Kn.y(o=>{let u=function fS(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;u<0&&(u=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},u)})}(M+Ux).pipe(_i(I)),P,D).pipe(_i(I)).subscribe(()=>{R0.delete(n),t.run(()=>{h(),v.next(),v.complete()})})}),v.asObservable()};let Gw=(()=>{class t{constructor(){this.animation=jN.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),QN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),tM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),nM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();var jn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(jn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uM(t){const n=Array.from(t.querySelectorAll(cM)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let wM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),TM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();class Op{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let VP=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(dr(1)).subscribe(()=>{Hs(this._zone,this._el.nativeElement,(e,i)=>{i&&r_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Hs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(c.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),c.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[c.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})();class SM{update(n){}close(n){}dismiss(n){}}const UP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],HP=["animation","backdropClass"];class jP{_applyWindowOptions(n,e){UP.forEach(i=>{Tp(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){HP.forEach(i=>{Tp(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(_i(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(_i(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Hn.x,this._dismissed=new Hn.x,this._hidden=new Hn.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function BN(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,vt.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),l(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var FS=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(FS||{});let $P=(()=>{class t{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Hn.x,this.hidden=new Hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ip(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(dr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=l(Hs(this._zone,e,()=>e.classList.remove("show"),i),Hs(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};l(Hs(this._zone,this._elRef.nativeElement,(u,h)=>{h&&r_(u),u.classList.add("show")},e),Hs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{pr(e,"keydown").pipe(_i(this._closed$),Ii(o=>o.which===jn.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(FS.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;pr(this._dialogEl.nativeElement,"mousedown").pipe(_i(this._closed$),(0,Ri.b)(()=>i=!1),(0,xn.w)(()=>pr(e,"mouseup").pipe(_i(this._closed$),dr(1))),Ii(({target:o})=>e===o)).subscribe(()=>{i=!0}),pr(e,"click").pipe(_i(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(FS.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=uM(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Hs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(de),c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&c.Gf(YR,7),2&i){let u;c.iGM(u=c.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(c.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),c.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),c.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[c.jDz],ngContentSelectors:_R,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&i&&c.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),GP=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:u,paddingRight:h}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=h),o.overflow=u}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WP=(()=>{class t{constructor(e,i,o,u,h,v,D){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=u,this._scrollBar=h,this._rendererFactory=v,this._ngZone=D,this._activeWindowCmptHasChanged=new Hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=pr(n,"focusin").pipe(_i(e),(0,Tt.U)(u=>u.target));pr(n,"keydown").pipe(_i(e),Ii(u=>u.which===jn.Tab),Pr(o)).subscribe(([u,h])=>{const[v,D]=uM(n);(h===v||h===n)&&u.shiftKey&&(D.focus(),u.preventDefault()),h===D&&!u.shiftKey&&(v.focus(),u.preventDefault())}),i&&pr(n,"click").pipe(_i(e),Pr(o),(0,Tt.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const u=o.container instanceof HTMLElement?o.container:Tp(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new SM,D=(e=o.injector||e).get(c.lqb,null)||this._environmentInjector,I=this._getContentRef(e,D,i,v,o);let M=!1!==o.backdrop?this._attachBackdrop(u):void 0,P=this._attachWindowComponent(u,I.nodes),B=new jP(P,I,M,o.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(P),B.hidden.pipe(dr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=ee=>{B.close(ee)},v.dismiss=ee=>{B.dismiss(ee)},v.update=ee=>{B.update(ee)},B.update(o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),M&&M.instance&&M.changeDetectorRef.detectChanges(),P.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,c.LMc)(VP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,c.LMc)($P,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,u,h){return o?o instanceof c.Rgc?this._createFromTemplateRef(o,u):Ip(o)?this._createFromString(o):this._createFromComponent(e,i,o,u,h):new Op([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(u),new Op([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Op([[i]])}_createFromComponent(e,i,o,u,h){const v=c.zs3.create({providers:[{provide:SM,useValue:u}],parent:e}),D=(0,c.LMc)(o,{environmentInjector:i,elementInjector:v}),I=D.location.nativeElement;return h.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new Op([[I]],D.hostView,D)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(c.lqb),c.LFG(de),c.LFG(GP),c.LFG(c.FYo),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zP=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Gw))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YP=(()=>{class t{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(c.zs3),c.LFG(WP),c.LFG(zP))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({providers:[YP]})}return t})(),OM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),VM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),HM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),jM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),$M=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),GM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),WM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),zM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),YM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();new c.OlP("live announcer delay",{providedIn:"root",factory:function dk(){return 100}});let KM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),ZM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();const fk=[JN,QN,tM,nM,wM,TM,AM,OM,ZM,VM,HM,jM,$M,GM,WM,zM,YM,KM];let pk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[fk,JN,QN,tM,nM,wM,TM,AM,OM,ZM,VM,HM,jM,$M,GM,WM,zM,YM,KM]})}return t})();const gk_firebaseConfig={apiKey:"AIzaSyA9jegvP3fyFzN1lf9Uu0Zn-X9BRlEwo-Y",authDomain:"disznovenywebshop.firebaseapp.com",databaseURL:"https://disznovenywebshop-default-rtdb.europe-west1.firebasedatabase.app",projectId:"disznovenywebshop",storageBucket:"disznovenywebshop.appspot.com",messagingSenderId:"966335515414",appId:"1:966335515414:web:1f914429cba098c1531e37",measurementId:"G-HNN6777NNT"};let mk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t,bootstrap:[hS]});static#n=this.\u0275inj=c.cJS({imports:[Gc,y1,pk,mi.hO.initializeApp(gk_firebaseConfig),ME,hN]})}return t})();si().bootstrapModule(mk).catch(t=>console.error(t))},5619:(st,De,R)=>{R.d(De,{X:()=>Q});var c=R(8645);class Q extends c.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const se=super._subscribe(te);return!se.closed&&te.next(this._value),se}getValue(){const{hasError:te,thrownError:se,_value:de}=this;if(te)throw se;return this._throwIfClosed(),de}next(te){super.next(this._value=te)}}},5592:(st,De,R)=>{R.d(De,{y:()=>Me});var c=R(305),Q=R(7394),x=R(4850),te=R(8407),se=R(2653),de=R(4674),ve=R(1441);let Me=(()=>{class ne{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new ne;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,Pe){const Ke=function $(ne){return ne&&ne instanceof c.Lv||function V(ne){return ne&&(0,de.m)(ne.next)&&(0,de.m)(ne.error)&&(0,de.m)(ne.complete)}(ne)&&(0,Q.Nn)(ne)}(Ae)?Ae:new c.Hp(Ae,We,Pe);return(0,ve.x)(()=>{const{operator:Re,source:lt}=this;Ke.add(Re?Re.call(Ke,lt):lt?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=ue(We))((Pe,Ke)=>{const Re=new c.Hp({next:lt=>{try{Ae(lt)}catch(ct){Ke(ct),Re.unsubscribe()}},error:Ke,complete:Pe});this.subscribe(Re)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[x.L](){return this}pipe(...Ae){return(0,te.U)(Ae)(this)}toPromise(Ae){return new(Ae=ue(Ae))((We,Pe)=>{let Ke;this.subscribe(Re=>Ke=Re,Re=>Pe(Re),()=>We(Ke))})}}return ne.create=Be=>new ne(Be),ne})();function ue(ne){var Be;return null!==(Be=ne??se.config.Promise)&&void 0!==Be?Be:Promise}},8645:(st,De,R)=>{R.d(De,{x:()=>ve});var c=R(5592),Q=R(7394);const te=(0,R(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=R(9039),de=R(1441);let ve=(()=>{class ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ne=new Me(this,this);return ne.operator=$,ne}_throwIfClosed(){if(this.closed)throw new te}next($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next($)}})}error($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ne}=this;for(;ne.length;)ne.shift().error($)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ne,isStopped:Be,observers:Ae}=this;return ne||Be?Q.Lc:(this.currentObservers=null,Ae.push($),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:ne,thrownError:Be,isStopped:Ae}=this;ne?$.error(Be):Ae&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return ue.create=(V,$)=>new Me(V,$),ue})();class Me extends ve{constructor(V,$){super(),this.destination=V,this.source=$}next(V){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ne||ne.call($,V)}error(V){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ne||ne.call($,V)}complete(){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===$||$.call(V)}_subscribe(V){var $,ne;return null!==(ne=null===($=this.source)||void 0===$?void 0:$.subscribe(V))&&void 0!==ne?ne:Q.Lc}}},305:(st,De,R)=>{R.d(De,{Hp:()=>Pe,Lv:()=>ne});var c=R(4674),Q=R(7394),x=R(2653),te=R(3894),se=R(2420);const de=ue("C",void 0,void 0);function ue(oe,_e,re){return{kind:oe,value:_e,error:re}}var V=R(7599),$=R(1441);class ne extends Q.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Q.Nn)(_e)&&_e.add(this)):this.destination=ct}static create(_e,re,we){return new Pe(_e,re,we)}next(_e){this.isStopped?lt(function Me(oe){return ue("N",oe,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?lt(function ve(oe){return ue("E",void 0,oe)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?lt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(oe,_e){return Be.call(oe,_e)}class We{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:re}=this;if(re.next)try{re.next(_e)}catch(we){Ke(we)}}error(_e){const{partialObserver:re}=this;if(re.error)try{re.error(_e)}catch(we){Ke(we)}else Ke(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(re){Ke(re)}}}class Pe extends ne{constructor(_e,re,we){let xe;if(super(),(0,c.m)(_e)||!_e)xe={next:_e??void 0,error:re??void 0,complete:we??void 0};else{let ae;this&&x.config.useDeprecatedNextContext?(ae=Object.create(_e),ae.unsubscribe=()=>this.unsubscribe(),xe={next:_e.next&&Ae(_e.next,ae),error:_e.error&&Ae(_e.error,ae),complete:_e.complete&&Ae(_e.complete,ae)}):xe=_e}this.destination=new We(xe)}}function Ke(oe){x.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(oe):(0,te.h)(oe)}function lt(oe,_e){const{onStoppedNotification:re}=x.config;re&&V.z.setTimeout(()=>re(oe,_e))}const ct={closed:!0,next:se.Z,error:function Re(oe){throw oe},complete:se.Z}},7394:(st,De,R)=>{R.d(De,{Lc:()=>de,w0:()=>se,Nn:()=>ve});var c=R(4674);const x=(0,R(2306).d)(ue=>function($){ue(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ne,Be)=>`${Be+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var te=R(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Ae){V=Ae instanceof x?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{Me(Ae)}catch(We){V=V??[],We instanceof x?V=[...V,...We.errors]:V.push(We)}}if(V)throw new x(V)}}add(V){var $;if(V&&V!==this)if(this.closed)Me(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(V)}}_hasParent(V){const{_parentage:$}=this;return $===V||Array.isArray($)&&$.includes(V)}_addParent(V){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(V),$):$?[$,V]:V}_removeParent(V){const{_parentage:$}=this;$===V?this._parentage=null:Array.isArray($)&&(0,te.P)($,V)}remove(V){const{_finalizers:$}=this;$&&(0,te.P)($,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const ue=new se;return ue.closed=!0,ue})();const de=se.EMPTY;function ve(ue){return ue instanceof se||ue&&"closed"in ue&&(0,c.m)(ue.remove)&&(0,c.m)(ue.add)&&(0,c.m)(ue.unsubscribe)}function Me(ue){(0,c.m)(ue)?ue():ue.unsubscribe()}},2653:(st,De,R)=>{R.d(De,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,De,R)=>{R.d(De,{E:()=>Q});const Q=new(R(5592).y)(se=>se.complete())},2459:(st,De,R)=>{R.d(De,{D:()=>_e});var c=R(4829),Q=R(3093),x=R(5137),de=R(5592),Me=R(4971),ue=R(4674),V=R(7103);function ne(re,we){if(!re)throw new Error("Iterable cannot be null");return new de.y(xe=>{(0,V.f)(xe,we,()=>{const ae=re[Symbol.asyncIterator]();(0,V.f)(xe,we,()=>{ae.next().then(K=>{K.done?xe.complete():xe.next(K.value)})},0,!0)})})}var Be=R(8382),Ae=R(4026),We=R(4266),Pe=R(3664),Ke=R(5726),Re=R(9853),lt=R(541);function _e(re,we){return we?function oe(re,we){if(null!=re){if((0,Be.c)(re))return function te(re,we){return(0,c.Xf)(re).pipe((0,x.R)(we),(0,Q.Q)(we))}(re,we);if((0,We.z)(re))return function ve(re,we){return new de.y(xe=>{let ae=0;return we.schedule(function(){ae===re.length?xe.complete():(xe.next(re[ae++]),xe.closed||this.schedule())})})}(re,we);if((0,Ae.t)(re))return function se(re,we){return(0,c.Xf)(re).pipe((0,x.R)(we),(0,Q.Q)(we))}(re,we);if((0,Ke.D)(re))return ne(re,we);if((0,Pe.T)(re))return function $(re,we){return new de.y(xe=>{let ae;return(0,V.f)(xe,we,()=>{ae=re[Me.h](),(0,V.f)(xe,we,()=>{let K,He;try{({value:K,done:He}=ae.next())}catch(ht){return void xe.error(ht)}He?xe.complete():xe.next(K)},0,!0)}),()=>(0,ue.m)(ae?.return)&&ae.return()})}(re,we);if((0,lt.L)(re))return function ct(re,we){return ne((0,lt.Q)(re),we)}(re,we)}throw(0,Re.z)(re)}(re,we):(0,c.Xf)(re)}},4829:(st,De,R)=>{R.d(De,{Xf:()=>Be});var c=R(7582),Q=R(4266),x=R(4026),te=R(5592),se=R(8382),de=R(5726),ve=R(9853),Me=R(3664),ue=R(541),V=R(4674),$=R(3894),ne=R(4850);function Be(oe){if(oe instanceof te.y)return oe;if(null!=oe){if((0,se.c)(oe))return function Ae(oe){return new te.y(_e=>{const re=oe[ne.L]();if((0,V.m)(re.subscribe))return re.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,Q.z)(oe))return function We(oe){return new te.y(_e=>{for(let re=0;re<oe.length&&!_e.closed;re++)_e.next(oe[re]);_e.complete()})}(oe);if((0,x.t)(oe))return function Pe(oe){return new te.y(_e=>{oe.then(re=>{_e.closed||(_e.next(re),_e.complete())},re=>_e.error(re)).then(null,$.h)})}(oe);if((0,de.D)(oe))return Re(oe);if((0,Me.T)(oe))return function Ke(oe){return new te.y(_e=>{for(const re of oe)if(_e.next(re),_e.closed)return;_e.complete()})}(oe);if((0,ue.L)(oe))return function lt(oe){return Re((0,ue.Q)(oe))}(oe)}throw(0,ve.z)(oe)}function Re(oe){return new te.y(_e=>{(function ct(oe,_e){var re,we,xe,ae;return(0,c.mG)(this,void 0,void 0,function*(){try{for(re=(0,c.KL)(oe);!(we=yield re.next()).done;)if(_e.next(we.value),_e.closed)return}catch(K){xe={error:K}}finally{try{we&&!we.done&&(ae=re.return)&&(yield ae.call(re))}finally{if(xe)throw xe.error}}_e.complete()})})(oe,_e).catch(re=>_e.error(re))})}},3019:(st,De,R)=>{R.d(De,{T:()=>de});var c=R(7537),Q=R(4829),x=R(6232),te=R(9940),se=R(2459);function de(...ve){const Me=(0,te.yG)(ve),ue=(0,te._6)(ve,1/0),V=ve;return V.length?1===V.length?(0,Q.Xf)(V[0]):(0,c.J)(ue)((0,se.D)(V,Me)):x.E}},2096:(st,De,R)=>{R.d(De,{of:()=>x});var c=R(9940),Q=R(2459);function x(...te){const se=(0,c.yG)(te);return(0,Q.D)(te,se)}},8251:(st,De,R)=>{R.d(De,{x:()=>Q});var c=R(305);function Q(te,se,de,ve,Me){return new x(te,se,de,ve,Me)}class x extends c.Lv{constructor(se,de,ve,Me,ue,V){super(se),this.onFinalize=ue,this.shouldUnsubscribe=V,this._next=de?function($){try{de($)}catch(ne){se.error(ne)}}:super._next,this._error=Me?function($){try{Me($)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(st,De,R)=>{R.d(De,{x:()=>te});var c=R(2737),Q=R(9360),x=R(8251);function te(de,ve=c.y){return de=de??se,(0,Q.e)((Me,ue)=>{let V,$=!0;Me.subscribe((0,x.x)(ue,ne=>{const Be=ve(ne);($||!de(V,Be))&&($=!1,V=Be,ue.next(ne))}))})}function se(de,ve){return de===ve}},7398:(st,De,R)=>{R.d(De,{U:()=>x});var c=R(9360),Q=R(8251);function x(te,se){return(0,c.e)((de,ve)=>{let Me=0;de.subscribe((0,Q.x)(ve,ue=>{ve.next(te.call(se,ue,Me++))}))})}},7537:(st,De,R)=>{R.d(De,{J:()=>x});var c=R(1631),Q=R(2737);function x(te=1/0){return(0,c.z)(Q.y,te)}},1631:(st,De,R)=>{R.d(De,{z:()=>Me});var c=R(7398),Q=R(4829),x=R(9360),te=R(7103),se=R(8251),ve=R(4674);function Me(ue,V,$=1/0){return(0,ve.m)(V)?Me((ne,Be)=>(0,c.U)((Ae,We)=>V(ne,Ae,Be,We))((0,Q.Xf)(ue(ne,Be))),$):("number"==typeof V&&($=V),(0,x.e)((ne,Be)=>function de(ue,V,$,ne,Be,Ae,We,Pe){const Ke=[];let Re=0,lt=0,ct=!1;const oe=()=>{ct&&!Ke.length&&!Re&&V.complete()},_e=we=>Re<ne?re(we):Ke.push(we),re=we=>{Ae&&V.next(we),Re++;let xe=!1;(0,Q.Xf)($(we,lt++)).subscribe((0,se.x)(V,ae=>{Be?.(ae),Ae?_e(ae):V.next(ae)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Re--;Ke.length&&Re<ne;){const ae=Ke.shift();We?(0,te.f)(V,We,()=>re(ae)):re(ae)}oe()}catch(ae){V.error(ae)}}))};return ue.subscribe((0,se.x)(V,_e,()=>{ct=!0,oe()})),()=>{Pe?.()}}(ne,Be,ue,$)))}},3093:(st,De,R)=>{R.d(De,{Q:()=>te});var c=R(7103),Q=R(9360),x=R(8251);function te(se,de=0){return(0,Q.e)((ve,Me)=>{ve.subscribe((0,x.x)(Me,ue=>(0,c.f)(Me,se,()=>Me.next(ue),de),()=>(0,c.f)(Me,se,()=>Me.complete(),de),ue=>(0,c.f)(Me,se,()=>Me.error(ue),de)))})}},3020:(st,De,R)=>{R.d(De,{B:()=>se});var c=R(4829),Q=R(8645),x=R(305),te=R(9360);function se(ve={}){const{connector:Me=(()=>new Q.x),resetOnError:ue=!0,resetOnComplete:V=!0,resetOnRefCountZero:$=!0}=ve;return ne=>{let Be,Ae,We,Pe=0,Ke=!1,Re=!1;const lt=()=>{Ae?.unsubscribe(),Ae=void 0},ct=()=>{lt(),Be=We=void 0,Ke=Re=!1},oe=()=>{const _e=Be;ct(),_e?.unsubscribe()};return(0,te.e)((_e,re)=>{Pe++,!Re&&!Ke&&lt();const we=We=We??Me();re.add(()=>{Pe--,0===Pe&&!Re&&!Ke&&(Ae=de(oe,$))}),we.subscribe(re),!Be&&Pe>0&&(Be=new x.Hp({next:xe=>we.next(xe),error:xe=>{Re=!0,lt(),Ae=de(ct,ue,xe),we.error(xe)},complete:()=>{Ke=!0,lt(),Ae=de(ct,V),we.complete()}}),(0,c.Xf)(_e).subscribe(Be))})(ne)}}function de(ve,Me,...ue){if(!0===Me)return void ve();if(!1===Me)return;const V=new x.Hp({next:()=>{V.unsubscribe(),ve()}});return(0,c.Xf)(Me(...ue)).subscribe(V)}},5137:(st,De,R)=>{R.d(De,{R:()=>Q});var c=R(9360);function Q(x,te=0){return(0,c.e)((se,de)=>{de.add(x.schedule(()=>se.subscribe(de),te))})}},4664:(st,De,R)=>{R.d(De,{w:()=>te});var c=R(4829),Q=R(9360),x=R(8251);function te(se,de){return(0,Q.e)((ve,Me)=>{let ue=null,V=0,$=!1;const ne=()=>$&&!ue&&Me.complete();ve.subscribe((0,x.x)(Me,Be=>{ue?.unsubscribe();let Ae=0;const We=V++;(0,c.Xf)(se(Be,We)).subscribe(ue=(0,x.x)(Me,Pe=>Me.next(de?de(Be,Pe,We,Ae++):Pe),()=>{ue=null,ne()}))},()=>{$=!0,ne()}))})}},9397:(st,De,R)=>{R.d(De,{b:()=>se});var c=R(4674),Q=R(9360),x=R(8251),te=R(2737);function se(de,ve,Me){const ue=(0,c.m)(de)||ve||Me?{next:de,error:ve,complete:Me}:de;return ue?(0,Q.e)((V,$)=>{var ne;null===(ne=ue.subscribe)||void 0===ne||ne.call(ue);let Be=!0;V.subscribe((0,x.x)($,Ae=>{var We;null===(We=ue.next)||void 0===We||We.call(ue,Ae),$.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=ue.complete)||void 0===Ae||Ae.call(ue),$.complete()},Ae=>{var We;Be=!1,null===(We=ue.error)||void 0===We||We.call(ue,Ae),$.error(Ae)},()=>{var Ae,We;Be&&(null===(Ae=ue.unsubscribe)||void 0===Ae||Ae.call(ue)),null===(We=ue.finalize)||void 0===We||We.call(ue)}))}):te.y}},1954:(st,De,R)=>{R.d(De,{o:()=>se});var c=R(7394);class Q extends c.w0{constructor(ve,Me){super()}schedule(ve,Me=0){return this}}const x={setInterval(de,ve,...Me){const{delegate:ue}=x;return ue?.setInterval?ue.setInterval(de,ve,...Me):setInterval(de,ve,...Me)},clearInterval(de){const{delegate:ve}=x;return(ve?.clearInterval||clearInterval)(de)},delegate:void 0};var te=R(9039);class se extends Q{constructor(ve,Me){super(ve,Me),this.scheduler=ve,this.work=Me,this.pending=!1}schedule(ve,Me=0){var ue;if(this.closed)return this;this.state=ve;const V=this.id,$=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId($,V,Me)),this.pending=!0,this.delay=Me,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId($,this.id,Me),this}requestAsyncId(ve,Me,ue=0){return x.setInterval(ve.flush.bind(ve,this),ue)}recycleAsyncId(ve,Me,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return Me;null!=Me&&x.clearInterval(Me)}execute(ve,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ve,Me);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Me){let V,ue=!1;try{this.work(ve)}catch($){ue=!0,V=$||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Me}=this,{actions:ue}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ue,this),null!=ve&&(this.id=this.recycleAsyncId(Me,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(st,De,R)=>{R.d(De,{v:()=>x});var c=R(4552);class Q{constructor(se,de=Q.now){this.schedulerActionCtor=se,this.now=de}schedule(se,de=0,ve){return new this.schedulerActionCtor(this,se).schedule(ve,de)}}Q.now=c.l.now;class x extends Q{constructor(se,de=Q.now){super(se,de),this.actions=[],this._active=!1}flush(se){const{actions:de}=this;if(this._active)return void de.push(se);let ve;this._active=!0;do{if(ve=se.execute(se.state,se.delay))break}while(se=de.shift());if(this._active=!1,ve){for(;se=de.shift();)se.unsubscribe();throw ve}}}},6321:(st,De,R)=>{R.d(De,{P:()=>te,z:()=>x});var c=R(1954);const x=new(R(2631).v)(c.o),te=x},4552:(st,De,R)=>{R.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(st,De,R)=>{R.d(De,{z:()=>c});const c={setTimeout(Q,x,...te){const{delegate:se}=c;return se?.setTimeout?se.setTimeout(Q,x,...te):setTimeout(Q,x,...te)},clearTimeout(Q){const{delegate:x}=c;return(x?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(st,De,R)=>{R.d(De,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,De,R)=>{R.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(st,De,R)=>{R.d(De,{_6:()=>de,jO:()=>te,yG:()=>se});var c=R(4674),Q=R(671);function x(ve){return ve[ve.length-1]}function te(ve){return(0,c.m)(x(ve))?ve.pop():void 0}function se(ve){return(0,Q.K)(x(ve))?ve.pop():void 0}function de(ve,Me){return"number"==typeof x(ve)?ve.pop():Me}},9039:(st,De,R)=>{function c(Q,x){if(Q){const te=Q.indexOf(x);0<=te&&Q.splice(te,1)}}R.d(De,{P:()=>c})},2306:(st,De,R)=>{function c(Q){const te=Q(se=>{Error.call(se),se.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}R.d(De,{d:()=>c})},1441:(st,De,R)=>{R.d(De,{O:()=>te,x:()=>x});var c=R(2653);let Q=null;function x(se){if(c.config.useDeprecatedSynchronousErrorHandling){const de=!Q;if(de&&(Q={errorThrown:!1,error:null}),se(),de){const{errorThrown:ve,error:Me}=Q;if(Q=null,ve)throw Me}}else se()}function te(se){c.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},7103:(st,De,R)=>{function c(Q,x,te,se=0,de=!1){const ve=x.schedule(function(){te(),de?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(ve),!de)return ve}R.d(De,{f:()=>c})},2737:(st,De,R)=>{function c(Q){return Q}R.d(De,{y:()=>c})},4266:(st,De,R)=>{R.d(De,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(st,De,R)=>{R.d(De,{D:()=>Q});var c=R(4674);function Q(x){return Symbol.asyncIterator&&(0,c.m)(x?.[Symbol.asyncIterator])}},4674:(st,De,R)=>{function c(Q){return"function"==typeof Q}R.d(De,{m:()=>c})},8382:(st,De,R)=>{R.d(De,{c:()=>x});var c=R(4850),Q=R(4674);function x(te){return(0,Q.m)(te[c.L])}},3664:(st,De,R)=>{R.d(De,{T:()=>x});var c=R(4971),Q=R(4674);function x(te){return(0,Q.m)(te?.[c.h])}},4026:(st,De,R)=>{R.d(De,{t:()=>Q});var c=R(4674);function Q(x){return(0,c.m)(x?.then)}},541:(st,De,R)=>{R.d(De,{L:()=>te,Q:()=>x});var c=R(7582),Q=R(4674);function x(se){return(0,c.FC)(this,arguments,function*(){const ve=se.getReader();try{for(;;){const{value:Me,done:ue}=yield(0,c.qq)(ve.read());if(ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Me)}}finally{ve.releaseLock()}})}function te(se){return(0,Q.m)(se?.getReader)}},671:(st,De,R)=>{R.d(De,{K:()=>Q});var c=R(4674);function Q(x){return x&&(0,c.m)(x.schedule)}},9360:(st,De,R)=>{R.d(De,{A:()=>Q,e:()=>x});var c=R(4674);function Q(te){return(0,c.m)(te?.lift)}function x(te){return se=>{if(Q(se))return se.lift(function(de){try{return te(de,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,De,R)=>{function c(){}R.d(De,{Z:()=>c})},8407:(st,De,R)=>{R.d(De,{U:()=>x,z:()=>Q});var c=R(2737);function Q(...te){return x(te)}function x(te){return 0===te.length?c.y:1===te.length?te[0]:function(de){return te.reduce((ve,Me)=>Me(ve),de)}}},3894:(st,De,R)=>{R.d(De,{h:()=>x});var c=R(2653),Q=R(7599);function x(te){Q.z.setTimeout(()=>{const{onUnhandledError:se}=c.config;if(!se)throw te;se(te)})}},9853:(st,De,R)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(De,{z:()=>c})},5879:(st,De,R)=>{R.d(De,{$8M:()=>Yo,$WT:()=>Es,$Z:()=>Fb,AFp:()=>L_,AaK:()=>ne,CHM:()=>br,CRH:()=>Gy,EJc:()=>dw,EpF:()=>yE,F$t:()=>Wv,F4k:()=>BI,FYo:()=>Y_,FiY:()=>Ed,Gf:()=>WD,GfV:()=>K_,Gpc:()=>We,HDt:()=>fw,Hsn:()=>zv,Ikx:()=>gy,JOm:()=>ea,KtG:()=>Pl,LFG:()=>wt,LMc:()=>fS,Lbi:()=>mu,Lck:()=>kT,MAs:()=>kI,MGl:()=>zf,MMx:()=>ap,NdJ:()=>Gv,Ojb:()=>U_,OlP:()=>rn,Oqu:()=>Su,P3R:()=>N_,PXZ:()=>B1,Q6J:()=>pE,QGY:()=>bE,Qsj:()=>ls,R0b:()=>Bi,RDi:()=>pf,Rgc:()=>gc,SBq:()=>Mf,SDv:()=>_D,Sil:()=>M1,Suo:()=>u1,TTD:()=>Nl,TgZ:()=>Hv,Tol:()=>iy,VKq:()=>MD,VuI:()=>hS,W1O:()=>p1,WLB:()=>Pm,X6Q:()=>XA,XFs:()=>Je,Xpm:()=>yl,Xq5:()=>rE,Xts:()=>Fd,Y36:()=>Wd,YKP:()=>bD,YNc:()=>Bv,Yjl:()=>Ic,Yz7:()=>ut,Z0I:()=>Z,ZZ4:()=>Xm,_Bn:()=>yD,_UZ:()=>vm,_c5:()=>C0,_uU:()=>ly,aQg:()=>e_,c2e:()=>n0,cJS:()=>un,cg1:()=>my,dDg:()=>Ym,dqk:()=>Mt,eFA:()=>U1,eJc:()=>Wy,ekj:()=>ty,eoX:()=>Ch,f3M:()=>Ot,g9A:()=>B_,h0i:()=>Bu,hGG:()=>Ow,hij:()=>Dm,iGM:()=>GD,ifc:()=>mr,ip1:()=>fr,jDz:()=>DD,kEZ:()=>xy,kL8:()=>KE,lG2:()=>Oo,lqb:()=>Ur,lri:()=>Uu,n5z:()=>lr,oAB:()=>Sa,oxw:()=>EE,q4F:()=>bb,qFp:()=>Bw,qLn:()=>la,qOj:()=>Xb,qZA:()=>_m,rWj:()=>_p,rg0:()=>Vc,s9C:()=>ym,sBO:()=>g0,s_b:()=>Bm,soG:()=>r0,tb:()=>d0,tp0:()=>zl,uIk:()=>Cv,vHH:()=>oe,vpe:()=>ks,wAp:()=>ch,xp6:()=>kb,z2F:()=>Hu,zSh:()=>O_,zW0:()=>sm,zs3:()=>Ps});var c=R(8645),Q=R(7394),x=R(5592),te=R(3019),se=R(5619),de=R(2096),ve=R(3020),Me=R(4664),ue=R(3997);function V(r){for(let s in r)if(r[s]===V)return s;throw Error("Could not find renamed property on target object.")}function $(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Be(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ae=V({__forward_ref__:V});function We(r){return r.__forward_ref__=We,r.toString=function(){return ne(this())},r}function Pe(r){return Ke(r)?r():r}function Ke(r){return"function"==typeof r&&r.hasOwnProperty(Ae)&&r.__forward_ref__===We}function Re(r){return r&&!!r.\u0275providers}const ct="https://g.co/ng/security#xss";class oe extends Error{constructor(s,a){super(function _e(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function re(r){return"string"==typeof r?r:null==r?"":String(r)}function He(r,s){throw new oe(-201,!1)}function Ge(r,s,a,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function ut(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function un(r){return{providers:r.providers||[],imports:r.imports||[]}}function In(r){return q(r,Ve)||q(r,dn)}function Z(r){return null!==In(r)}function q(r,s){return r.hasOwnProperty(s)?r[s]:null}function Te(r){return r&&(r.hasOwnProperty(et)||r.hasOwnProperty(Yt))?r[et]:null}const Ve=V({\u0275prov:V}),et=V({\u0275inj:V}),dn=V({ngInjectableDef:V}),Yt=V({ngInjectorDef:V});var Je=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Je||{});let at;function Kt(r){const s=at;return at=r,s}function on(r,s,a){const l=In(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Je.Optional?null:void 0!==s?s:void He(ne(r))}const Mt=globalThis,ze={},tt="__NG_DI_FLAG__",_t="ngTempTokenPath",H=/\n/gm,J="__source";let Ie;function it(r){const s=Ie;return Ie=r,s}function St(r,s=Je.Default){if(void 0===Ie)throw new oe(-203,!1);return null===Ie?on(r,void 0,s):Ie.get(r,s&Je.Optional?null:void 0,s)}function wt(r,s=Je.Default){return(function yt(){return at}()||St)(Pe(r),s)}function Ot(r,s=Je.Default){return wt(r,Gn(s))}function Gn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Zt(r){const s=[];for(let a=0;a<r.length;a++){const l=Pe(r[a]);if(Array.isArray(l)){if(0===l.length)throw new oe(900,!1);let d,p=Je.Default;for(let m=0;m<l.length;m++){const b=l[m],w=_s(b);"number"==typeof w?-1===w?d=b.token:p|=w:d=b}s.push(wt(d,p))}else s.push(wt(l))}return s}function ci(r,s){return r[tt]=s,r.prototype[tt]=s,r}function _s(r){return r[tt]}function Nr(r){return{toString:r}.toString()}var vs=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(vs||{}),mr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(mr||{});const _r={},Gt=[],ys=V({\u0275cmp:V}),To=V({\u0275dir:V}),Ia=V({\u0275pipe:V}),$u=V({\u0275mod:V}),Mr=V({\u0275fac:V}),So=V({__NG_ELEMENT_ID__:V}),Ao=V({__NG_ENV_ID__:V});function bc(r,s,a){let l=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||r.charCodeAt(d+p)<=32)return d}a=d+1}}function Ta(r,s,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],m=a[l++],b=a[l++];r.setAttribute(s,m,b,p)}else{const p=d,m=a[++l];Xi(p)?r.setProperty(s,p,m):r.setAttribute(s,p,m),l++}}return l}function Ec(r){return 3===r||4===r||6===r}function Xi(r){return 64===r.charCodeAt(0)}function js(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||er(r,a,d,null,-1===a||2===a?s[++l]:null)}}return r}function er(r,s,a,l,d){let p=0,m=r.length;if(-1===s)m=-1;else for(;p<r.length;){const b=r[p++];if("number"==typeof b){if(b===s){m=-1;break}if(b>s){m=p-1;break}}}for(;p<r.length;){const b=r[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(r[p+1]=d));if(l===r[p+1])return void(r[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==m&&(r.splice(m,0,s),p=m+1),r.splice(p++,0,a),null!==l&&r.splice(p++,0,l),null!==d&&r.splice(p++,0,d)}const Dc="ng-template";function Wn(r,s,a){let l=0,d=!0;for(;l<r.length;){let p=r[l++];if("string"==typeof p&&d){const m=r[l++];if(a&&"class"===p&&-1!==bc(m.toLowerCase(),s,0))return!0}else{if(1===p){for(;l<r.length&&"string"==typeof(p=r[l++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function vr(r){return 4===r.type&&r.value!==Dc}function Lp(r,s,a){return s===(4!==r.type||a?r.value:Dc)}function Oh(r,s,a){let l=4;const d=r.attrs||[],p=function Bp(r){for(let s=0;s<r.length;s++)if(Ec(r[s]))return s;return r.length}(d);let m=!1;for(let b=0;b<s.length;b++){const w=s[b];if("number"!=typeof w){if(!m)if(4&l){if(l=2|1&l,""!==w&&!Lp(r,w,a)||""===w&&1===s.length){if(xi(l))return!1;m=!0}}else{const S=8&l?w:s[++b];if(8&l&&null!==r.attrs){if(!Wn(r.attrs,S,a)){if(xi(l))return!1;m=!0}continue}const F=No(8&l?"class":w,d,vr(r),a);if(-1===F){if(xi(l))return!1;m=!0;continue}if(""!==S){let Y;Y=F>p?"":d[F+1].toLowerCase();const ie=8&l?Y:null;if(ie&&-1!==bc(ie,S,0)||2&l&&S!==Y){if(xi(l))return!1;m=!0}}}}else{if(!m&&!xi(l)&&!xi(w))return!1;if(m&&xi(w))continue;m=!1,l=w|1&l}}return xi(l)||m}function xi(r){return 0==(1&r)}function No(r,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function $s(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const l=r[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,r)}function wc(r,s,a=!1){for(let l=0;l<s.length;l++)if(Oh(r,s[l],a))return!0;return!1}function Wu(r,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(r.length===l.length){for(let d=0;d<r.length;d++)if(r[d]!==l[d])continue e;return!0}}return!1}function Mo(r,s){return r?":not("+s.trim()+")":s}function bs(r){let s=r[0],a=1,l=2,d="",p=!1;for(;a<r.length;){let m=r[a];if("string"==typeof m)if(2&l){const b=r[++a];d+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!xi(m)&&(s+=Mo(p,d),d=""),l=m,p=p||!xi(l);a++}return""!==d&&(s+=Mo(p,d)),s}function yl(r){return Nr(()=>{const s=Tc(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||mr.Emulated,styles:r.styles||Gt,_:null,schemas:r.schemas||null,tView:null,id:""};Rh(a);const l=r.dependencies;return a.directiveDefs=Aa(l,!1),a.pipeDefs=Aa(l,!0),a.id=function nr(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Cc(r){return Wt(r)||kn(r)}function bl(r){return null!==r}function Sa(r){return Nr(()=>({type:r.type,bootstrap:r.bootstrap||Gt,declarations:r.declarations||Gt,imports:r.imports||Gt,exports:r.exports||Gt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function El(r,s){if(null==r)return _r;const a={};for(const l in r)if(r.hasOwnProperty(l)){let d=r[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}function Oo(r){return Nr(()=>{const s=Tc(r);return Rh(s),s})}function Ic(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Wt(r){return r[ys]||null}function kn(r){return r[To]||null}function Ti(r){return r[Ia]||null}function Es(r){const s=Wt(r)||kn(r)||Ti(r);return null!==s&&s.standalone}function Si(r,s){const a=r[$u]||null;if(!a&&!0===s)throw new Error(`Type ${ne(r)} does not have '\u0275mod' property.`);return a}function Tc(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||_r,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Gt,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:El(r.inputs,s),outputs:El(r.outputs)}}function Rh(r){r.features?.forEach(s=>s(r))}function Aa(r,s){if(!r)return null;const a=s?Ti:Cc;return()=>("function"==typeof r?r():r).map(l=>a(l)).filter(bl)}const Sn=0,nt=1,bt=2,An=3,Ai=4,Gs=5,ui=6,Na=7,Rn=8,Wr=9,Ro=10,Et=11,di=12,xh=13,Ds=14,Nn=15,Sc=16,Ws=17,ei=18,zr=19,Yr=20,ws=21,ir=22,Ma=23,Cs=24,Rt=25,xo=1,wl=2,ti=7,ni=9,hi=11;function ii(r){return Array.isArray(r)&&"object"==typeof r[xo]}function Di(r){return Array.isArray(r)&&!0===r[xo]}function Cl(r){return 0!=(4&r.flags)}function Ys(r){return r.componentOffset>-1}function Hi(r){return 1==(1&r.flags)}function Pi(r){return!!r.template}function Po(r){return 0!=(512&r[bt])}function Ks(r,s){return r.hasOwnProperty(Mr)?r[Mr]:null}let Yn=null,Zs=!1;function ki(r){const s=Yn;return Yn=r,s}const qs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xa(r){if(!Js(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Pc(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Pa(r){r.dirty=!0,function Qu(r){if(void 0===r.liveConsumerNode)return;const s=Zs;Zs=!0;try{for(const a of r.liveConsumerNode)a.dirty||Pa(a)}finally{Zs=s}}(r),r.consumerMarkedDirty?.(r)}function Xu(r){return r&&(r.nextProducerIndex=0),ki(r)}function ri(r,s){if(ki(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Js(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)ka(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Pc(r){Ts(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],l=r.producerLastReadVersion[s];if(l!==a.version||(xa(a),l!==a.version))return!0}return!1}function kc(r){if(Ts(r),Js(r))for(let s=0;s<r.producerNode.length;s++)ka(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ka(r,s){if(function Fa(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Ts(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)ka(r.producerNode[l],r.producerIndexOfThis[l]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Ts(d),d.producerIndexOfThis[l]=s}}function Js(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ts(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let nd=null;function Vc(r){const s=ki(null);try{return r()}finally{ki(s)}}const Uc=()=>{},Vh=(()=>({...qs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Uc}))();class Uh{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Nl(){return Va}function Va(r){return r.type.prototype.ngOnChanges&&(r.setInput=Qs),Hh}function Hh(){const r=Xs(this),s=r?.current;if(s){const a=r.previous;if(a===_r)r.previous=s;else for(let l in s)a[l]=s[l];r.current=null,this.ngOnChanges(s)}}function Qs(r,s,a,l){const d=this.declaredInputs[a],p=Xs(r)||function rd(r,s){return r[Rr]=s}(r,{previous:_r,current:null}),m=p.current||(p.current={}),b=p.previous,w=b[d];m[d]=new Uh(w&&w.currentValue,s,b===_r),r[l]=s}Nl.ngInherit=!0;const Rr="__ngSimpleChanges__";function Xs(r){return r[Rr]||null}const yr=function(r,s,a){};function Xt(r){for(;Array.isArray(r);)r=r[Sn];return r}function to(r,s){return Xt(s[r])}function fi(r,s){return Xt(s[r.index])}function jc(r,s){return r.data[s]}function pi(r,s){const a=s[r];return ii(a)?a:a[Sn]}function Fi(r,s){return null==s?null:r[s]}function zh(r){r[Ws]=0}function $c(r){1024&r[bt]||(r[bt]|=1024,Yp(r,1))}function Ml(r){1024&r[bt]&&(r[bt]&=-1025,Yp(r,-1))}function Yp(r,s){let a=r[An];if(null===a)return;a[Gs]+=s;let l=a;for(a=a[An];null!==a&&(1===s&&1===l[Gs]||-1===s&&0===l[Gs]);)a[Gs]+=s,l=a,a=a[An]}const Dt={lFrame:Kn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gi(){return Dt.bindingsEnabled}function xr(){return null!==Dt.skipHydrationRootTNode}function Oe(){return Dt.lFrame.lView}function Ht(){return Dt.lFrame.tView}function br(r){return Dt.lFrame.contextLView=r,r[Rn]}function Pl(r){return Dt.lFrame.contextLView=null,r}function oi(){let r=kl();for(;null!==r&&64===r.type;)r=r.parent;return r}function kl(){return Dt.lFrame.currentTNode}function Ho(){const r=Dt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Ss(r,s){const a=Dt.lFrame;a.currentTNode=r,a.isParent=s}function io(){return Dt.lFrame.isParent}function zc(){Dt.lFrame.isParent=!1}function Li(){const r=Dt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function ro(){return Dt.lFrame.bindingIndex++}function As(r){const s=Dt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function hd(r){Dt.lFrame.inI18n=r}function Fl(r,s){const a=Dt.lFrame;a.bindingIndex=a.bindingRootIndex=r,Ll(s)}function Ll(r){Dt.lFrame.currentDirectiveIndex=r}function Bl(){return Dt.lFrame.currentQueryIndex}function pd(r){Dt.lFrame.currentQueryIndex=r}function gd(r){const s=r[nt];return 2===s.type?s.declTNode:1===s.type?r[ui]:null}function Kh(r,s,a){if(a&Je.SkipSelf){let d=s,p=r;for(;!(d=d.parent,null!==d||a&Je.Host||(d=gd(p),null===d||(p=p[Ds],10&d.type))););if(null===d)return!1;s=d,r=p}const l=Dt.lFrame=Vl();return l.currentTNode=s,l.lView=r,!0}function mi(r){const s=Vl(),a=r[nt];Dt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Vl(){const r=Dt.lFrame,s=null===r?null:r.child;return null===s?Kn(r):s}function Kn(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function vt(){const r=Dt.lFrame;return Dt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Zr=vt;function Tt(){const r=vt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function en(){return Dt.lFrame.selectedIndex}function _n(r){Dt.lFrame.selectedIndex=r}function En(){const r=Dt.lFrame;return jc(r.tView,r.selectedIndex)}let Er=!0;function Pr(){return Er}function kr(r){Er=r}function $a(r,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:O}=p;m&&(r.contentHooks??=[]).push(-a,m),b&&((r.contentHooks??=[]).push(a,b),(r.contentCheckHooks??=[]).push(a,b)),w&&(r.viewHooks??=[]).push(-a,w),S&&((r.viewHooks??=[]).push(a,S),(r.viewCheckHooks??=[]).push(a,S)),null!=O&&(r.destroyHooks??=[]).push(a,O)}}function Ga(r,s,a){Ul(r,s,3,a)}function Fr(r,s,a,l){(3&r[bt])===a&&Ul(r,s,a,l)}function sr(r,s){let a=r[bt];(3&a)===s&&(a&=8191,a+=1,r[bt]=a)}function Ul(r,s,a,l){const p=l??-1,m=s.length-1;let b=0;for(let w=void 0!==l?65535&r[Ws]:0;w<m;w++)if("number"==typeof s[w+1]){if(b=s[w],null!=l&&b>=l)break}else s[w]<0&&(r[Ws]+=65536),(b<p||-1==p)&&($o(r,a,s,w),r[Ws]=(4294901760&r[Ws])+w+2),w++}function L(r,s){yr(4,r,s);const a=ki(null);try{s.call(r)}finally{ki(a),yr(5,r,s)}}function $o(r,s,a,l){const d=a[l]<0,p=a[l+1],b=r[d?-a[l]:a[l]];d?r[bt]>>13<r[Ws]>>16&&(3&r[bt])===s&&(r[bt]+=8192,L(b,p)):L(b,p)}const Jr=-1;class Qr{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Wo(r){return r!==Jr}function so(r){return 32767&r}function $i(r,s){let a=function za(r){return r>>16}(r),l=s;for(;a>0;)l=l[Ds],a--;return l}let $l=!0;function Ya(r){const s=$l;return $l=r,s}const zo=255,qc=5;let or=0;const Dn={};function Lr(r,s){const a=ar(r,s);if(-1!==a)return a;const l=s[nt];l.firstCreatePass&&(r.injectorIndex=s.length,Ka(l.data,r),Ka(s,null),Ka(l.blueprint,null));const d=wi(r,s),p=r.injectorIndex;if(Wo(d)){const m=so(d),b=$i(d,s),w=b[nt].data;for(let S=0;S<8;S++)s[p+S]=b[m+S]|w[m+S]}return s[p+8]=d,p}function Ka(r,s){r.push(0,0,0,0,0,0,0,0,s)}function ar(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function wi(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=lo(d),null===l)return Jr;if(a++,d=d[Ds],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Jr}function Dr(r,s,a){!function Jc(r,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(So)&&(l=a[So]),null==l&&(l=a[So]=or++);const d=l&zo;s.data[r+(d>>qc)]|=1<<d}(r,s,a)}function Xr(r,s,a){if(a&Je.Optional||void 0!==r)return r;He()}function oo(r,s,a,l){if(a&Je.Optional&&void 0===l&&(l=null),!(a&(Je.Self|Je.Host))){const d=r[Wr],p=Kt(void 0);try{return d?d.get(s,l,a&Je.Optional):on(s,l,a&Je.Optional)}finally{Kt(p)}}return Xr(l,0,a)}function Za(r,s,a,l=Je.Default,d){if(null!==r){if(2048&s[bt]&&!(l&Je.Self)){const m=function Jp(r,s,a,l,d){let p=r,m=s;for(;null!==p&&null!==m&&2048&m[bt]&&!(512&m[bt]);){const b=qn(p,m,a,l|Je.Self,Dn);if(b!==Dn)return b;let w=p.parent;if(!w){const S=m[Yr];if(S){const O=S.get(a,Dn,l);if(O!==Dn)return O}w=lo(m),m=m[Ds]}p=w}return d}(r,s,a,l,Dn);if(m!==Dn)return m}const p=qn(r,s,a,l,Dn);if(p!==Dn)return p}return oo(s,a,l,d)}function qn(r,s,a,l,d){const p=function qh(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(So)?r[So]:void 0;return"number"==typeof s?s>=0?s&zo:Wl:s}(a);if("function"==typeof p){if(!Kh(s,r,l))return l&Je.Host?Xr(d,0,l):oo(s,a,l,d);try{let m;if(m=p(l),null!=m||l&Je.Optional)return m;He()}finally{Zr()}}else if("number"==typeof p){let m=null,b=ar(r,s),w=Jr,S=l&Je.Host?s[Nn][ui]:null;for((-1===b||l&Je.SkipSelf)&&(w=-1===b?wi(r,s):s[b+8],w!==Jr&&eu(l,!1)?(m=s[nt],b=so(w),s=$i(w,s)):b=-1);-1!==b;){const O=s[nt];if(es(p,b,O.data)){const F=Qc(b,s,a,m,l,S);if(F!==Dn)return F}w=s[b+8],w!==Jr&&eu(l,s[nt].data[b+8]===S)&&es(p,b,s)?(m=O,b=so(w),s=$i(w,s)):b=-1}}return d}function Qc(r,s,a,l,d,p){const m=s[nt],b=m.data[r+8],O=Xc(b,m,a,null==l?Ys(b)&&$l:l!=m&&0!=(3&b.type),d&Je.Host&&p===b);return null!==O?ao(s,m,O,b):Dn}function Xc(r,s,a,l,d){const p=r.providerIndexes,m=s.data,b=1048575&p,w=r.directiveStart,O=p>>20,Y=d?b+O:r.directiveEnd;for(let ie=l?b:b+O;ie<Y;ie++){const me=m[ie];if(ie<w&&a===me||ie>=w&&me.type===a)return ie}if(d){const ie=m[w];if(ie&&Pi(ie)&&ie.type===a)return w}return null}function ao(r,s,a,l){let d=r[a];const p=s.data;if(function md(r){return r instanceof Qr}(d)){const m=d;m.resolving&&function xe(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new oe(-200,`Circular dependency in DI detected for ${r}${a}`)}(function we(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():re(r)}(p[a]));const b=Ya(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?Kt(m.injectImpl):null;Kh(r,l,Je.Default);try{d=r[a]=m.factory(void 0,p,r,l),s.firstCreatePass&&a>=l.directiveStart&&function Ln(r,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const m=Va(s);(a.preOrderHooks??=[]).push(r,m),(a.preOrderCheckHooks??=[]).push(r,m)}d&&(a.preOrderHooks??=[]).push(0-r,d),p&&((a.preOrderHooks??=[]).push(r,p),(a.preOrderCheckHooks??=[]).push(r,p))}(a,p[a],s)}finally{null!==S&&Kt(S),Ya(b),m.resolving=!1,Zr()}}return d}function es(r,s,a){return!!(a[s+(r>>qc)]&1<<r)}function eu(r,s){return!(r&Je.Self||r&Je.Host&&s)}class vn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Za(this._tNode,this._lView,s,Gn(l),a)}}function Wl(){return new vn(oi(),Oe())}function lr(r){return Nr(()=>{const s=r.prototype.constructor,a=s[Mr]||_d(s),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const p=d[Mr]||_d(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function _d(r){return Ke(r)?()=>{const s=_d(Pe(r));return s&&s()}:Ks(r)}function lo(r){const s=r[nt],a=s.type;return 2===a?s.declTNode:1===a?r[ui]:null}function Yo(r){return function Gl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Ec(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(oi(),r)}const Ko="__parameters__";function k(r,s,a){return Nr(()=>{const l=function A(r){return function(...a){if(r){const l=r(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const m=new d(...p);return b.annotation=m,b;function b(w,S,O){const F=w.hasOwnProperty(Ko)?w[Ko]:Object.defineProperty(w,Ko,{value:[]})[Ko];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function Zo(r,s){r.forEach(a=>Array.isArray(a)?Zo(a,s):s(a))}function Jh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function vd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function qo(r,s){const a=[];for(let l=0;l<r;l++)a.push(s);return a}function wr(r,s,a){let l=Ja(r,s);return l>=0?r[1|l]=a:(l=~l,function Xp(r,s,a,l){let d=r.length;if(d==s)r.push(a,l);else if(1===d)r.push(l,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=l}}(r,l,s,a)),l}function yd(r,s){const a=Ja(r,s);if(a>=0)return r[1|a]}function Ja(r,s){return function eg(r,s,a){let l=0,d=r.length>>a;for(;d!==l;){const p=l+(d-l>>1),m=r[p<<a];if(s===m)return p<<a;m>s?d=p:l=p+1}return~(d<<a)}(r,s,1)}const Ed=ci(k("Optional"),8),zl=ci(k("SkipSelf"),4);function Br(r){return 128==(128&r.flags)}var ea=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(ea||{});const Cr=new Map;let __=0;const fo="__ngContext__";function Ni(r,s){ii(s)?(r[fo]=s[zr],function cr(r){Cr.set(r[zr],r)}(s)):r[fo]=s}let j;function W(r,s){return j(r,s)}function Ue(r){const s=r[An];return Di(s)?s[An]:s}function On(r){return nl(r[di])}function Vr(r){return nl(r[Ai])}function nl(r){for(;null!==r&&!Di(r);)r=r[Ai];return r}function ia(r,s,a,l,d){if(null!=l){let p,m=!1;Di(l)?p=l:ii(l)&&(m=!0,l=l[Sn]);const b=Xt(l);0===r&&null!==a?null==d?j0(s,a,b):sa(s,a,b,d||null,!0):1===r&&null!==a?sa(s,a,b,d||null,!0):2===r?function hu(r,s,a){const l=Nd(r,s);l&&function Ad(r,s,a,l){r.removeChild(s,a,l)}(r,l,s,a)}(s,b,m):3===r&&s.destroyNode(b),null!=p&&function uC(r,s,a,l,d){const p=a[ti];p!==Xt(a)&&ia(s,r,l,p,d);for(let b=hi;b<a.length;b++){const w=a[b];oa(w[nt],w,r,s,l,p)}}(s,r,p,a,d)}}function rs(r,s){return r.createText(s)}function ql(r,s,a){return r.createElement(s,a)}function mg(r,s){const a=r[ni],l=a.indexOf(s);Ml(s),a.splice(l,1)}function Sd(r,s){if(r.length<=hi)return;const a=hi+s,l=r[a];if(l){const d=l[Sc];null!==d&&d!==r&&mg(d,l),s>0&&(r[a-1][Ai]=l[Ai]);const p=vd(r,hi+s);!function Td(r,s){oa(r,s,s[Et],2,null,null),s[Sn]=null,s[ui]=null}(l[nt],l);const m=p[ei];null!==m&&m.detachView(p[nt]),l[An]=null,l[Ai]=null,l[bt]&=-129}return l}function E_(r,s){if(!(256&s[bt])){const a=s[Et];s[Ma]&&kc(s[Ma]),s[Cs]&&kc(s[Cs]),a.destroyNode&&oa(r,s,a,3,null,null),function uu(r){let s=r[di];if(!s)return cf(r[nt],r);for(;s;){let a=null;if(ii(s))a=s[di];else{const l=s[hi];l&&(a=l)}if(!a){for(;s&&!s[Ai]&&s!==r;)ii(s)&&cf(s[nt],s),s=s[An];null===s&&(s=r),ii(s)&&cf(s[nt],s),a=s&&s[Ai]}s=a}}(s)}}function cf(r,s){if(!(256&s[bt])){s[bt]&=-129,s[bt]|=256,function _g(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Qr)){const p=a[l+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const b=d[p[m]],w=p[m+1];yr(4,b,w);try{w.call(b)}finally{yr(5,b,w)}}else{yr(4,d,p);try{p.call(d)}finally{yr(5,d,p)}}}}}(r,s),function lC(r,s){const a=r.cleanup,l=s[Na];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const m=a[p+3];m>=0?l[m]():l[-m].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(s[Na]=null);const d=s[ws];if(null!==d){s[ws]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(r,s),1===s[nt].type&&s[Et].destroy();const a=s[Sc];if(null!==a&&Di(s[An])){a!==s[An]&&mg(a,s);const l=s[ei];null!==l&&l.detachView(r)}!function cu(r){Cr.delete(r[zr])}(s)}}function vg(r,s,a){return D_(r,s.parent,a)}function D_(r,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Sn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=r.data[l.directiveStart+d];if(p===mr.None||p===mr.Emulated)return null}return fi(l,a)}}function sa(r,s,a,l,d){r.insertBefore(s,a,l,d)}function j0(r,s,a){r.appendChild(s,a)}function uf(r,s,a,l,d){null!==l?sa(r,s,a,l,d):j0(r,s,a)}function Nd(r,s){return r.parentNode(s)}function G0(r,s,a){return W0(r,s,a)}function w_(r,s,a){return 40&r.type?fi(r,a):null}let C_,Xl,os,gf,W0=w_;function z0(r,s){W0=r,C_=s}function ss(r,s,a,l){const d=vg(r,l,s),p=s[Et],b=G0(l.parent||s[ui],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)uf(p,d,a[w],b,!1);else uf(p,d,a,b,!1);void 0!==C_&&C_(p,l,s,a,d)}function du(r,s){if(null!==s){const a=s.type;if(3&a)return fi(s,r);if(4&a)return df(-1,r[s.index]);if(8&a){const l=s.child;if(null!==l)return du(r,l);{const d=r[s.index];return Di(d)?df(-1,d):Xt(d)}}if(32&a)return W(s,r)()||Xt(r[s.index]);{const l=yg(r,s);return null!==l?Array.isArray(l)?l[0]:du(Ue(r[Nn]),l):du(r,s.next)}}return null}function yg(r,s){return null!==s?r[Nn][ui].projection[s.projection]:null}function df(r,s){const a=hi+r+1;if(a<s.length){const l=s[a],d=l[nt].firstChild;if(null!==d)return du(l,d)}return s[ti]}function rl(r,s,a,l,d,p,m){for(;null!=a;){const b=l[a.index],w=a.type;if(m&&0===s&&(b&&Ni(Xt(b),l),a.flags|=2),32!=(32&a.flags))if(8&w)rl(r,s,a.child,l,d,p,!1),ia(s,r,d,b,p);else if(32&w){const S=W(a,l);let O;for(;O=S();)ia(s,r,d,O,p);ia(s,r,d,b,p)}else 16&w?Y0(r,s,l,a,d,p):ia(s,r,d,b,p);a=m?a.projectionNext:a.next}}function oa(r,s,a,l,d,p){rl(a,l,r.firstChild,s,d,p,!1)}function Y0(r,s,a,l,d,p){const m=a[Nn],w=m[ui].projection[l.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)ia(s,r,d,w[S],p);else{let S=w;const O=m[An];Br(l)&&(S.flags|=128),rl(r,s,S,O,d,p,!0)}}function K0(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function ff(r,s,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&Ta(r,s,l),null!==d&&K0(r,s,d),null!==p&&function dC(r,s,a){r.setAttribute(s,"style",a)}(r,s,p)}function sl(r){return function bg(){if(void 0===Xl&&(Xl=null,Mt.trustedTypes))try{Xl=Mt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Xl}()?.createHTML(r)||r}function pf(r){os=r}function ec(){if(void 0!==os)return os;if(typeof document<"u")return document;throw new oe(210,!1)}function ol(r){return function mf(){if(void 0===gf&&(gf=null,Mt.trustedTypes))try{gf=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return gf}()?.createScriptURL(r)||r}class Eg{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function nc(r){return r instanceof Eg?r.changingThisBreaksApplicationSecurity:r}function _f(r,s){const a=function pC(r){return r instanceof Eg&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ct})`)}return a===s}class _C{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(sl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class vC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=sl(s),a}}const bC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rd(r){return(r=String(r)).match(bC)?r:"unsafe:"+r}function po(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function xd(...r){const s={};for(const a of r)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const vf=po("area,br,col,hr,img,wbr"),J0=po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wg=po("rp,rt"),S_=xd(vf,xd(J0,po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xd(wg,po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xd(wg,J0)),Cg=po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),X0=xd(Cg,po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Pd=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Pd||{});function tb(r){const s=kd();return s?s.sanitize(Pd.URL,r)||"":_f(r,"URL")?nc(r):Rd(re(r))}function nb(r){const s=kd();if(s)return ol(s.sanitize(Pd.RESOURCE_URL,r)||"");if(_f(r,"ResourceURL"))return ol(nc(r));throw new oe(904,!1)}function N_(r,s,a){return function MC(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?nb:tb}(s,a)(r)}function kd(){const r=Oe();return r&&r[Ro].sanitizer}class rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ut({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fd=new rn("ENVIRONMENT_INITIALIZER"),rb=new rn("INJECTOR",-1),sb=new rn("INJECTOR_DEF_TYPES");class M_{get(s,a=ze){if(a===ze){const l=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw l.name="NullInjectorError",l}return a}}function ob(...r){return{\u0275providers:ab(0,r),\u0275fromNgModule:!0}}function ab(r,...s){const a=[],l=new Set;let d;const p=m=>{a.push(m)};return Zo(s,m=>{const b=m;bf(b,p,[],l)&&(d||=[],d.push(b))}),void 0!==d&&lb(d,p),a}function lb(r,s){for(let a=0;a<r.length;a++){const{ngModule:l,providers:d}=r[a];Ng(d,p=>{s(p,l)})}}function bf(r,s,a,l){if(!(r=Pe(r)))return!1;let d=null,p=Te(r);const m=!p&&Wt(r);if(p||m){if(m&&!m.standalone)return!1;d=r}else{const w=r.ngModule;if(p=Te(w),!p)return!1;d=w}const b=l.has(d);if(m){if(b)return!1;if(l.add(d),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const S of w)bf(S,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let S;l.add(d);try{Zo(p.imports,O=>{bf(O,s,a,l)&&(S||=[],S.push(O))})}finally{}void 0!==S&&lb(S,s)}if(!b){const S=Ks(d)||(()=>new d);s({provide:d,useFactory:S,deps:Gt},d),s({provide:sb,useValue:d,multi:!0},d),s({provide:Fd,useValue:()=>wt(d),multi:!0},d)}const w=p.providers;if(null!=w&&!b){const S=r;Ng(w,O=>{s(O,S)})}}}return d!==r&&void 0!==r.providers}function Ng(r,s){for(let a of r)Re(a)&&(a=a.\u0275providers),Array.isArray(a)?Ng(a,s):s(a)}const cb=V({provide:String,useValue:V});function aa(r){return null!==r&&"object"==typeof r&&cb in r}function gu(r){return"function"==typeof r}const O_=new rn("Set Injector scope."),wf={},R_={};let x_;function go(){return void 0===x_&&(x_=new M_),x_}class Ur{}class Mg extends Ur{get destroyed(){return this._destroyed}constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ic(s,m=>this.processProvider(m)),this.records.set(rb,Ld(void 0,this)),d.has("environment")&&this.records.set(Ur,Ld(void 0,this));const p=this.records.get(O_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sb.multi,Gt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=it(this),l=Kt(void 0);try{return s()}finally{it(a),Kt(l)}}get(s,a=ze,l=Je.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Ao))return s[Ao](this);l=Gn(l);const p=it(this),m=Kt(void 0);try{if(!(l&Je.SkipSelf)){let w=this.records.get(s);if(void 0===w){const S=function PC(r){return"function"==typeof r||"object"==typeof r&&r instanceof rn}(s)&&In(s);w=S&&this.injectableDefInScope(S)?Ld(P_(s),wf):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&Je.Self?go():this.parent).get(s,a=l&Je.Optional&&a===ze?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[_t]=b[_t]||[]).unshift(ne(s)),p)throw b;return function Io(r,s,a,l){const d=r[_t];throw s[J]&&d.unshift(s[J]),r.message=function yc(r,s,a,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ne(s);if(Array.isArray(s))d=s.map(ne).join(" -> ");else if("object"==typeof s){let p=[];for(let m in s)if(s.hasOwnProperty(m)){let b=s[m];p.push(m+":"+("string"==typeof b?JSON.stringify(b):ne(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${r.replace(H,"\n  ")}`}("\n"+r.message,d,a,l),r.ngTokenPath=d,r[_t]=null,r}(b,s,"R3InjectorError",this.source)}throw b}finally{Kt(m),it(p)}}resolveInjectorInitializers(){const s=it(this),a=Kt(void 0);try{const d=this.get(Fd.multi,Gt,Je.Self);for(const p of d)p()}finally{it(s),Kt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ne(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(s){let a=gu(s=Pe(s))?s:Pe(s&&s.provide);const l=function Og(r){return aa(r)?Ld(void 0,r.useValue):Ld(k_(r),wf)}(s);if(gu(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Ld(void 0,wf,!0),d.factory=()=>Zt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===wf&&(a.value=R_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Rg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Pe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function P_(r){const s=In(r),a=null!==s?s.factory:Ks(r);if(null!==a)return a;if(r instanceof rn)throw new oe(204,!1);if(r instanceof Function)return function xC(r){const s=r.length;if(s>0)throw qo(s,"?"),new oe(204,!1);const a=function fe(r){return r&&(r[Ve]||r[dn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new oe(204,!1)}function k_(r,s,a){let l;if(gu(r)){const d=Pe(r);return Ks(d)||P_(d)}if(aa(r))l=()=>Pe(r.useValue);else if(function Df(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Zt(r.deps||[]));else if(function Ef(r){return!(!r||!r.useExisting)}(r))l=()=>wt(Pe(r.useExisting));else{const d=Pe(r&&(r.useClass||r.provide));if(!function F_(r){return!!r.deps}(r))return Ks(d)||P_(d);l=()=>new d(...Zt(r.deps))}return l}function Ld(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function ic(r,s){for(const a of r)Array.isArray(a)?ic(a,s):a&&Re(a)?ic(a.\u0275providers,s):s(a)}const L_=new rn("AppId",{providedIn:"root",factory:()=>ub}),ub="ng",B_=new rn("Platform Initializer"),mu=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U_=new rn("CSP nonce",{providedIn:"root",factory:()=>ec().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fb=(r,s,a)=>null;function W_(r,s,a=!1){return fb(r,s,a)}class Af{}class _b{}class Nf{resolveComponentFactory(s){throw function vb(r){const s=Error(`No component factory found for ${ne(r)}.`);return s.ngComponent=r,s}(s)}}let Ug=(()=>{class r{static#e=this.NULL=new Nf}return r})();function xs(){return bu(oi(),Oe())}function bu(r,s){return new Mf(fi(r,s))}let Mf=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=xs}return r})();function Hg(r){return r instanceof Mf?r.nativeElement:r}class Y_{}let ls=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yb(){const r=Oe(),a=pi(oi().index,r);return(ii(a)?a:r)[Et]}()}return r})(),BC=(()=>{class r{static#e=this.\u0275prov=ut({token:r,providedIn:"root",factory:()=>null})}return r})();class K_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const bb=new K_("16.2.8"),Z_={};function Cb(r,s=null,a=null,l){const d=Ib(r,s,a,l);return d.resolveInjectorInitializers(),d}function Ib(r,s=null,a=null,l,d=new Set){const p=[a||Gt,ob(r)];return l=l||("object"==typeof r?void 0:ne(r)),new Mg(p,s||go(),l||null,d)}let Ps=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=ze;static#t=this.NULL=new M_;static create(a,l){if(Array.isArray(a))return Cb({name:""},l,a,"");{const d=a.name??"";return Cb({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=ut({token:r,providedIn:"any",factory:()=>wt(rb)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function Q_(r){return r.ngOriginalError}class la{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Q_(s);for(;a&&Q_(a);)a=Q_(a);return a||null}}function X_(r){return s=>{setTimeout(r,void 0,s)}}const ks=class sc extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let d=s,p=a||(()=>null),m=l;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),p=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(p=X_(p),d&&(d=X_(d)),m&&(m=X_(m)));const b=super.subscribe({next:d,error:p,complete:m});return s instanceof Q.w0&&s.add(b),b}};function xf(...r){}class Bi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function HC(){const r="function"==typeof Mt.requestAnimationFrame;let s=Mt[r?"requestAnimationFrame":"setTimeout"],a=Mt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Wg(r){const s=()=>{!function Ab(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Mt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,kf(r),r.isCheckStableRunning=!0,Gg(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),kf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,m,b)=>{if(function Ob(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(b))return a.invokeTask(d,p,m,b);try{return zg(r),a.invokeTask(d,p,m,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),Nb(r)}},onInvoke:(a,l,d,p,m,b,w)=>{try{return zg(r),a.invoke(d,p,m,b,w)}finally{r.shouldCoalesceRunChangeDetection&&s(),Nb(r)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,kf(r),Gg(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new oe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,s,Sb,xf,xf);try{return p.runTask(m,a,l)}finally{p.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Sb={};function Gg(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function kf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function zg(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Nb(r){r._nesting--,Gg(r)}class jC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}const Yg=new rn("",{providedIn:"root",factory:Mb});function Mb(){const r=Ot(Bi);let s=!0;const a=new x.y(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),l=new x.y(d=>{let p;r.runOutsideAngular(()=>{p=r.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});return(0,te.T)(a,l.pipe((0,ve.B)()))}function ca(r){return r instanceof Function?r():r}let ll=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ut({token:r,providedIn:"root",factory:()=>new r})}return r})();function $d(r){for(;r;){r[bt]|=64;const s=Ue(r);if(Po(r)&&!s)return r;r=s}return null}const GC=new rn("",{providedIn:"root",factory:()=>!1});let Bf=null;function iv(r,s){return r[s]??Pb()}function rv(r,s){const a=Pb();a.producerNode?.length&&(r[s]=Bf,a.lView=r,Bf=sv())}const mo={...qs,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{$d(r.lView)},lView:null};function sv(){return Object.create(mo)}function Pb(){return Bf??=sv(),Bf}const kt={};function kb(r){ov(Ht(),Oe(),en()+r,!1)}function ov(r,s,a,l){if(!l)if(3==(3&s[bt])){const p=r.preOrderCheckHooks;null!==p&&Ga(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Fr(s,p,0,a)}_n(a)}function Wd(r,s=Je.Default){const a=Oe();return null===a?wt(r,s):Za(oi(),a,Pe(r),s)}function Fb(){throw new Error("invalid")}function Jg(r,s,a,l,d,p,m,b,w,S,O){const F=s.blueprint.slice();return F[Sn]=d,F[bt]=140|l,(null!==S||r&&2048&r[bt])&&(F[bt]|=2048),zh(F),F[An]=F[Ds]=r,F[Rn]=a,F[Ro]=m||r&&r[Ro],F[Et]=b||r&&r[Et],F[Wr]=w||r&&r[Wr]||null,F[ui]=p,F[zr]=function Yi(){return __++}(),F[ir]=O,F[Yr]=S,F[Nn]=2==s.type?r[Nn]:F,F}function zd(r,s,a,l,d){let p=r.data[s];if(null===p)p=av(r,s,a,l,d),function dd(){return Dt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const m=Ho();p.injectorIndex=null===m?-1:m.injectorIndex}return Ss(p,!0),p}function av(r,s,a,l,d){const p=kl(),m=io(),w=r.data[s]=function Ub(r,s,a,l,d,p){let m=s?s.injectorIndex:-1,b=0;return xr()&&(b|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,a,s,l,d);return null===r.firstChild&&(r.firstChild=w),null!==p&&(m?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w,w.prev=p)),w}function Vf(r,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),r.blueprint.push(l),r.data.push(null);return d}function Lb(r,s,a,l,d){const p=iv(s,Ma),m=en(),b=2&l;try{_n(-1),b&&s.length>Rt&&ov(r,s,Rt,!1),yr(b?2:0,d);const S=b?p:null,O=Xu(S);try{null!==S&&(S.dirty=!1),a(l,d)}finally{ri(S,O)}}finally{b&&null===s[Ma]&&rv(s,Ma),_n(m),yr(b?3:1,d)}}function lv(r,s,a){if(Cl(s)){const l=ki(null);try{const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const b=r.data[m];b.contentQueries&&b.contentQueries(1,a[m],m)}}finally{ki(l)}}}function cv(r,s,a){gi()&&(function aI(r,s,a,l){const d=a.directiveStart,p=a.directiveEnd;Ys(a)&&function iA(r,s,a){const l=fi(s,r),d=Bb(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const b=Qg(r,Jg(r,d,null,m,l,s,null,r[Ro].rendererFactory.createRenderer(l,a),null,null,null));r[s.index]=b}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||Lr(a,s),Ni(l,s);const m=a.initialInputs;for(let b=d;b<p;b++){const w=r.data[b],S=ao(s,r,b,a);Ni(S,s),null!==m&&fI(0,b-d,S,w,0,m),Pi(w)&&(pi(a.index,s)[Rn]=ao(s,r,b,a))}}(r,s,a,fi(a,s)),64==(64&a.flags)&&Gb(r,s,a))}function uv(r,s,a=fi){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const m=l[p+1],b=-1===m?a(s,r):r[m];r[d++]=b}}}function Bb(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=dv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function dv(r,s,a,l,d,p,m,b,w,S,O){const F=Rt+l,Y=F+d,ie=function QC(r,s){const a=[];for(let l=0;l<s;l++)a.push(l<r?null:kt);return a}(F,Y),me="function"==typeof S?S():S;return ie[nt]={type:r,blueprint:ie,template:a,queries:null,viewQuery:b,declTNode:s,data:ie.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:me,incompleteFirstPass:!1,ssrId:O}}let Vb=r=>null;function Hb(r,s,a,l){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const p=r[d];null===l?fv(a,s,d,p):l.hasOwnProperty(d)&&fv(a,s,l[d],p)}return a}function fv(r,s,a,l){r.hasOwnProperty(a)?r[a].push(s,l):r[a]=[s,l]}function us(r,s,a,l,d,p,m,b){const w=fi(s,a);let O,S=s.inputs;!b&&null!=S&&(O=S[l])?(vv(r,a,O,l,d),Ys(s)&&function rI(r,s){const a=pi(s,r);16&a[bt]||(a[bt]|=64)}(a,s.index)):3&s.type&&(l=function iI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=m?m(d,s.value||"",l):d,p.setProperty(w,l,d))}function pv(r,s,a,l){if(gi()){const d=null===l?null:{"":-1},p=function cI(r,s){const a=r.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const m=a[p];if(wc(s,m.selectors,!1))if(l||(l=[]),Pi(m))if(null!==m.findHostDirectiveDefs){const b=[];d=d||new Map,m.findHostDirectiveDefs(m,b,d),l.unshift(...b,m),gv(r,s,b.length)}else l.unshift(m),gv(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,l,d),l.push(m)}return null===l?null:[l,d]}(r,a);let m,b;null===p?m=b=null:[m,b]=p,null!==m&&sI(r,s,a,m,d,b),d&&function uI(r,s,a){if(s){const l=r.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new oe(-301,!1);l.push(s[d],p)}}}(a,l,d)}a.mergedAttrs=js(a.mergedAttrs,a.attrs)}function sI(r,s,a,l,d,p){for(let S=0;S<l.length;S++)Dr(Lr(a,s),r,l[S].type);!function hI(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,l.length);for(let S=0;S<l.length;S++){const O=l[S];O.providersResolver&&O.providersResolver(O)}let m=!1,b=!1,w=Vf(r,s,l.length,null);for(let S=0;S<l.length;S++){const O=l[S];a.mergedAttrs=js(a.mergedAttrs,O.hostAttrs),nA(r,a,s,w,O),dI(w,O,d),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const F=O.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),m=!0),!b&&(F.ngOnChanges||F.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),b=!0),w++}!function nI(r,s,a){const d=s.directiveEnd,p=r.data,m=s.attrs,b=[];let w=null,S=null;for(let O=s.directiveStart;O<d;O++){const F=p[O],Y=a?a.get(F):null,me=Y?Y.outputs:null;w=Hb(F.inputs,O,w,Y?Y.inputs:null),S=Hb(F.outputs,O,S,me);const Fe=null===w||null===m||vr(s)?null:pI(w,O,m);b.push(Fe)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=w,s.outputs=S}(r,a,p)}function Gb(r,s,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,m=function qp(){return Dt.lFrame.currentDirectiveIndex}();try{_n(p);for(let b=l;b<d;b++){const w=r.data[b],S=s[b];Ll(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&lI(w,S)}}finally{_n(-1),Ll(m)}}function lI(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function gv(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function dI(r,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=r;Pi(s)&&(a[""]=r)}}function nA(r,s,a,l,d){r.data[l]=d;const p=d.factory||(d.factory=Ks(d.type)),m=new Qr(p,Pi(d),Wd);r.blueprint[l]=m,a[l]=m,function $b(r,s,a,l,d){const p=d.hostBindings;if(p){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const b=~s.index;(function oI(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=b&&m.push(b),m.push(a,l,p)}}(r,s,l,Vf(r,a,d.hostVars,kt),d)}function ua(r,s,a,l,d,p){const m=fi(r,s);!function mv(r,s,a,l,d,p,m){if(null==p)r.removeAttribute(s,d,a);else{const b=null==m?re(p):m(p,l||"",d);r.setAttribute(s,d,b,a)}}(s[Et],m,p,r.value,a,l,d)}function fI(r,s,a,l,d,p){const m=p[s];if(null!==m)for(let b=0;b<m.length;)_v(l,a,m[b++],m[b++],m[b++])}function _v(r,s,a,l,d){const p=ki(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(d=m[l].call(s,d)),null!==r.setInput?r.setInput(s,d,a,l):s[l]=d}finally{ki(p)}}function pI(r,s,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(r.hasOwnProperty(p)){null===l&&(l=[]);const m=r[p];for(let b=0;b<m.length;b+=2)if(m[b]===s){l.push(p,m[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Wb(r,s,a,l){return[r,!0,!1,s,null,0,l,a,null,null,null]}function zb(r,s){const a=r.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const m=r.data[p];pd(a[l]),m.contentQueries(2,s[p],p)}}}function Qg(r,s){return r[di]?r[xh][Ai]=s:r[di]=s,r[xh]=s,s}function da(r,s,a){pd(0);const l=ki(null);try{s(r,a)}finally{ki(l)}}function Hr(r){return r[Na]||(r[Na]=[])}function Yd(r){return r.cleanup||(r.cleanup=[])}function Kb(r,s){const a=r[Wr],l=a?a.get(la,null):null;l&&l.handleError(s)}function vv(r,s,a,l,d){for(let p=0;p<a.length;){const m=a[p++],b=a[p++];_v(r.data[m],s[m],l,b,d)}}function Hn(r,s){const a=pi(s,r),l=a[nt];!function Vi(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(l,a);const d=a[Sn];null!==d&&null===a[ir]&&(a[ir]=W_(d,a[Wr])),Kd(l,a,a[Rn])}function Kd(r,s,a){mi(s);try{const l=r.viewQuery;null!==l&&da(1,l,a);const d=r.template;null!==d&&Lb(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&zb(r,s),r.staticViewQueries&&da(2,r.viewQuery,a);const p=r.components;null!==p&&function gI(r,s){for(let a=0;a<s.length;a++)Hn(r,s[a])}(s,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[bt]&=-5,Tt()}}let Zb=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,l,d){const p=typeof Zone>"u"?null:Zone.current,m=function zp(r,s,a){const l=Object.create(Vh);a&&(l.consumerAllowSignalWrites=!0),l.fn=r,l.schedule=s;const d=m=>{l.cleanupFn=m};return l.ref={notify:()=>Pa(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Pc(l))return;l.hasRun=!0;const m=Xu(l);try{l.cleanupFn(),l.cleanupFn=Uc,l.fn(d)}finally{ri(l,m)}},cleanup:()=>l.cleanupFn()},l.ref}(a,S=>{this.all.has(S)&&this.queue.set(S,p)},d);let b;this.all.add(m),m.notify();const w=()=>{m.cleanup(),b?.(),this.all.delete(m),this.queue.delete(m)};return b=l?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[a,l]of this.queue)this.queue.delete(a),l?l.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ut({token:r,providedIn:"root",factory:()=>new r})}return r})();function Xg(r,s,a){let l=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?p=b:1==p?d=Be(d,b):2==p&&(l=Be(l,b+": "+s[++m]+";"))}a?r.styles=l:r.stylesWithoutHost=l,a?r.classes=d:r.classesWithoutHost=d}function cc(r,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];null!==p&&l.push(Xt(p)),Di(p)&&Ii(p,l);const m=a.type;if(8&m)cc(r,s,a.child,l);else if(32&m){const b=W(a,s);let w;for(;w=b();)l.push(w)}else if(16&m){const b=yg(s,a);if(Array.isArray(b))l.push(...b);else{const w=Ue(s[Nn]);cc(w[nt],w,b,l,!0)}}a=d?a.projectionNext:a.next}return l}function Ii(r,s){for(let a=hi;a<r.length;a++){const l=r[a],d=l[nt].firstChild;null!==d&&cc(l[nt],l,d,s)}r[ti]!==r[Sn]&&s.push(r[ti])}function ds(r,s,a,l=!0){const d=s[Ro],p=d.rendererFactory,m=d.afterRenderEventManager;p.begin?.(),m?.begin();try{yv(r,s,r.template,a)}catch(w){throw l&&Kb(s,w),w}finally{p.end?.(),d.effectManager?.flush(),m?.end()}}function yv(r,s,a,l){const d=s[bt];if(256!=(256&d)){s[Ro].effectManager?.flush(),mi(s);try{zh(s),function ud(r){return Dt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Lb(r,s,a,2,l);const m=3==(3&d);if(m){const S=r.preOrderCheckHooks;null!==S&&Ga(s,S,null)}else{const S=r.preOrderHooks;null!==S&&Fr(s,S,0,null),sr(s,0)}if(function uc(r){for(let s=On(r);null!==s;s=Vr(s)){if(!s[wl])continue;const a=s[ni];for(let l=0;l<a.length;l++){$c(a[l])}}}(s),Jb(s,2),null!==r.contentQueries&&zb(r,s),m){const S=r.contentCheckHooks;null!==S&&Ga(s,S)}else{const S=r.contentHooks;null!==S&&Fr(s,S,1),sr(s,1)}!function JC(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const l=iv(s,Cs);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)_n(~p);else{const m=p,b=a[++d],w=a[++d];Fl(b,m),l.dirty=!1;const S=Xu(l);try{w(2,s[m])}finally{ri(l,S)}}}}finally{null===s[Cs]&&rv(s,Cs),_n(-1)}}(r,s);const b=r.components;null!==b&&tm(s,b,0);const w=r.viewQuery;if(null!==w&&da(2,w,l),m){const S=r.viewCheckHooks;null!==S&&Ga(s,S)}else{const S=r.viewHooks;null!==S&&Fr(s,S,2),sr(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[bt]&=-73,Ml(s)}finally{Tt()}}}function Jb(r,s){for(let a=On(r);null!==a;a=Vr(a))for(let l=hi;l<a.length;l++)bv(a[l],s)}function Fs(r,s,a){bv(pi(s,r),a)}function bv(r,s){if(!function Uo(r){return 128==(128&r[bt])}(r))return;const a=r[nt],l=r[bt];if(80&l&&0===s||1024&l||2===s)yv(a,r,a.template,r[Rn]);else if(r[Gs]>0){Jb(r,1);const d=a.components;null!==d&&tm(r,d,1)}}function tm(r,s,a){for(let l=0;l<s.length;l++)Fs(r,s[l],a)}class Zd{get rootNodes(){const s=this._lView,a=s[nt];return cc(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(s){this._lView[Rn]=s}get destroyed(){return 256==(256&this._lView[bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[An];if(Di(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Sd(s,l),vd(a,l))}this._attachedToViewContainer=!1}E_(this._lView[nt],this._lView)}onDestroy(s){!function bn(r,s){if(256==(256&r[bt]))throw new oe(911,!1);null===r[ws]&&(r[ws]=[]),r[ws].push(s)}(this._lView,s)}markForCheck(){$d(this._cdRefInjectingView||this._lView)}detach(){this._lView[bt]&=-129}reattach(){this._lView[bt]|=128}detectChanges(){ds(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function af(r,s){oa(r,s,s[Et],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=s}}class nm extends Zd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;ds(s[nt],s,s[Rn],!1)}checkNoChanges(){}get context(){return null}}class Qb extends Ug{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Wt(s);return new im(a,this.ngModule)}}function mI(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Ev{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Gn(l);const d=this.injector.get(s,Z_,l);return d!==Z_||a===Z_?d:this.parentInjector.get(s,a,l)}}class im extends _b{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=mI(s.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return mI(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function zu(r){return r.map(bs).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,d){let p=(d=d||this.ngModule)instanceof Ur?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new Ev(s,p):s,b=m.get(Y_,null);if(null===b)throw new oe(407,!1);const F={rendererFactory:b,sanitizer:m.get(BC,null),effectManager:m.get(Zb,null),afterRenderEventManager:m.get(ll,null)},Y=b.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",me=l?function XC(r,s,a,l){const p=l.get(GC,!1)||a===mr.ShadowDom,m=r.selectRootElement(s,p);return function eI(r){Vb(r)}(m),m}(Y,l,this.componentDef.encapsulation,m):ql(Y,ie,function _I(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ie)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ke=null;null!==me&&(ke=W_(me,m,!0));const Ct=dv(0,null,null,1,0,null,null,null,null,null,null),Pt=Jg(null,Ct,null,ot,null,null,F,Y,m,null,ke);let ln,jr;mi(Pt);try{const Da=this.componentDef;let wa,A0=null;Da.findHostDirectiveDefs?(wa=[],A0=new Map,Da.findHostDirectiveDefs(Da,wa,A0),wa.push(Da)):wa=[Da];const Vw=function vI(r,s){const a=r[nt],l=Rt;return r[l]=s,zd(a,l,2,"#host",null)}(Pt,me),Uw=function yI(r,s,a,l,d,p,m){const b=d[nt];!function sA(r,s,a,l){for(const d of r)s.mergedAttrs=js(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Xg(s,s.mergedAttrs,!0),null!==a&&ff(l,a,s))}(l,r,s,m);let w=null;null!==s&&(w=W_(s,d[Wr]));const S=p.rendererFactory.createRenderer(s,a);let O=16;a.signals?O=4096:a.onPush&&(O=64);const F=Jg(d,Bb(a),null,O,d[r.index],r,p,S,null,null,w);return b.firstCreatePass&&gv(b,r,l.length-1),Qg(d,F),d[r.index]=F}(Vw,me,Da,wa,Pt,F,Y);jr=jc(Ct,Rt),me&&function aA(r,s,a,l){if(l)Ta(r,a,["ng-version",bb.full]);else{const{attrs:d,classes:p}=function tr(r){const s=[],a=[];let l=1,d=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===d?""!==p&&s.push(p,r[++l]):8===d&&a.push(p);else{if(!xi(d))break;d=p}l++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Ta(r,a,d),p&&p.length>0&&K0(r,a,p.join(" "))}}(Y,Da,me,l),void 0!==a&&function lA(r,s,a){const l=r.projection=[];for(let d=0;d<s.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}(jr,this.ngContentSelectors,a),ln=function oA(r,s,a,l,d,p){const m=oi(),b=d[nt],w=fi(m,d);sI(b,d,m,a,null,l);for(let O=0;O<a.length;O++)Ni(ao(d,b,m.directiveStart+O,m),d);Gb(b,d,m),w&&Ni(w,d);const S=ao(d,b,m.directiveStart+m.componentOffset,m);if(r[Rn]=d[Rn]=S,null!==p)for(const O of p)O(S,s);return lv(b,m,r),S}(Uw,Da,wa,A0,Pt,[cA]),Kd(Ct,Pt,null)}finally{Tt()}return new rA(this.componentType,ln,bu(jr,Pt),Pt,jr)}}class rA extends Af{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new nm(d),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;vv(p[nt],p,d,s,a),this.previousInputValues.set(s,a),$d(pi(this._tNode.index,p))}}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function cA(){const r=oi();$a(Oe()[nt],r)}function Xb(r){let s=function bI(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const l=[r];for(;s;){let d;if(Pi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new oe(903,!1);d=s.\u0275dir}if(d){if(a){l.push(d);const m=r;m.inputs=qd(r.inputs),m.inputTransforms=qd(r.inputTransforms),m.declaredInputs=qd(r.declaredInputs),m.outputs=qd(r.outputs);const b=d.hostBindings;b&&EI(r,b);const w=d.viewQuery,S=d.contentQueries;if(w&&Dv(r,w),S&&eE(r,S),$(r.inputs,d.inputs),$(r.declaredInputs,d.declaredInputs),$(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),$(m.inputTransforms,d.inputTransforms)),Pi(d)&&d.data.animation){const O=r.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const b=p[m];b&&b.ngInherit&&b(r),b===Xb&&(a=!1)}}s=Object.getPrototypeOf(s)}!function uA(r){let s=0,a=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=s+=d.hostVars,d.hostAttrs=js(d.hostAttrs,a=js(a,d.hostAttrs))}}(l)}function qd(r){return r===_r?{}:r===Gt?[]:r}function Dv(r,s){const a=r.viewQuery;r.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function eE(r,s){const a=r.contentQueries;r.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function EI(r,s){const a=r.hostBindings;r.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}function sm(r){return s=>{s.findHostDirectiveDefs=tE,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Pe(a),inputs:_r,outputs:_r}:{directive:Pe(a.directive),inputs:nE(a.inputs),outputs:nE(a.outputs)})}}function tE(r,s,a){if(null!==r.hostDirectives)for(const l of r.hostDirectives){const d=kn(l.directive);wI(d.declaredInputs,l.inputs),tE(d,s,a),a.set(d,l),s.push(d)}}function nE(r){if(void 0===r||0===r.length)return _r;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function wI(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function rE(r){const s=r.inputConfig,a={};for(const l in s)if(s.hasOwnProperty(l)){const d=s[l];Array.isArray(d)&&d[2]&&(a[l]=d[2])}r.inputTransforms=a}function om(r){return!!Uf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Uf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function hs(r,s,a){return r[s]=a}function Ui(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Eu(r,s,a,l){const d=Ui(r,s,a);return Ui(r,s+1,l)||d}function Cv(r,s,a,l){const d=Oe();return Ui(d,ro(),s)&&(Ht(),ua(En(),d,r,s,a,l)),Cv}function ha(r,s,a,l){return Ui(r,ro(),a)?s+re(a)+l:kt}function Bv(r,s,a,l,d,p,m,b){const w=Oe(),S=Ht(),O=r+Rt,F=S.firstCreatePass?function hE(r,s,a,l,d,p,m,b,w){const S=s.consts,O=zd(s,r,4,m||null,Fi(S,b));pv(s,a,O,Fi(S,w)),$a(s,O);const F=O.tView=dv(2,O,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,O),F.queries=s.queries.embeddedTView(O)),O}(O,S,w,s,a,l,d,p,m):S.data[O];Ss(F,!1);const Y=Vv(S,w,F,r);Pr()&&ss(S,w,Y,F),Ni(Y,w),Qg(w,w[O]=Wb(Y,w,Y,F)),Hi(F)&&cv(S,w,F),null!=m&&uv(w,F,b)}let Vv=function Uv(r,s,a,l){return kr(!0),s[Et].createComment("")};function kI(r){return function no(r,s){return r[s]}(function Yh(){return Dt.lFrame.contextLView}(),Rt+r)}function pE(r,s,a){const l=Oe();return Ui(l,ro(),s)&&us(Ht(),En(),l,r,s,l[Et],a,!1),pE}function Gf(r,s,a,l,d){const m=d?"class":"style";vv(r,a,s.inputs[m],m,l)}function Hv(r,s,a,l){const d=Oe(),p=Ht(),m=Rt+r,b=d[Et],w=p.firstCreatePass?function pA(r,s,a,l,d,p){const m=s.consts,w=zd(s,r,2,l,Fi(m,d));return pv(s,a,w,Fi(m,p)),null!==w.attrs&&Xg(w,w.attrs,!1),null!==w.mergedAttrs&&Xg(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(m,p,d,s,a,l):p.data[m],S=gE(p,d,w,b,s,r);d[m]=S;const O=Hi(w);return Ss(w,!0),ff(b,S,w),32!=(32&w.flags)&&Pr()&&ss(p,d,S,w),0===function Ol(){return Dt.lFrame.elementDepthCount}()&&Ni(S,d),function si(){Dt.lFrame.elementDepthCount++}(),O&&(cv(p,d,w),lv(p,w,d)),null!==l&&uv(d,w),Hv}function _m(){let r=oi();io()?zc():(r=r.parent,Ss(r,!1));const s=r;(function Gc(r){return Dt.skipHydrationRootTNode===r})(s)&&function Wc(){Dt.skipHydrationRootTNode=null}(),function cd(){Dt.lFrame.elementDepthCount--}();const a=Ht();return a.firstCreatePass&&($a(a,r),Cl(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Zc(r){return 0!=(8&r.flags)}(s)&&Gf(a,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Go(r){return 0!=(16&r.flags)}(s)&&Gf(a,s,Oe(),s.stylesWithoutHost,!1),_m}function vm(r,s,a,l){return Hv(r,s,a,l),_m(),vm}let gE=(r,s,a,l,d,p)=>(kr(!0),ql(l,d,function ja(){return Dt.lFrame.currentNamespace}()));function yE(){return Oe()}function bE(r){return!!r&&"function"==typeof r.then}function BI(r){return!!r&&"function"==typeof r.subscribe}function Gv(r,s,a,l){const d=Oe(),p=Ht(),m=oi();return function UI(r,s,a,l,d,p,m){const b=Hi(l),S=r.firstCreatePass&&Yd(r),O=s[Rn],F=Hr(s);let Y=!0;if(3&l.type||m){const Fe=fi(l,s),qe=m?m(Fe):Fe,ot=F.length,ke=m?Pt=>m(Xt(Pt[l.index])):l.index;let Ct=null;if(!m&&b&&(Ct=function mA(r,s,a,l){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===a&&d[p+1]===l){const b=s[Na],w=d[p+2];return b.length>w?b[w]:null}"string"==typeof m&&(p+=2)}return null}(r,s,d,l.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=p,Ct.__ngLastListenerFn__=p,Y=!1;else{p=jI(l,s,O,p,!1);const Pt=a.listen(qe,d,p);F.push(p,Pt),S&&S.push(d,ke,ot,ot+1)}}else p=jI(l,s,O,p,!1);const ie=l.outputs;let me;if(Y&&null!==ie&&(me=ie[d])){const Fe=me.length;if(Fe)for(let qe=0;qe<Fe;qe+=2){const ln=s[me[qe]][me[qe+1]].subscribe(p),jr=F.length;F.push(p,ln),S&&S.push(d,l.index,jr,-(jr+1))}}}(p,d,d[Et],m,r,s,l),Gv}function HI(r,s,a,l){try{return yr(6,s,a),!1!==a(l)}catch(d){return Kb(r,d),!1}finally{yr(7,s,a)}}function jI(r,s,a,l,d){return function p(m){if(m===Function)return l;$d(r.componentOffset>-1?pi(r.index,s):s);let w=HI(s,a,l,m),S=p.__ngNextListenerFn__;for(;S;)w=HI(s,a,S,m)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&m.preventDefault(),w}}function EE(r=1){return function Ha(r){return(Dt.lFrame.contextLView=function xn(r,s){for(;r>0;)s=s[Ds],r--;return s}(r,Dt.lFrame.contextLView))[Rn]}(r)}function $I(r,s){let a=null;const l=function Gu(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===l?wc(r,p,!0):Wu(l,p))return d}else a=d}return a}function Wv(r){const s=Oe()[Nn][ui];if(!s.projection){const l=s.projection=qo(r?r.length:1,null),d=l.slice();let p=s.child;for(;null!==p;){const m=r?$I(p,r):0;null!==m&&(d[m]?d[m].projectionNext=p:l[m]=p,d[m]=p),p=p.next}}}function zv(r,s=0,a){const l=Oe(),d=Ht(),p=zd(d,Rt+r,16,null,a||null);null===p.projection&&(p.projection=s),zc(),(!l[ir]||xr())&&32!=(32&p.flags)&&function Ql(r,s,a){Y0(s[Et],0,s,a,vg(r,a,s),G0(a.parent||s[ui],a,s))}(d,l,p)}function ym(r,s,a){return zf(r,"",s,"",a),ym}function zf(r,s,a,l,d){const p=Oe(),m=ha(p,s,a,l);return m!==kt&&us(Ht(),En(),p,r,m,p[Et],d,!1),zf}function Yf(r,s){return r<<17|s<<2}function dl(r){return r>>17&32767}function Qv(r){return 2|r}function hc(r){return(131068&r)>>2}function Xv(r,s){return-131069&r|s<<2}function bm(r){return 1|r}function IE(r,s,a,l,d){const p=r[a+1],m=null===s;let b=l?dl(p):hc(p),w=!1;for(;0!==b&&(!1===w||m);){const O=r[b+1];TE(r[b],s)&&(w=!0,r[b+1]=l?bm(O):Qv(O)),b=l?dl(O):hc(O)}w&&(r[a+1]=l?Qv(p):bm(p))}function TE(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ja(r,s)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SE(r){return r.substring(Oi.key,Oi.keyEnd)}function NE(r,s){const a=Oi.textEnd;return a===s?-1:(s=Oi.keyEnd=function vo(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Oi.key=s,a),ih(r,s,a))}function ih(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function ty(r,s){return function ps(r,s,a,l){const d=Oe(),p=Ht(),m=As(2);p.firstUpdatePass&&rh(p,r,m,l),s!==kt&&Ui(d,m,s)&&sh(p,p.data[en()],d,d[Et],r,d[m+1]=function ay(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ne(nc(r)))),r}(s,a),l,m)}(r,s,null,!0),ty}function iy(r){!function yo(r,s,a,l){const d=Ht(),p=As(2);d.firstUpdatePass&&rh(d,null,p,l);const m=Oe();if(a!==kt&&Ui(m,p,a)){const b=d.data[en()];if(FE(b,l)&&!ry(d,p)){let w=l?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(a=Be(w,a||"")),Gf(d,b,m,a,l)}else!function Zi(r,s,a,l,d,p,m,b){d===kt&&(d=Gt);let w=0,S=0,O=0<d.length?d[0]:null,F=0<p.length?p[0]:null;for(;null!==O||null!==F;){const Y=w<d.length?d[w+1]:void 0,ie=S<p.length?p[S+1]:void 0;let Fe,me=null;O===F?(w+=2,S+=2,Y!==ie&&(me=F,Fe=ie)):null===F||null!==O&&O<F?(w+=2,me=O):(S+=2,me=F,Fe=ie),null!==me&&sh(r,s,a,l,me,Fe,m,b),O=w<d.length?d[w]:null,F=S<p.length?p[S]:null}}(d,b,m,m[Et],m[p+1],m[p+1]=function sy(r,s,a){if(null==a||""===a)return Gt;const l=[],d=nc(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(r,s,a),l,p)}}(kE,ga,r,!0)}function ga(r,s){for(let a=function qI(r){return function ME(r){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=r.length}(r),NE(r,ih(r,0,Oi.textEnd))}(s);a>=0;a=NE(s,a))wr(r,SE(s),!0)}function ry(r,s){return s>=r.expandoStartIndex}function rh(r,s,a,l){const d=r.data;if(null===d[a+1]){const p=d[en()],m=ry(r,a);FE(p,l)&&null===s&&!m&&(s=!1),s=function tT(r,s,a,l){const d=function fd(r){const s=Dt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Tu(a=Iu(null,r,s,a,l),s.attrs,l),p=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(a=Iu(d,r,s,a,l),null===p){let w=function Zf(r,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==hc(l))return r[dl(l)]}(r,s,l);void 0!==w&&Array.isArray(w)&&(w=Iu(null,r,s,w[1],l),w=Tu(w,s.attrs,l),function PE(r,s,a,l){r[dl(a?s.classBindings:s.styleBindings)]=l}(r,s,l,w))}else p=function nT(r,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=Tu(l,r[p].hostAttrs,a);return Tu(l,s.attrs,a)}(r,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function KI(r,s,a,l,d,p){let m=p?s.classBindings:s.styleBindings,b=dl(m),w=hc(m);r[l]=a;let O,S=!1;if(Array.isArray(a)?(O=a[1],(null===O||Ja(a,O)>0)&&(S=!0)):O=a,d)if(0!==w){const Y=dl(r[b+1]);r[l+1]=Yf(Y,b),0!==Y&&(r[Y+1]=Xv(r[Y+1],l)),r[b+1]=function Kf(r,s){return 131071&r|s<<17}(r[b+1],l)}else r[l+1]=Yf(b,0),0!==b&&(r[b+1]=Xv(r[b+1],l)),b=l;else r[l+1]=Yf(w,0),0===b?b=l:r[w+1]=Xv(r[w+1],l),w=l;S&&(r[l+1]=Qv(r[l+1])),IE(r,O,l,!0),IE(r,O,l,!1),function ZI(r,s,a,l,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Ja(p,s)>=0&&(a[l+1]=bm(a[l+1]))}(s,O,r,l,p),m=Yf(b,w),p?s.classBindings=m:s.styleBindings=m}(d,p,s,a,m,l)}}function Iu(r,s,a,l,d){let p=null;const m=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<m&&(p=s[b],l=Tu(l,p.hostAttrs,d),p!==r);)b++;return null!==r&&(a.directiveStylingLast=b),l}function Tu(r,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?d=m:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),wr(r,m,!!a||s[++p]))}return void 0===r?null:r}function kE(r,s,a){const l=String(s);""!==l&&!l.includes(" ")&&wr(r,l,a)}function sh(r,s,a,l,d,p,m,b){if(!(3&s.type))return;const w=r.data,S=w[b+1],O=function WI(r){return 1==(1&r)}(S)?Ri(w,s,a,d,hc(S),m):void 0;ma(O)||(ma(p)||function CE(r){return 2==(2&r)}(S)&&(p=Ri(w,null,a,d,b,m)),function hf(r,s,a,l,d){if(s)d?r.addClass(a,l):r.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:ea.DashCase;null==d?r.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ea.Important),r.setStyle(a,l,d,p))}}(l,m,to(en(),a),d,p))}function Ri(r,s,a,l,d,p){const m=null===s;let b;for(;d>0;){const w=r[d],S=Array.isArray(w),O=S?w[1]:w,F=null===O;let Y=a[d+1];Y===kt&&(Y=F?Gt:void 0);let ie=F?yd(Y,l):O===l?Y:void 0;if(S&&!ma(ie)&&(ie=yd(w,l)),ma(ie)&&(b=ie,m))return b;const me=r[d+1];d=m?dl(me):hc(me)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(b=yd(w,l))}return b}function ma(r){return void 0!==r}function FE(r,s){return 0!=(r.flags&(s?8:16))}function ly(r,s=""){const a=Oe(),l=Ht(),d=r+Rt,p=l.firstCreatePass?zd(l,d,1,s,null):l.data[d],m=Em(l,a,p,s,r);a[d]=m,Pr()&&ss(l,a,m,p),Ss(p,!1)}let Em=(r,s,a,l,d)=>(kr(!0),rs(s[Et],l));function Su(r){return Dm("",r,""),Su}function Dm(r,s,a){const l=Oe(),d=ha(l,r,s,a);return d!==kt&&function cl(r,s,a){const l=to(s,r);!function il(r,s,a){r.setValue(s,a)}(r[Et],l,a)}(l,en(),d),Dm}function gy(r,s,a){const l=Oe();return Ui(l,ro(),s)&&us(Ht(),En(),l,r,s,l[Et],a,!0),gy}const fl=void 0;var cT=["en",[["a","p"],["AM","PM"],fl],[["AM","PM"],fl,fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fl,"{1} 'at' {0}",fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lT(r){const a=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let lh={};function my(r){const s=function Mu(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=_y(s);if(a)return a;const l=s.split("-")[0];if(a=_y(l),a)return a;if("en"===l)return cT;throw new oe(701,!1)}function KE(r){return my(r)[ch.PluralCase]}function _y(r){return r in lh||(lh[r]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[r]),lh[r]}var ch=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(ch||{});const Ou="en-US",fc={marker:"element"},uh={marker:"ICU"};var Ir=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ir||{});let qE=Ou;function ep(r){(function Qe(r,s){null==r&&Ge(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(qE=r.toLowerCase().replace(/_/g,"-"))}function JE(r,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?w_(r,0,a):Xt(a[d])}function QE(r,s,a,l,d){const p=s.insertBeforeIndex;if(Array.isArray(p)){let m=l,b=null;if(3&s.type||(b=m,m=d),null!==m&&-1===s.componentOffset)for(let w=1;w<p.length;w++)sa(r,m,a[p[w]],b,!1)}}function vy(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const l=r[a];dh(l)||pT(l,s)&&null===yy(l)&&gT(l,s.index)}}function dh(r){return!(64&r.type)}function pT(r,s){return dh(s)||r.index>s.index}function yy(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function gT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(z0(JE,QE),r.insertBeforeIndex=s)}function _a(r,s,a){const l=av(r,a,64,null,null);return vy(s,l),l}function rD(){const r=[];let a,l,s=-1;function p(b,w){s=0;const S=function Ru(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(b,w);l=null!==S?b.remove[S]:Gt}function m(){if(s<l.length){const b=l[s++];return b>0?a[b]:(r.push(s,l),p(a[nt].data[~b],a),m())}return 0===r.length?null:(l=r.pop(),s=r.pop(),m())}return function d(b,w){for(a=w;r.length;)r.pop();return p(b.value,w),m}}const ip=/\ufffd(\d+):?\d*\ufffd/gi,Ey=/\ufffd(\d+)\ufffd/,va=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ya="\ufffd",aD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ET=/\uE500/g;function rp(r,s,a,l,d,p,m){const b=Vf(r,l,1,null);let w=b<<Ir.SHIFT,S=Ho();s===S&&(S=null),null===S&&(w|=Ir.APPEND_EAGERLY),m&&(w|=Ir.COMMENT,function Le(r){void 0===j&&(j=r())}(rD)),d.push(w,null===p?"":p);const O=av(r,b,m?32:1,null===p?"":p,null);vy(a,O);const F=O.index;return Ss(O,!1),null!==S&&s!==S&&function tp(r,s){let a=r.insertBeforeIndex;null===a?(z0(JE,QE),a=r.insertBeforeIndex=[null,s]):(function pn(r,s,a){r!=s&&Ge(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(S,F),O}function cD(r,s,a,l,d,p,m){const b=m.match(ip),w=rp(r,s,a,p,l,b?null:m,!1);b&&_h(d,m,w.index,null,0,null)}function _h(r,s,a,l,d,p){const m=r.length,b=m+1;r.push(null,null);const w=m+2,S=s.split(ip);let O=0;for(let F=0;F<S.length;F++){const Y=S[F];if(1&F){const ie=d+parseInt(Y,10);r.push(-1-ie),O|=Am(ie)}else""!==Y&&r.push(Y)}return r.push(a<<2|(l?1:0)),l&&r.push(l,p),r[m]=O,r[b]=r.length-w,O}function Am(r){return 1<<Math.min(r,31)}function dD(r){let s,p,a="",l=0,d=!1;for(;null!==(s=aD.exec(r));)d?s[0]===`${ya}/*${p}${ya}`&&(l=s.index,d=!1):(a+=r.substring(l,s.index+s[0].length),p=s[1],d=!0);return a+=r.slice(l),a}function Cy(r,s,a,l,d,p){let m=0;const b={type:d.type,currentCaseLViewIndex:Vf(r,s,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function pD(r,s,a){r.push(Am(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,p),function XE(r,s,a){const l=r.data[s];null===l?r.data[s]=a:l.value=a}(r,p,b);const w=d.values;for(let S=0;S<w.length;S++){const O=w[S],F=[];for(let Y=0;Y<O.length;Y++){const ie=O[Y];if("string"!=typeof ie){const me=F.push(ie)-1;O[Y]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}m=IT(r,b,s,a,l,d.cases[S],O.join(""),F)|m}m&&function TT(r,s,a){r.push(s,1,a<<2|3)}(a,m,p)}function CT(r){const s=[],a=[];let l=1,d=0;const p=Pu(r=r.replace(va,function(m,b,w){return l="select"===w?0:1,d=parseInt(b.slice(1),10),""}));for(let m=0;m<p.length;){let b=p[m++].trim();1===l&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&s.push(b);const w=Pu(p[m++]);s.length>a.length&&a.push(w)}return{type:l,mainBinding:d,cases:s,values:a}}function Pu(r){if(!r)return[];let s=0;const a=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const w=r.substring(s,b);va.test(w)?l.push(CT(w)):l.push(w),s=b+1}}else{if(0==a.length){const w=r.substring(s,b);l.push(w),s=b+1}a.push("{")}}const m=r.substring(s);return l.push(m),l}function IT(r,s,a,l,d,p,m,b){const w=[],S=[],O=[];s.cases.push(p),s.create.push(w),s.remove.push(S),s.update.push(O);const Y=function q0(r){const s=new vC(r);return function yC(){try{return!!(new window.DOMParser).parseFromString(sl(""),"text/html")}catch{return!1}}()?new _C(s):s}(ec()).getInertBodyElement(m),ie=function Sg(r){return"content"in r&&function A_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(Y)||Y;return ie?hD(r,s,a,l,w,S,O,ie,d,b,0):0}function hD(r,s,a,l,d,p,m,b,w,S,O){let F=0,Y=b.firstChild;for(;Y;){const ie=Vf(r,a,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const me=Y,Fe=me.tagName.toLowerCase();if(S_.hasOwnProperty(Fe)){Om(d,fc,Fe,w,ie),r.data[ie]=Fe;const Ct=me.attributes;for(let Pt=0;Pt<Ct.length;Pt++){const ln=Ct.item(Pt),jr=ln.name.toLowerCase();ln.value.match(ip)?X0.hasOwnProperty(jr)&&_h(m,ln.value,ie,ln.name,0,Cg[jr]?Rd:null):gD(d,ie,ln)}F=hD(r,s,a,l,d,p,m,Y,ie,S,O+1)|F,Mm(p,ie,O)}break;case Node.TEXT_NODE:const qe=Y.textContent||"",ot=qe.match(ip);Om(d,null,ot?"":qe,w,ie),Mm(p,ie,O),ot&&(F=_h(m,qe,ie,null,0,null)|F);break;case Node.COMMENT_NODE:const ke=Ey.exec(Y.textContent||"");if(ke){const Pt=S[parseInt(ke[1],10)];Om(d,uh,"",w,ie),Cy(r,a,l,w,Pt,ie),fD(p,ie,O)}}Y=Y.nextSibling}return F}function Mm(r,s,a){0===a&&r.push(s)}function fD(r,s,a){0===a&&(r.push(~s),r.push(s))}function Om(r,s,a,l,d){null!==s&&r.push(s),r.push(a,d,function Sm(r,s,a){return r|s<<17|a<<1}(0,l,d))}function gD(r,s,a){r.push(s<<1|1,a.name,a.value)}function Rm(r,s,a=-1){const l=Ht(),d=Oe(),p=Rt+r,m=Fi(l.consts,s),b=Ho();l.firstCreatePass&&function wT(r,s,a,l,d,p){const m=Ho(),b=[],w=[],S=[[]];d=function Nm(r,s){if(function uD(r){return-1===r}(s))return dD(r);{const a=r.indexOf(`:${s}${ya}`)+2+s.toString().length,l=r.search(new RegExp(`${ya}\\/\\*\\d+:${s}${ya}`));return dD(r.substring(a,l))}}(d,p);const O=function mh(r){return r.replace(ET," ")}(d).split(lD);for(let F=0;F<O.length;F++){let Y=O[F];if(1&F){const ie=47===Y.charCodeAt(0),Fe=(Y.charCodeAt(ie?1:0),Rt+Number.parseInt(Y.substring(ie?2:1)));if(ie)S.shift(),Ss(Ho(),!1);else{const qe=_a(r,S[0],Fe);S.unshift([]),Ss(qe,!0)}}else{const ie=Pu(Y);for(let me=0;me<ie.length;me++){let Fe=ie[me];if(1&me){const qe=Fe;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Cy(r,a,w,s,qe,rp(r,m,S[0],a,b,"",!0).index)}else""!==Fe&&cD(r,m,S[0],b,w,a,Fe)}}}r.data[l]={create:b,update:w}}(l,null===b?0:b.index,d,p,m,a),2===l.type?d[Nn][bt]|=32:d[bt]|=32;const w=l.data[p],O=D_(l,b===d[ui]?null:b,d);(function vT(r,s,a,l){const d=r[Et];for(let p=0;p<s.length;p++){const m=s[p++],b=s[p],S=(m&Ir.APPEND_EAGERLY)===Ir.APPEND_EAGERLY,O=m>>>Ir.SHIFT;let F=r[O];null===F&&(F=r[O]=(m&Ir.COMMENT)===Ir.COMMENT?d.createComment(b):rs(d,b)),S&&null!==a&&sa(d,a,F,l,!1)}})(d,w.create,O,b&&8&b.type?d[b.index]:null),hd(!0)}function _D(r,s,a){Rm(r,s,a),function Ls(){hd(!1)}()}function Iy(r,s,a,l,d){if(r=Pe(r),Array.isArray(r))for(let p=0;p<r.length;p++)Iy(r[p],s,a,l,d);else{const p=Ht(),m=Oe(),b=oi();let w=gu(r)?r:Pe(r.provide);const S=k_(r),O=1048575&b.providerIndexes,F=b.directiveStart,Y=b.providerIndexes>>20;if(gu(r)||!r.multi){const ie=new Qr(S,d,Wd),me=Fu(w,s,d?O:O+Y,F);-1===me?(Dr(Lr(b,m),p,w),Ty(p,r,s.length),s.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(ie),m.push(ie)):(a[me]=ie,m[me]=ie)}else{const ie=Fu(w,s,O+Y,F),me=Fu(w,s,O,O+Y),qe=me>=0&&a[me];if(d&&!qe||!d&&!(ie>=0&&a[ie])){Dr(Lr(b,m),p,w);const ot=function op(r,s,a,l,d){const p=new Qr(r,a,Wd);return p.multi=[],p.index=s,p.componentProviders=0,ku(p,d,l&&!a),p}(d?PT:xT,a.length,d,l,S);!d&&qe&&(a[me].providerFactory=ot),Ty(p,r,s.length,0),s.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(ot),m.push(ot)}else Ty(p,r,ie>-1?ie:me,ku(a[d?me:ie],S,!d&&l));!d&&l&&qe&&a[me].componentProviders++}}}function Ty(r,s,a,l){const d=gu(s),p=function RC(r){return!!r.useClass}(s);if(d||p){const w=(p?Pe(s.useClass):s).prototype.ngOnDestroy;if(w){const S=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const O=S.indexOf(a);-1===O?S.push(a,[l,w]):S[O+1].push(l,w)}else S.push(a,w)}}}function ku(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Fu(r,s,a,l){for(let d=a;d<l;d++)if(s[d]===r)return d;return-1}function xT(r,s,a,l){return Lu(this.multi,[])}function PT(r,s,a,l){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=ao(a,a[nt],this.providerFactory.index,l);p=b.slice(0,m),Lu(d,p);for(let w=m;w<b.length;w++)p.push(b[w])}else p=[],Lu(d,p);return p}function Lu(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function yD(r,s=[]){return a=>{a.providersResolver=(l,d)=>function xm(r,s,a){const l=Ht();if(l.firstCreatePass){const d=Pi(r);Iy(a,l.data,l.blueprint,d,!0),Iy(s,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,s)}}class Bu{}class bD{}function kT(r,s){return new Sy(r,s??null,[])}class Sy extends Bu{constructor(s,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qb(this);const d=Si(s);this._bootstrapComponents=ca(d.bootstrap),this._r3Injector=Ib(s,a,[{provide:Bu,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver},...l],ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ED extends bD{constructor(s){super(),this.moduleType=s}create(s){return new Sy(this.moduleType,s,[])}}class Ay extends Bu{constructor(s){super(),this.componentFactoryResolver=new Qb(this),this.instance=null;const a=new Mg([...s.providers,{provide:Bu,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver}],s.parent||go(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ap(r,s,a=null){return new Ay({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let vh=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=ab(0,a.type),d=l.length>0?ap([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ut({token:r,providedIn:"environment",factory:()=>new r(wt(Ur))})}return r})();function DD(r){r.getStandaloneInjector=s=>s.get(vh).getOrCreateStandaloneInjector(r)}function MD(r,s,a,l){return function OD(r,s,a,l,d,p){const m=s+a;return Ui(r,m,d)?hs(r,m+1,p?l.call(p,d):l(d)):lp(r,m+1)}(Oe(),Li(),r,s,a,l)}function Pm(r,s,a,l,d){return function RD(r,s,a,l,d,p,m){const b=s+a;return Eu(r,b,d,p)?hs(r,b+2,m?l.call(m,d,p):l(d,p)):lp(r,b+2)}(Oe(),Li(),r,s,a,l,d)}function xy(r,s,a,l,d,p){return function xD(r,s,a,l,d,p,m,b){const w=s+a;return function lm(r,s,a,l,d){const p=Eu(r,s,a,l);return Ui(r,s+2,d)||p}(r,w,d,p,m)?hs(r,w+3,b?l.call(b,d,p,m):l(d,p,m)):lp(r,w+3)}(Oe(),Li(),r,s,a,l,d,p)}function lp(r,s){const a=r[s];return a===kt?void 0:a}function ky(){return this._results[Symbol.iterator]()}class pc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ks)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=pc.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=ky)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=function Gi(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ts(r,s,a){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function XT(r,s,a,l=!0){const d=s[nt];if(function b_(r,s,a,l){const d=hi+l,p=a.length;l>0&&(a[d-1][Ai]=s),l<p-hi?(s[Ai]=a[d],Jh(a,hi+l,s)):(a.push(s),s[Ai]=null),s[An]=a;const m=s[Sc];null!==m&&a!==m&&function lf(r,s){const a=r[ni];s[Nn]!==s[An][An][Nn]&&(r[wl]=!0),null===a?r[ni]=[s]:a.push(s)}(m,s);const b=s[ei];null!==b&&b.insertView(r),s[bt]|=128}(d,s,r,a),l){const p=df(a,r),m=s[Et],b=Nd(m,r[ti]);null!==b&&function Jl(r,s,a,l,d,p){l[Sn]=d,l[ui]=s,oa(r,l,a,1,d,p)}(d,r[ui],m,s,b,p)}}let gc=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=t1}return r})();const FD=gc,LD=class extends FD{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const d=function Fy(r,s,a,l){const d=s.tView,b=Jg(r,d,a,4096&r[bt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);b[Sc]=r[s.index];const S=r[ei];return null!==S&&(b[ei]=S.createEmbeddedView(d)),Kd(d,b,a),b}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:l});return new Zd(d)}};function t1(){return Fm(oi(),Oe())}function Fm(r,s){return 4&r.type?new LD(s,r,bu(r,s)):null}let Bm=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Bs}return r})();function Bs(){return UD(oi(),Oe())}const o1=Bm,By=class extends o1{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new vn(this._hostTNode,this._hostLView)}get parentInjector(){const s=wi(this._hostTNode,this._hostLView);if(Wo(s)){const a=$i(s,this._hostLView),l=so(s);return new vn(a[nt].data[l+8],a)}return new vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Vm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(s,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const b=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,false),b}createComponent(s,a,l,d,p){const m=s&&!function Ci(r){return"function"==typeof r}(s);let b;if(m)b=a;else{const Fe=a||{};b=Fe.index,l=Fe.injector,d=Fe.projectableNodes,p=Fe.environmentInjector||Fe.ngModuleRef}const w=m?s:new im(Wt(s)),S=l||this.parentInjector;if(!p&&null==w.ngModule){const qe=(m?S:this.parentInjector).get(Ur,null);qe&&(p=qe)}Wt(w.componentType??{});const ie=w.create(S,d,null,p);return this.insertImpl(ie.hostView,b,false),ie}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,l){const d=s._lView;if(function Wh(r){return Di(r[An])}(d)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const S=d[An],O=new By(S,S[ui],S[An]);O.detach(O.indexOf(s))}}const m=this._adjustIndex(a),b=this._lContainer;return XT(b,d,m,!l),s.attachToViewContainerRef(),Jh(Vy(b),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Vm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Sd(this._lContainer,a);l&&(vd(Vy(this._lContainer),a),E_(l[nt],l))}detach(s){const a=this._adjustIndex(s,-1),l=Sd(this._lContainer,a);return l&&null!=vd(Vy(this._lContainer),a)?new Zd(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Vm(r){return r[8]}function Vy(r){return r[8]||(r[8]=[])}function UD(r,s){let a;const l=s[r.index];return Di(l)?a=l:(a=Wb(l,s,null,r),s[r.index]=a,Qg(s,a)),a1(a,s,r,l),new By(a,r,s)}let a1=function l1(r,s,a,l){if(r[ti])return;let d;d=8&a.type?Xt(l):function HD(r,s){const a=r[Et],l=a.createComment(""),d=fi(s,r);return sa(a,Nd(a,d),l,function cC(r,s){return r.nextSibling(s)}(a,d),!1),l}(s,a),r[ti]=d};class Um{constructor(s){this.queryList=s,this.matches=null}clone(){return new Um(this.queryList)}setDirty(){this.queryList.setDirty()}}class jD{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const m=a.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new jD(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==zD(s,a).matches&&this.queries[a].setDirty()}}class Hy{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Eo{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Eo(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class jy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new jy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,MA(a,p)),this.matchTNodeWithReadOption(s,a,Xc(a,s,p,!1,!1))}else l===gc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Xc(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Mf||d===Bm||d===gc&&4&a.type)this.addMatch(a.index,-2);else{const p=Xc(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function MA(r,s){const a=r.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function RA(r,s,a,l){return-1===a?function OA(r,s){return 11&r.type?bu(r,s):4&r.type?Fm(r,s):null}(s,r):-2===a?function $D(r,s,a){return a===Mf?bu(s,r):a===gc?Fm(s,r):a===Bm?UD(s,r):void 0}(r,s,l):ao(r,r[nt],a,s)}function $y(r,s,a,l){const d=s[ei].queries[l];if(null===d.matches){const p=r.data,m=a.matches,b=[];for(let w=0;w<m.length;w+=2){const S=m[w];b.push(S<0?null:RA(s,p[S],m[w+1],a.metadata.read))}d.matches=b}return d.matches}function dp(r,s,a,l){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const m=$y(r,s,d,a);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)l.push(m[b/2]);else{const S=p[b+1],O=s[-w];for(let F=hi;F<O.length;F++){const Y=O[F];Y[Sc]===Y[An]&&dp(Y[nt],Y,S,l)}if(null!==O[ni]){const F=O[ni];for(let Y=0;Y<F.length;Y++){const ie=F[Y];dp(ie[nt],ie,S,l)}}}}}return l}function GD(r){const s=Oe(),a=Ht(),l=Bl();pd(l+1);const d=zD(a,l);if(r.dirty&&function Gh(r){return 4==(4&r[bt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?dp(a,s,l,[]):$y(a,s,d,l);r.reset(p,Hg),r.notifyOnChanges()}return!0}return!1}function WD(r,s,a){const l=Ht();l.firstCreatePass&&(f1(l,new Hy(r,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),h1(l,Oe(),s)}function u1(r,s,a,l){const d=Ht();if(d.firstCreatePass){const p=oi();f1(d,new Hy(s,a,l),p.index),function xA(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}h1(d,Oe(),a)}function Gy(){return function d1(r,s){return r[ei].queries[s].queryList}(Oe(),Bl())}function h1(r,s,a){const l=new pc(4==(4&a));(function hv(r,s,a,l){const d=Hr(s);d.push(a),r.firstCreatePass&&Yd(r).push(l,d.length-1)})(r,s,l,l.destroy),null===s[ei]&&(s[ei]=new jD),s[ei].queries.push(new Um(l))}function f1(r,s,a){null===r.queries&&(r.queries=new Eo),r.queries.track(new jy(s,a))}function zD(r,s){return r.queries.getByIndex(s)}function p1(r,s){return Fm(r,s)}function Wy(r){return!!Si(r)}const fr=new rn("Application Initializer");let Ea=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Ot(fr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(bE(p))a.push(p);else if(BI(p)){const m=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});a.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),n0=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const r0=new rn("LocaleId",{providedIn:"root",factory:()=>Ot(r0,Je.Optional|Je.SkipSelf)||function jA(){return typeof $localize<"u"&&$localize.locale||Ou}()}),dw=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let fw=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class s0{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let M1=(()=>{class r{compileModuleSync(a){return new ED(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ca(Si(a).declarations).reduce((m,b)=>{const w=Wt(b);return w&&m.push(new im(w)),m},[]);return new s0(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Uu=new rn(""),_p=new rn("");let Ih,Ym=(()=>{class r{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ih||(function Km(r){Ih=r}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||r)(wt(Bi),wt(Ch),wt(_p))};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac})}return r})(),Ch=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Ih?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),mc=null;const Zm=new rn("AllowMultipleToken"),Th=new rn("PlatformDestroyListeners"),d0=new rn("appBootstrapListener");class B1{constructor(s,a){this.name=s,this.token=a}}function U1(r,s,a=[]){const l=`Platform: ${s}`,d=new rn(l);return(p=[])=>{let m=vp();if(!m||m.injector.get(Zm,!1)){const b=[...a,...p,{provide:d,useValue:!0}];r?r(b):function JA(r){if(mc&&!mc.get(Zm,!1))throw new oe(400,!1);(function _w(){!function Lh(r){nd=r}(()=>{throw new oe(600,!1)})})(),mc=r;const s=r.get(bw);(function qm(r){r.get(B_,null)?.forEach(a=>a())})(r)}(function yw(r=[],s){return Ps.create({name:s,providers:[{provide:O_,useValue:"platform"},{provide:Th,useValue:new Set([()=>mc=null])},...r]})}(b,l))}return function h0(r){const s=vp();if(!s)throw new oe(401,!1);return s}()}}function vp(){return mc?.get(bw)??null}let bw=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function $1(r="zone.js",s){return"noop"===r?new jC:"zone.js"===r?new Bi(s):r}(l?.ngZone,function j1(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function FT(r,s,a){return new Sy(r,s,a)}(a.moduleType,this.injector,function z1(r){return[{provide:Bi,useFactory:r},{provide:Fd,multi:!0,useFactory:()=>{const s=Ot(Ew,{optional:!0});return()=>s.initialize()}},{provide:G1,useFactory:W1},{provide:Yg,useFactory:Mb}]}(()=>d)),m=p.injector.get(la,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:w=>{m.handleError(w)}});p.onDestroy(()=>{yp(this._modules,p),b.unsubscribe()})}),function Sh(r,s,a){try{const l=a();return bE(l)?l.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(m,d,()=>{const b=p.injector.get(Ea);return b.runInitializers(),b.donePromise.then(()=>(ep(p.injector.get(r0,Ou)||Ou),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const d=Jm({},l);return function F1(r,s,a){const l=new ED(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Hu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new oe(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Th,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||r)(wt(Ps))};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Jm(r,s){return Array.isArray(s)?s.reduce(Jm,r):{...r,...s}}let Hu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(G1),this.zoneIsStable=Ot(Yg),this.componentTypes=[],this.components=[],this.isStable=Ot(fw).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,de.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,ve.B)()),this._injector=Ot(Ur)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof _b;if(!this._injector.get(Ea).done)throw!d&&Es(a),new oe(405,!1);let m;m=d?a:this._injector.get(Ug).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const b=function vw(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Bu),S=m.create(Ps.NULL,[],l||m.selector,b),O=S.location.nativeElement,F=S.injector.get(Uu,null);return F?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),yp(this.components,S),F?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;yp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(d0,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>yp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new oe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yp(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const G1=new rn("",{providedIn:"root",factory:()=>Ot(la).handleError.bind(void 0)});function W1(){const r=Ot(Bi),s=Ot(la);return a=>r.runOutsideAngular(()=>s.handleError(a))}let Ew=(()=>{class r{constructor(){this.zone=Ot(Bi),this.applicationRef=Ot(Hu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function XA(){return!1}let g0=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=K1}return r})();function K1(r){return function Z1(r,s,a){if(Ys(r)&&!a){const l=pi(r.index,s);return new Zd(l,l)}return 47&r.type?new Zd(s[Nn],s):null}(oi(),Oe(),16==(16&r))}class y0{constructor(){}supports(s){return om(s)}create(s){return new b0(s)}}const Q1=(r,s)=>s;class b0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Q1}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const m=!l||a&&a.currentIndex<Aw(l,d,p)?a:l,b=Aw(m,d,p),w=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{p||(p=[]);const S=b-d,O=w-d;if(S!=O){for(let Y=0;Y<S;Y++){const ie=Y<p.length?p[Y]:p[Y]=0,me=ie+Y;O<=me&&me<S&&(p[Y]=ie+1)}p[m.previousIndex]=O-S}}b!==w&&s(m,b,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!om(s))throw new oe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],m=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,p,m,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,m,b),l=!0),a=a._next}else d=0,function am(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{m=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,b,m,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new X1(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new E0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new E0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class X1{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class E0{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new eS,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Aw(r,s,a){const l=r.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class tS{constructor(){}supports(s){return s instanceof Map||Uf(s)}create(){return new D0}}class D0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Uf(s)))throw new oe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const l=new nS(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class nS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function w0(){return new Xm([new y0])}let Xm=(()=>{class r{static#e=this.\u0275prov=ut({token:r,providedIn:"root",factory:w0});constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||w0()),deps:[[r,new zl,new Ed]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new oe(901,!1)}}return r})();function Nw(){return new e_([new tS])}let e_=(()=>{class r{static#e=this.\u0275prov=ut({token:r,providedIn:"root",factory:Nw});constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||Nw()),deps:[[r,new zl,new Ed]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new oe(901,!1)}}return r})();const C0=U1(null,"core",[]);let Ow=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(l){return new(l||r)(wt(Hu))};static#t=this.\u0275mod=Sa({type:r});static#n=this.\u0275inj=un({})}return r})();function hS(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function fS(r,s){const a=Wt(r),l=s.elementInjector||go();return new im(a).create(l,s.projectableNodes,s.hostElement,s.environmentInjector)}function Bw(r){const s=Wt(r);if(!s)return null;const a=new im(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(st,De,R)=>{R.d(De,{Z:()=>We});var c=R(9058),Q=R(4537),x=R(7592),te=R(7879);class se{constructor(Ke,Re){this._delegate=Ke,this.firebase=Re,(0,x._addComponent)(Ke,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ke,Re=x._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ke);return!ct.isInitialized()&&"EXPLICIT"===(null===(lt=ct.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Re})}_removeServiceInstance(Ke,Re=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Re)}_addComponent(Ke){(0,x._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,x._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function ue(){const Pe=function Me(Pe){const Ke={},Re={__esModule:!0,initializeApp:function oe(xe,ae={}){const K=x.initializeApp(xe,ae);if((0,c.r3)(Ke,K.name))return Ke[K.name];const He=new Pe(K,Re);return Ke[K.name]=He,He},app:ct,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function re(xe){const ae=xe.name,K=ae.replace("-compat","");if(x._registerComponent(xe)&&"PUBLIC"===xe.type){const He=(ht=ct())=>{if("function"!=typeof ht[K])throw ve.create("invalid-app-argument",{appName:ae});return ht[K]()};void 0!==xe.serviceProps&&(0,c.ZB)(He,xe.serviceProps),Re[K]=He,Pe.prototype[K]=function(...ht){return this._getService.bind(this,ae).apply(this,xe.multipleInstances?ht:[])}}return"PUBLIC"===xe.type?Re[K]:null},removeApp:function lt(xe){delete Ke[xe]},useAsService:function we(xe,ae){return"serverAuth"===ae?null:ae},modularAPIs:x}};function ct(xe){if(!(0,c.r3)(Ke,xe=xe||x._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:xe});return Ke[xe]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function _e(){return Object.keys(Ke).map(xe=>Ke[xe])}}),ct.App=Pe,Re}(se);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function Ke(Re){(0,c.ZB)(Pe,Re)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Pe}(),$=new te.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=V;!function Ae(Pe){(0,x.registerVersion)("@firebase/app-compat","0.2.13",Pe)}()},7592:(st,De,R)=>{R.r(De),R.d(De,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>un,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Ce,_addOrOverwriteComponent:()=>Ne,_apps:()=>pe,_clearComponents:()=>mt,_components:()=>be,_getProvider:()=>Ge,_registerComponent:()=>Qe,_removeServiceInstance:()=>mn,deleteApp:()=>fe,getApp:()=>Z,getApps:()=>q,initializeApp:()=>In,onLog:()=>et,registerVersion:()=>Ve,setLogLevel:()=>dn});var c=R(5861),Q=R(4537),x=R(7879),te=R(9058),se=R(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(Ee){const G=Ee.getComponent();return"VERSION"===G?.type}(ye)){const ze=ye.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Me="@firebase/app",V=new x.Yd("@firebase/app"),le="[DEFAULT]",he={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,be=new Map;function Ce(Ee,G){try{Ee.container.addComponent(G)}catch(ye){V.debug(`Component ${G.name} failed to register with FirebaseApp ${Ee.name}`,ye)}}function Ne(Ee,G){Ee.container.addOrOverwriteComponent(G)}function Qe(Ee){const G=Ee.name;if(be.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;be.set(G,Ee);for(const ye of pe.values())Ce(ye,Ee);return!0}function Ge(Ee,G){const ye=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),Ee.container.getProvider(G)}function mn(Ee,G,ye=le){Ge(Ee,G).clearInstance(ye)}function mt(){be.clear()}const ut=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(G,ye,ze){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw ut.create("app-deleted",{appName:this._name})}}const un="9.23.0";function In(Ee,G={}){let ye=Ee;"object"!=typeof G&&(G={name:G});const ze=Object.assign({name:le,automaticDataCollectionEnabled:!1},G),tt=ze.name;if("string"!=typeof tt||!tt)throw ut.create("bad-app-name",{appName:String(tt)});if(ye||(ye=(0,te.aH)()),!ye)throw ut.create("no-options");const _t=pe.get(tt);if(_t){if((0,te.vZ)(ye,_t.options)&&(0,te.vZ)(ze,_t.config))return _t;throw ut.create("duplicate-app",{appName:tt})}const Qt=new Q.H0(tt);for(const U of be.values())Qt.addComponent(U);const H=new nn(ye,ze,Qt);return pe.set(tt,H),H}function Z(Ee=le){const G=pe.get(Ee);if(!G&&Ee===le&&(0,te.aH)())return In();if(!G)throw ut.create("no-app",{appName:Ee});return G}function q(){return Array.from(pe.values())}function fe(Ee){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(Ee){const G=Ee.name;pe.has(G)&&(pe.delete(G),yield Promise.all(Ee.container.getProviders().map(ye=>ye.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function Ve(Ee,G,ye){var ze;let tt=null!==(ze=he[Ee])&&void 0!==ze?ze:Ee;ye&&(tt+=`-${ye}`);const _t=tt.match(/\s|\//),Qt=G.match(/\s|\//);if(_t||Qt){const H=[`Unable to register library "${tt}" with version "${G}":`];return _t&&H.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),_t&&Qt&&H.push("and"),Qt&&H.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(H.join(" "))}Qe(new Q.wA(`${tt}-version`,()=>({library:tt,version:G}),"VERSION"))}function et(Ee,G){if(null!==Ee&&"function"!=typeof Ee)throw ut.create("invalid-log-argument");(0,x.Am)(Ee,G)}function dn(Ee){(0,x.Ub)(Ee)}const Yt="firebase-heartbeat-database",Je=1,at="firebase-heartbeat-store";let yt=null;function Kt(){return yt||(yt=(0,se.X3)(Yt,Je,{upgrade:(Ee,G)=>{0===G&&Ee.createObjectStore(at)}}).catch(Ee=>{throw ut.create("idb-open",{originalErrorMessage:Ee.message})})),yt}function Tn(){return(Tn=(0,c.Z)(function*(Ee){try{return yield(yield Kt()).transaction(at).objectStore(at).get(an(Ee))}catch(G){if(G instanceof te.ZR)V.warn(G.message);else{const ye=ut.create("idb-get",{originalErrorMessage:G?.message});V.warn(ye.message)}}})).apply(this,arguments)}function Mt(Ee,G){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(Ee,G){try{const ze=(yield Kt()).transaction(at,"readwrite");yield ze.objectStore(at).put(G,an(Ee)),yield ze.done}catch(ye){if(ye instanceof te.ZR)V.warn(ye.message);else{const ze=ut.create("idb-set",{originalErrorMessage:ye?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(Ee){return`${Ee.name}!${Ee.options.appId}`}class $t{constructor(G){this.container=G,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new Gr(ye),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,c.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=vi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==tt&&!G._heartbeatsCache.heartbeats.some(_t=>_t.date===tt))return G._heartbeatsCache.heartbeats.push({date:tt,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(_t=>{const Qt=new Date(_t.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,c.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ye=vi(),{heartbeatsToSend:ze,unsentEntries:tt}=function Sr(Ee,G=1024){const ye=[];let ze=Ee.slice();for(const tt of Ee){const _t=ye.find(Qt=>Qt.agent===tt.agent);if(_t){if(_t.dates.push(tt.date),yi(ye)>G){_t.dates.pop();break}}else if(ye.push({agent:tt.agent,dates:[tt.date]}),yi(ye)>G){ye.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),_t=(0,te.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ye,tt.length>0?(G._heartbeatsCache.heartbeats=tt,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),_t})()}}function vi(){return(new Date).toISOString().substring(0,10)}class Gr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,c.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(Ee){return Tn.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...G.heartbeats]})}})()}}function yi(Ee){return(0,te.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Ar(Ee){Qe(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Qe(new Q.wA("heartbeat",G=>new $t(G),"PRIVATE")),Ve(Me,"0.9.13",Ee),Ve(Me,"0.9.13","esm2017"),Ve("fire-js","")}("")},4097:(st,De,R)=>{R.d(De,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=R(7592);(0,c.registerVersion)("firebase","9.23.0","app")},120:(st,De,R)=>{R.d(De,{Z:()=>c.Z});var c=R(3399);c.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(st,De,R)=>{R.r(De);var c=R(5861),Q=R(3399),x=R(9058),te=R(7592),se=R(7582),de=R(7879),ve=R(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Pe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new de.Yd("@firebase/auth");function oe(_,...f){lt.logLevel<=de.in.ERROR&&lt.error(`Auth (${te.SDK_VERSION}): ${_}`,...f)}function _e(_,...f){throw ae(_,...f)}function re(_,...f){return ae(_,...f)}function we(_,f,g){const y=Object.assign(Object.assign({},Pe()),{[f]:g});return new x.LL("auth","Firebase",y).create(f,{appName:_.name})}function xe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&_e(_,"argument-error"),we(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ae(_,...f){if("string"!=typeof _){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return Ke.create(_,...f)}function K(_,f,...g){if(!_)throw ae(f,...g)}function He(_){const f="INTERNAL ASSERTION FAILED: "+_;throw oe(f),new Error(f)}function ht(_,f){_||He(f)}function zt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function cn(){return"http:"===sn()||"https:"===sn()}function sn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class $n{constructor(f,g){this.shortDelay=f,this.longDelay=g,ht(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(_,f){ht(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class he{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new $n(3e4,6e4);function Ce(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ne(_,f,g,y){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(_,f,g,y,T={}){return Ge(_,T,(0,c.Z)(function*(){let N={},j={};y&&("GET"===f?j=y:N={body:JSON.stringify(y)});const W=(0,x.xO)(Object.assign({key:_.config.apiKey},j)).slice(1),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/json",_.languageCode&&(Le["X-Firebase-Locale"]=_.languageCode),he.fetch()(ut(_,_.config.apiHost,g,W),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ge(_,f,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},pe),f);try{const T=new nn(_),N=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const j=yield N.json();if("needConfirmation"in j)throw un(_,"account-exists-with-different-credential",j);if(N.ok&&!("errorMessage"in j))return j;{const W=N.ok?j.errorMessage:j.error.message,[Le,Ue]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw un(_,"credential-already-in-use",j);if("EMAIL_EXISTS"===Le)throw un(_,"email-already-in-use",j);if("USER_DISABLED"===Le)throw un(_,"user-disabled",j);const rt=y[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw we(_,rt,Ue);_e(_,rt)}}catch(T){if(T instanceof x.ZR)throw T;_e(_,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function mt(_,f,g,y){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(_,f,g,y,T={}){const N=yield Ne(_,f,g,y,T);return"mfaPendingCredential"in N&&_e(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ut(_,f,g,y){const T=`${f}${g}?${y}`;return _.config.emulator?le(_.config,T):`${_.config.apiScheme}://${T}`}class nn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(re(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(_,f,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const T=re(_,f,y);return T.customData._tokenResponse=g,T}function Z(){return(Z=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function et(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Je(){return(Je=(0,c.Z)(function*(_,f=!1){const g=(0,x.m9)(_),y=yield g.getIdToken(f),T=yt(y);K(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,j=N?.sign_in_provider;return{claims:T,token:y,authTime:et(at(T.auth_time)),issuedAtTime:et(at(T.iat)),expirationTime:et(at(T.exp)),signInProvider:j||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function at(_){return 1e3*Number(_)}function yt(_){const[f,g,y]=_.split(".");if(void 0===f||void 0===g||void 0===y)return oe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,x.tV)(g);return T?JSON.parse(T):(oe("Failed to decode base64 JWT payload"),null)}catch(T){return oe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function on(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof x.ZR&&function Mt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class hn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class an{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xt(_){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,c.Z)(function*(_){var f;const g=_.auth,y=yield _.getIdToken(),T=yield on(_,function Te(_,f){return Ve.apply(this,arguments)}(g,{idToken:y}));K(T?.users.length,g,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const j=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Gr(_){return _.map(f=>{var{providerId:g}=f,y=(0,se._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(N.providerUserInfo):[],W=function Sr(_,f){return[..._.filter(y=>!f.some(T=>T.providerId===y.providerId)),...f]}(_.providerData,j),rt=!!_.isAnonymous&&!(_.email&&N.passwordHash||W?.length),Ye={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:W,metadata:new an(N.createdAt,N.lastLoginAt),isAnonymous:rt};Object.assign(_,Ye)}),Xn.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(_){const f=(0,x.m9)(_);yield xt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(_,f){const g=yield Ge(_,{},(0,c.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,j=ut(_,T,"/v1/token",`key=${N}`),W=yield _._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(j,{method:"POST",headers:W,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Kt(_){const f=yt(_);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,c.Z)(function*(){return K(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:j}=yield function yi(_,f){return Ar.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(T,N,Number(j))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:T,expirationTime:N}=g,j=new Ee;return y&&(K("string"==typeof y,"internal-error",{appName:f}),j.refreshToken=y),T&&(K("string"==typeof T,"internal-error",{appName:f}),j.accessToken=T),N&&(K("number"==typeof N,"internal-error",{appName:f}),j.expirationTime=N),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return He("not implemented")}}function G(_,f){K("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ye{constructor(f){var{uid:g,auth:y,stsTokenManager:T}=f,N=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new an(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const y=yield on(g,g.stsTokenManager.getToken(g.auth,f));return K(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function Yt(_){return Je.apply(this,arguments)}(this,f)}reload(){return function $t(_){return vi.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new ye(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield xt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield on(f,function In(_,f){return Z.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,T,N,j,W,Le,Ue,rt;const Ye=null!==(y=g.displayName)&&void 0!==y?y:void 0,On=null!==(T=g.email)&&void 0!==T?T:void 0,Vr=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,nl=null!==(j=g.photoURL)&&void 0!==j?j:void 0,ia=null!==(W=g.tenantId)&&void 0!==W?W:void 0,rs=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,il=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,ra=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:ql,emailVerified:Td,isAnonymous:Jl,providerData:af,stsTokenManager:uu}=g;K(ql&&uu,f,"internal-error");const b_=Ee.fromJSON(this.name,uu);K("string"==typeof ql,f,"internal-error"),G(Ye,f.name),G(On,f.name),K("boolean"==typeof Td,f,"internal-error"),K("boolean"==typeof Jl,f,"internal-error"),G(Vr,f.name),G(nl,f.name),G(ia,f.name),G(rs,f.name),G(il,f.name),G(ra,f.name);const lf=new ye({uid:ql,auth:f,email:On,emailVerified:Td,displayName:Ye,isAnonymous:Jl,photoURL:nl,phoneNumber:Vr,tenantId:ia,stsTokenManager:b_,createdAt:il,lastLoginAt:ra});return af&&Array.isArray(af)&&(lf.providerData=af.map(mg=>Object.assign({},mg))),rs&&(lf._redirectEventId=rs),lf}static _fromIdTokenResponse(f,g,y=!1){return(0,c.Z)(function*(){const T=new Ee;T.updateFromServerResponse(g);const N=new ye({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:y});return yield xt(N),N})()}}const ze=new Map;function tt(_){ht(_ instanceof Function,"Expected a class definition");let f=ze.get(_);return f?(ht(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ze.set(_,f),f)}const Qt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,y){var T=this;return(0,c.Z)(function*(){T.storage[g]=y})()}_get(g){var y=this;return(0,c.Z)(function*(){const T=y.storage[g];return void 0===T?null:T})()}_remove(g){var y=this;return(0,c.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function H(_,f,g){return`firebase:${_}:${f}:${g}`}class U{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:T,name:N}=this.auth;this.fullUserKey=H(this.userKey,T.apiKey,N),this.fullPersistenceKey=H("persistence",T.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ye._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,c.Z)(function*(){if(!g.length)return new U(tt(Qt),f,y);const T=(yield Promise.all(g.map(function(){var Ue=(0,c.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let N=T[0]||tt(Qt);const j=H(y,f.config.apiKey,f.name);let W=null;for(const Ue of g)try{const rt=yield Ue._get(j);if(rt){const Ye=ye._fromJSON(f,rt);Ue!==N&&(W=Ye),N=Ue;break}}catch{}const Le=T.filter(Ue=>Ue._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],W&&(yield N._set(j,W.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,c.Z)(function*(rt){if(rt!==N)try{yield rt._remove(j)}catch{}});return function(rt){return Ue.apply(this,arguments)}}())),new U(N,f,y)):new U(N,f,y)})()}}function J(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(St(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(bi(f))return"Blackberry";if(Ot(f))return"Webos";if(ce(f))return"Safari";if((f.includes("chrome/")||it(f))&&!f.includes("edge/"))return"Chrome";if(wt(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Ie(_=(0,x.z$)()){return/firefox\//i.test(_)}function ce(_=(0,x.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function it(_=(0,x.z$)()){return/crios\//i.test(_)}function St(_=(0,x.z$)()){return/iemobile/i.test(_)}function wt(_=(0,x.z$)()){return/android/i.test(_)}function bi(_=(0,x.z$)()){return/blackberry/i.test(_)}function Ot(_=(0,x.z$)()){return/webos/i.test(_)}function Gn(_=(0,x.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Io(_=(0,x.z$)()){return Gn(_)||wt(_)||Ot(_)||bi(_)||/windows phone/i.test(_)||St(_)}function Nr(_,f=[]){let g;switch(_){case"Browser":g=J((0,x.z$)());break;case"Worker":g=`${J((0,x.z$)())}-${_}`;break;default:g=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${te.SDK_VERSION}/${y}`}function mr(){return(mr=(0,c.Z)(function*(_){return(yield Ne(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _r(_,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(_,f){return Ne(_,"GET","/v2/recaptchaConfig",Ce(_,f))})).apply(this,arguments)}function ys(_){return void 0!==_&&void 0!==_.getResponse}function To(_){return void 0!==_&&void 0!==_.enterprise}class Ia{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Mr(_){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=T=>{const N=re("internal-error");N.customData=T,g(N)},y.type="text/javascript",y.charset="UTF-8",function $u(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function So(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Ec{constructor(f){this.type="recaptcha-enterprise",this.auth=Wn(f)}verify(f="verify",g=!1){var y=this;return(0,c.Z)(function*(){function N(){return N=(0,c.Z)(function*(W){if(!g){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var Le=(0,c.Z)(function*(Ue,rt){_r(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ye=>{if(void 0!==Ye.recaptchaKey){const On=new Ia(Ye);return null==W.tenantId?W._agentRecaptchaConfig=On:W._tenantRecaptchaConfigs[W.tenantId]=On,Ue(On.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ye=>{rt(Ye)})});return function(Ue,rt){return Le.apply(this,arguments)}}())}),N.apply(this,arguments)}function j(W,Le,Ue){const rt=window.grecaptcha;To(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(W,{action:f}).then(Ye=>{Le(Ye)}).catch(()=>{Le("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,Le)=>{(function T(W){return N.apply(this,arguments)})(y.auth).then(Ue=>{if(!g&&To(window.grecaptcha))j(Ue,W,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));Mr("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{j(Ue,W,Le)}).catch(rt=>{Le(rt)})}}).catch(Ue=>{Le(Ue)})})})()}}function Xi(_,f,g){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(_,f,g,y=!1){const T=new Ec(_);let N;try{N=yield T.verify(g)}catch{N=yield T.verify(g,!0)}const j=Object.assign({},f);return Object.assign(j,y?{captchaResp:N}:{captchaResponse:N}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class er{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=N=>new Promise((j,W)=>{try{j(f(N))}catch(Le){W(Le)}});y.onAbort=g,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const T of g.queue)yield T(f),T.onAbort&&y.push(T.onAbort)}catch(T){y.reverse();for(const N of y)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Dc{constructor(f,g,y,T){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=y,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=tt(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,N;if(!y._deleted&&(y.persistenceManager=yield U.create(y,f),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(N=y.currentUser)||void 0===N?void 0:N.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var y;const T=yield g.assertedPersistence.getCurrentUser();let N=T,j=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const W=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,Le=N?._redirectEventId,Ue=yield g.tryRedirectSignIn(f);(!W||W===Le)&&Ue?.user&&(N=Ue.user,j=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(N)}catch(W){N=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(W))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield xt(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const y=f?(0,x.m9)(f):null;return y&&K(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,c.Z)(function*(){if(!y._deleted)return f&&K(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,c.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(tt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const g=yield _r(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new Ia(g);null==f.tenantId?f._agentRecaptchaConfig=y:f._tenantRecaptchaConfigs[f.tenantId]=y,y.emailPasswordEnabled&&new Ec(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new x.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,c.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&tt(f)||g._popupRedirectResolver;K(y,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[tt(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var y,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,T){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return K(j,this,"internal-error"),j.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,y,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(y["X-Firebase-Client"]=T);const N=yield f._getAppCheckToken();return N&&(y["X-Firebase-AppCheck"]=N),y})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var g;const y=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return y?.error&&function ct(_,...f){lt.logLevel<=de.in.WARN&&lt.warn(`Auth (${te.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function Wn(_){return(0,x.m9)(_)}class vr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function No(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Gu(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class $s{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,g){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function Wu(_,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:resetPassword",Ce(_,f))})).apply(this,arguments)}function bs(_,f){return zu.apply(this,arguments)}function zu(){return(zu=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",Ce(_,f))})).apply(this,arguments)}function Ei(_,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPassword",Ce(_,f))})).apply(this,arguments)}function bl(_,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendOobCode",Ce(_,f))})).apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(_,f){return bl(_,f)})).apply(this,arguments)}function Oo(_,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(_,f){return bl(_,f)})).apply(this,arguments)}function Wt(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(_,f){return bl(_,f)})).apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(_,f){return bl(_,f)})).apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}class Dl extends $s{constructor(f,g,y,T=null){super("password",y),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Dl(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new Dl(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){var y;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=f._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const N=yield Xi(f,T,"signInWithPassword");return Ei(f,N)}return Ei(f,T).catch(function(){var N=(0,c.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const W=yield Xi(f,T,"signInWithPassword");return Ei(f,W)}return Promise.reject(j)});return function(j){return N.apply(this,arguments)}}());case"emailLink":return function Si(_,f){return Tc.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:_e(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return bs(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Rh(_,f){return Aa.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:_e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function nr(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithIdp",Ce(_,f))})).apply(this,arguments)}class bt extends $s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new bt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):_e("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T}=g,N=(0,se._T)(g,["providerId","signInMethod"]);if(!y||!T)return null;const j=new bt(y,T);return j.idToken=N.idToken||void 0,j.accessToken=N.accessToken||void 0,j.secret=N.secret,j.nonce=N.nonce,j.pendingToken=N.pendingToken||null,j}_getIdTokenResponse(f){return nr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,nr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,nr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,x.xO)(g)}return f}}function Ai(){return(Ai=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendVerificationCode",Ce(_,f))})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f))})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(_,f){const g=yield mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f));if(g.temporaryProof)throw un(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wr={USER_NOT_FOUND:"user-not-found"};function Et(){return(Et=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wr)})).apply(this,arguments)}class di extends $s{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new di({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new di({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Gs(_,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Na(_,f){return Rn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ro(_,f){return Et.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:N}=f;return y||g||T||N?new di({verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:N}):null}}class Nn{constructor(f){var g,y,T,N,j,W;const Le=(0,x.zd)((0,x.pd)(f)),Ue=null!==(g=Le.apiKey)&&void 0!==g?g:null,rt=null!==(y=Le.oobCode)&&void 0!==y?y:null,Ye=function xh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);K(Ue&&rt&&Ye,"argument-error"),this.apiKey=Ue,this.operation=Ye,this.code=rt,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(j=Le.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(W=Le.tenantId)&&void 0!==W?W:null}static parseLink(f){const g=function Ds(_){const f=(0,x.zd)((0,x.pd)(_)).link,g=f?(0,x.zd)((0,x.pd)(f)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(_)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||g||f||_}(f);try{return new Nn(g)}catch{return null}}}let Ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return Dl._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const T=Nn.parseLink(y);return K(T,"argument-error"),Dl._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ei{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class zr extends ei{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yr extends zr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return K("providerId"in g&&"signInMethod"in g,"argument-error"),bt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),bt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:N,nonce:j,providerId:W}=f;if(!y&&!T&&!g&&!N||!W)return null;try{return new Yr(W)._credential({idToken:g,accessToken:y,nonce:j,pendingToken:N})}catch{return null}}}let ws=(()=>{class _ extends zr{constructor(){super("facebook.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ir=(()=>{class _ extends zr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T}=g;if(!y&&!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ma=(()=>{class _ extends zr{constructor(){super("github.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Rt extends $s{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return nr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,nr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,nr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T,pendingToken:N}=g;return y&&T&&N&&y===T?new Rt(y,N):null}static _create(f,g){return new Rt(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xo extends ei{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return xo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return xo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Rt.fromJSON(f);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return Rt._create(y,g)}catch{return null}}}let wl=(()=>{class _ extends zr{constructor(){super("twitter.com")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=g;if(!y||!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ti(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signUp",Ce(_,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,T=!1){return(0,c.Z)(function*(){const N=yield ye._fromIdTokenResponse(f,y,T),j=Is(y);return new ni({user:N,providerId:j,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const T=Is(y);return new ni({user:f,providerId:T,_tokenResponse:y,operationType:g})})()}}function Is(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ph(){return(Ph=(0,c.Z)(function*(_){var f;const g=Wn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ni({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield ti(g,{returnSecureToken:!0}),T=yield ni._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ii extends x.ZR{constructor(f,g,y,T){var N;super(g.code,g.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,ii.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,T){return new ii(f,g,y,T)}}function Di(_,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ii._fromErrorAndOperation(_,N,f,y):N})}function Cl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Hi(){return Hi=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_);yield ko(!0,g,f);const{providerUserInfo:y}=yield function q(_,f){return fe.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Cl(y||[]);return g.providerData=g.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Hi.apply(this,arguments)}function Pi(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(_,f,g=!1){const y=yield on(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return ni._forOperation(_,"link",y)})).apply(this,arguments)}function ko(_,f,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(_,f,g){yield xt(f);const T=!1===_?"provider-already-linked":"no-such-provider";K(Cl(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function Up(_,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(_,f,g=!1){const{auth:y}=_,T="reauthenticate";try{const N=yield on(_,Di(y,T,f,_),g);K(N.idToken,y,"internal-error");const j=yt(N.idToken);K(j,y,"internal-error");const{sub:W}=j;return K(_.uid===W,y,"user-mismatch"),ni._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===N?.code&&_e(y,"user-mismatch"),N}})).apply(this,arguments)}function Nc(_,f){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(_,f,g=!1){const y="signIn",T=yield Di(_,y,f),N=yield ni._fromIdTokenResponse(_,y,T);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Mc(_,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(_,f){return Nc(Wn(_),f)})).apply(this,arguments)}function Hp(_,f){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_);return yield ko(!1,g,f.providerId),Pi(g,f)})).apply(this,arguments)}function jp(_,f){return kh.apply(this,arguments)}function kh(){return(kh=(0,c.Z)(function*(_,f){return Up((0,x.m9)(_),f)})).apply(this,arguments)}function Fh(){return(Fh=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithCustomToken",Ce(_,f))})).apply(this,arguments)}function Kr(){return Kr=(0,c.Z)(function*(_,f){const g=Wn(_),y=yield function c_(_,f){return Fh.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield ni._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(T.user),T}),Kr.apply(this,arguments)}class Oc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Fo._fromServerResponse(f,g):"totpInfo"in g?Rc._fromServerResponse(f,g):_e(f,"internal-error")}}class Fo extends Oc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Fo(g)}}class Rc extends Oc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Rc(g)}}function Oa(_,f,g){var y;K((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ra(){return Ra=(0,c.Z)(function*(_,f,g){var y;const T=Wn(_),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=T._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const j=yield Xi(T,N,"getOobCode",!0);g&&Oa(T,j,g),yield Oo(T,j)}else g&&Oa(T,N,g),yield Oo(T,N).catch(function(){var j=(0,c.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield Xi(T,N,"getOobCode",!0);g&&Oa(T,Le,g),yield Oo(T,Le)}});return function(W){return j.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(_,f,g){yield Wu((0,x.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function rr(){return rr=(0,c.Z)(function*(_,f){yield function tr(_,f){return yl.apply(this,arguments)}((0,x.m9)(_),{oobCode:f})}),rr.apply(this,arguments)}function Yn(_,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_),y=yield Wu(g,{oobCode:f}),T=y.requestType;switch(K(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(y.mfaInfo,g,"internal-error");default:K(y.email,g,"internal-error")}let N=null;return y.mfaInfo&&(N=Oc._fromServerResponse(Wn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(_,f){const{data:g}=yield Yn((0,x.m9)(_),f);return g.email})).apply(this,arguments)}function xa(){return xa=(0,c.Z)(function*(_,f,g){var y;const T=Wn(_),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(y=T._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Ue=yield Xi(T,N,"signUpPassword");j=ti(T,Ue)}else j=ti(T,N).catch(function(){var Ue=(0,c.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ye=yield Xi(T,N,"signUpPassword");return ti(T,Ye)}return Promise.reject(rt)});return function(rt){return Ue.apply(this,arguments)}}());const W=yield j.catch(Ue=>Promise.reject(Ue)),Le=yield ni._fromIdTokenResponse(T,"signIn",W);return yield T._updateCurrentUser(Le.user),Le}),xa.apply(this,arguments)}function Pa(){return Pa=(0,c.Z)(function*(_,f,g){var y;const T=Wn(_),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function j(W,Le){K(Le.handleCodeInApp,T,"argument-error"),Le&&Oa(T,W,Le)}if(null!==(y=T._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const W=yield Xi(T,N,"getOobCode",!0);j(W,g),yield Wt(T,W)}else j(N,g),yield Wt(T,N).catch(function(){var W=(0,c.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield Xi(T,N,"getOobCode",!0);j(Ue,g),yield Wt(T,Ue)}});return function(Le){return W.apply(this,arguments)}}())}),Pa.apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),T=Ws.credentialWithLink(f,g||zt());return K(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Mc(y,T)})).apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:createAuthUri",Ce(_,f))})).apply(this,arguments)}function Js(){return Js=(0,c.Z)(function*(_,f){const y={identifier:f,continueUri:cn()?zt():"http://localhost"},{signinMethods:T}=yield function kc(_,f){return Fc.apply(this,arguments)}((0,x.m9)(_),y);return T||[]}),Js.apply(this,arguments)}function Fa(){return Fa=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Oa(g.auth,T,f);const{email:N}=yield function Yu(_,f){return El.apply(this,arguments)}(g.auth,T);N!==_.email&&(yield _.reload())}),Fa.apply(this,arguments)}function Tl(){return Tl=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Oa(y.auth,N,g);const{email:j}=yield function Ti(_,f){return Es.apply(this,arguments)}(y.auth,N);j!==_.email&&(yield _.reload())}),Tl.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lc(){return Lc=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,x.m9)(_),N={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},j=yield on(y,function $p(_,f){return td.apply(this,arguments)}(y.auth,N));y.displayName=j.displayName||null,y.photoURL=j.photoUrl||null;const W=y.providerData.find(({providerId:Le})=>"password"===Le);W&&(W.displayName=y.displayName,W.photoURL=y.photoURL),yield y._updateTokensIfNecessary(j)}),Lc.apply(this,arguments)}function Lh(_,f,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(_,f,g){const{auth:y}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const j=yield on(_,bs(y,N));yield _._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Vo{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class La extends Vo{constructor(f,g,y,T){super(f,g,y),this.username=T}}class Bc extends Vo{constructor(f,g){super(f,"facebook.com",g)}}class id extends La{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Al extends Vo{constructor(f,g){super(f,"google.com",g)}}class Ba extends La{constructor(f,g,y){super(f,"twitter.com",g,y)}}function Bh(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Wp(_){var f,g;if(!_)return null;const{providerId:y}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const j=null===(g=null===(f=yt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new Vo(N,"anonymous"!==j&&"custom"!==j?j:null)}if(!y)return null;switch(y){case"facebook.com":return new Bc(N,T);case"github.com":return new id(N,T);case"google.com":return new Al(N,T);case"twitter.com":return new Ba(N,T,_.screenName||null);case"custom":case"anonymous":return new Vo(N,null);default:return new Vo(N,y,T)}}(g)}class Rr{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new Rr("enroll",f,g)}static _fromMfaPendingCredential(f){return new Rr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Rr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return Rr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Xs{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=Wn(f),T=g.customData._serverResponse,N=(T.mfaInfo||[]).map(W=>Oc._fromServerResponse(y,W));K(T.mfaPendingCredential,y,"internal-error");const j=Rr._fromMfaPendingCredential(T.mfaPendingCredential);return new Xs(j,N,function(){var W=(0,c.Z)(function*(Le){const Ue=yield Le._process(y,j);delete T.mfaInfo,delete T.mfaPendingCredential;const rt=Object.assign(Object.assign({},T),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const Ye=yield ni._fromIdTokenResponse(y,g.operationType,rt);return yield y._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return K(g.user,y,"internal-error"),ni._forOperation(g.user,g.operationType,rt);default:_e(y,"internal-error")}});return function(Le){return W.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}class Xt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Oc._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new Xt(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Rr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,c.Z)(function*(){const T=f,N=yield y.getSession(),j=yield on(y.user,T._process(y.user.auth,N,g));return yield y.user._updateTokensIfNecessary(j),y.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const y="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const N=yield on(g.user,function od(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==y),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const eo=new WeakMap,fi="__sak";class $h{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uo=(()=>{class _ extends $h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jc(){const _=(0,x.z$)();return ce(_)||Gn(_)}()&&function yc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Io(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),N=this.localCache[y];T!==N&&g(y,N,T)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((W,Le,Ue)=>{this.notifyListeners(W,Ue)});const T=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(T);if(g.newValue!==W)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!y)return}const N=()=>{const W=this.storage.getItem(T);!y&&this.localCache[T]===W||this.notifyListeners(T,W)},j=this.storage.getItem(T);!function _s(){return(0,x.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var T=()=>super._set,N=this;return(0,c.Z)(function*(){yield T().call(N,g,y),N.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,T=this;return(0,c.Z)(function*(){const N=yield y().call(T,g);return T.localCache[g]=JSON.stringify(N),N})()}_remove(g){var y=()=>super._remove,T=this;return(0,c.Z)(function*(){yield y().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),Fi=(()=>{class _ extends $h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let $c=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(N=>N.isListeningto(g));if(y)return y;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,c.Z)(function*(){const T=g,{eventId:N,eventType:j,data:W}=T.data,Le=y.handlersMap[j];if(!Le?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:j});const Ue=Array.from(Le).map(function(){var Ye=(0,c.Z)(function*(On){return On(T.origin,W)});return function(On){return Ye.apply(this,arguments)}}()),rt=yield function zh(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(Ue);T.ports[0].postMessage({status:"done",eventId:N,eventType:j,response:rt})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ml(_="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return _+g}class Yp{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var T=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let j,W;return new Promise((Le,Ue)=>{const rt=Ml("",20);N.port1.start();const Ye=setTimeout(()=>{Ue(new Error("unsupported_event"))},y);W={messageChannel:N,onMessage(On){const Vr=On;if(Vr.data.eventId===rt)switch(Vr.data.status){case"ack":clearTimeout(Ye),j=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Le(Vr.data.response);break;default:clearTimeout(Ye),clearTimeout(j),Ue(new Error("invalid_response"))}}},T.handlers.add(W),N.port1.addEventListener("message",W.onMessage),T.target.postMessage({eventType:f,eventId:rt,data:g},[N.port2])}).finally(()=>{W&&T.removeMessageHandler(W)})})()}}function bn(){return window}function Dt(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function ld(){return(ld=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cd="firebaseLocalStorageDb",xr="firebaseLocalStorage",Gc="fbase_key";class Rl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function xl(_,f){return _.transaction([xr],f?"readwrite":"readonly").objectStore(xr)}function Wc(){const _=indexedDB.open(cd,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(xr,{keyPath:Gc})}catch(T){g(T)}}),_.addEventListener("success",(0,c.Z)(function*(){const y=_.result;y.objectStoreNames.contains(xr)?f(y):(y.close(),yield function Zp(){const _=indexedDB.deleteDatabase(cd);return new Rl(_).toPromise()}(),f(yield Wc()))}))})}function Oe(_,f,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(_,f,g){const y=xl(_,!0).put({[Gc]:f,value:g});return new Rl(y).toPromise()})).apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(_,f){const g=xl(_,!1).get(f),y=yield new Rl(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function oi(_,f){const g=xl(_,!0).delete(f);return new Rl(g).toPromise()}const io=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Wc()),g.db})()}_withRetries(g){var y=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const N=yield y._openDb();return yield g(N)}catch(N){if(T++>3)throw N;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Dt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=$c._getInstance(function si(){return Dt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,c.Z)(function*(T,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(T,N){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,c.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var y,T;if(g.activeServiceWorker=yield function ad(){return ld.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yp(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(y=N[0])&&void 0!==y&&y.fulfilled&&null!==(T=N[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,c.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Ol(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Wc();return yield Oe(g,fi,"1"),yield oi(g,fi),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,c.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(N=>Oe(N,g,y)),T.localCache[g]=y,T.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,c.Z)(function*(){const T=yield y._withRetries(N=>function br(_,f){return Pl.apply(this,arguments)}(N,g));return y.localCache[g]=T,T})()}_remove(g){var y=this;return(0,c.Z)(function*(){return y._withPendingWrite((0,c.Z)(function*(){return yield y._withRetries(T=>oi(T,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const y=yield g._withRetries(j=>{const W=xl(j,!1).getAll();return new Rl(W).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:j,value:W}of y)N.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(W)&&(g.notifyListeners(j,W),T.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!N.has(j)&&(g.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),ji=1e12;class ud{constructor(f){this.auth=f,this.counter=ji,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new ro(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||ji;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ji))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var y;return null===(y=g._widgets.get(f||ji))||void 0===y||y.execute(),""})()}}class ro{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;K(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function As(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dd=So("rcb"),hd=new $n(3e4,6e4);class qp{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=bn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return K(function Ll(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&ys(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((y,T)=>{const N=bn().setTimeout(()=>{T(re(f,"network-request-failed"))},hd.get());bn()[dd]=()=>{bn().clearTimeout(N),delete bn()[dd];const W=bn().grecaptcha;if(!W||!ys(W))return void T(re(f,"internal-error"));const Le=W.render;W.render=(Ue,rt)=>{const Ye=Le(Ue,rt);return this.counter++,Ye},this.hostLanguage=g,y(W)},Mr(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:dd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),T(re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=bn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fd{load(f){return(0,c.Z)(function*(){return new ud(f)})()}clearedOneInstance(){}}const Bl="recaptcha",pd={theme:"light",type:"image"};class gd{constructor(f,g=Object.assign({},pd),y){this.parameters=g,this.type=Bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(y),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;K(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fd:new qp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(N=>{const j=W=>{W&&(f.tokenChangeListeners.delete(j),N(W))};f.tokenChangeListeners.add(j),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=bn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){K(cn()&&!Dt(),f.auth,"internal-error"),yield function Kh(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function vs(_){return mr.apply(this,arguments)}(f.auth);K(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=di._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Kn(){return(Kn=(0,c.Z)(function*(_,f,g){const y=Wn(_),T=yield xn(y,f,(0,x.m9)(g));return new mi(T,N=>Mc(y,N))})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);yield ko(!1,y,"phone");const T=yield xn(y.auth,f,(0,x.m9)(g));return new mi(T,N=>Hp(y,N))})).apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),T=yield xn(y.auth,f,(0,x.m9)(g));return new mi(T,N=>jp(y,N))})).apply(this,arguments)}function xn(_,f,g){return en.apply(this,arguments)}function en(){return en=(0,c.Z)(function*(_,f,g){var y;const T=yield g.verify();try{let N;if(K("string"==typeof T,_,"argument-error"),K(g.type===Bl,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const j=N.session;if("phoneNumber"in N)return K("enroll"===j.type,_,"internal-error"),(yield function Ua(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:start",Ce(_,f))}(_,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{K("signin"===j.type,_,"internal-error");const W=(null===(y=N.multiFactorHint)||void 0===y?void 0:y.uid)||N.multiFactorUid;return K(W,_,"missing-multi-factor-info"),(yield function zc(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:start",Ce(_,f))}(_,{mfaPendingCredential:j.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function An(_,f){return Ai.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return j}}finally{g._reset()}}),en.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(_,f){yield Pi((0,x.m9)(_),f)})).apply(this,arguments)}let qr=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,y){return xn(this.auth,g,(0,x.m9)(y))}static credential(g,y){return di._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:T}=g;return y&&T?di._fromTokenResponse(y,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ns(_,f){return f?tt(f):(K(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Fn extends $s{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return nr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return nr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return nr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function jo(_){return Nc(_.auth,new Fn(_),_.bypassAuthState)}function ja(_){const{auth:f,user:g}=_;return K(g,f,"internal-error"),Up(g,new Fn(_),_.bypassAuthState)}function Er(_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return K(g,f,"internal-error"),Pi(g,new Fn(_),_.bypassAuthState)})).apply(this,arguments)}class kr{constructor(f,g,y,T,N=!1){this.auth=f,this.resolver=y,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(y,T){f.pendingPromise={resolve:y,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(y,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:N,tenantId:j,error:W,type:Le}=f;if(W)return void g.reject(W);const Ue={auth:g.auth,requestUri:y,sessionId:T,tenantId:j||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ue))}catch(rt){g.reject(rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return jo;case"linkViaPopup":case"linkViaRedirect":return Er;case"reauthViaPopup":case"reauthViaRedirect":return ja;default:_e(this.auth,"internal-error")}}resolve(f){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new $n(2e3,1e4);function Ga(){return(Ga=(0,c.Z)(function*(_,f,g){const y=Wn(_);xe(_,f,ei);const T=Ns(y,g);return new $o(y,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ei);const T=Ns(y.auth,g);return new $o(y.auth,"reauthViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ei);const T=Ns(y.auth,g);return new $o(y.auth,"linkViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}let $o=(()=>{class _ extends kr{constructor(g,y,T,N,j){super(g,y,N,j),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const y=yield g.execute();return K(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,c.Z)(function*(){ht(1===g.filter.length,"Popup operations only handle one event");const y=Ml();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ln.get())};g()}}return _.currentPopupAction=null,_})();const Jr="pendingRedirect",Qr=new Map;class md extends kr{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let y=Qr.get(g.auth._key());if(!y){try{const N=(yield function Kc(_,f){return Hl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(N)}catch(T){y=()=>Promise.reject(T)}Qr.set(g.auth._key(),y)}return g.bypassAuthState||Qr.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const T=yield y.auth._redirectUserForId(f.eventId);if(T)return y.user=T,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Hl(){return(Hl=(0,c.Z)(function*(_,f){const g=Wo(f),y=Wa(_);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(g));return yield y._remove(g),T})).apply(this,arguments)}function Zh(_,f){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(_,f){return Wa(_)._set(Wo(f),"true")})).apply(this,arguments)}function jl(_,f){Qr.set(_._key(),f)}function Wa(_){return tt(_._redirectPersistence)}function Wo(_){return H(Jr,_.config.apiKey,_.name)}function so(_,f,g){return function za(_,f,g){return $i.apply(this,arguments)}(_,f,g)}function $i(){return($i=(0,c.Z)(function*(_,f,g){const y=Wn(_);xe(_,f,ei),yield y._initializationPromise;const T=Ns(y,g);return yield Zh(T,y),T._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function $l(_,f,g){return function Ya(_,f,g){return Zn.apply(this,arguments)}(_,f,g)}function Zn(){return(Zn=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ei),yield y.auth._initializationPromise;const T=Ns(y.auth,g);yield Zh(T,y.auth);const N=yield ar(y);return T._openRedirect(y.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function zo(_,f,g){return function qc(_,f,g){return or.apply(this,arguments)}(_,f,g)}function or(){return(or=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ei),yield y.auth._initializationPromise;const T=Ns(y.auth,g);yield ko(!1,y,f.providerId),yield Zh(T,y.auth);const N=yield ar(y);return T._openRedirect(y.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(_,f){return yield Wn(_)._initializationPromise,Lr(_,f,!1)})).apply(this,arguments)}function Lr(_,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(_,f,g=!1){const y=Wn(_),T=Ns(y,f),j=yield new md(y,T,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield y._persistUserIfCurrent(j.user),yield y._setRedirectUser(null,f)),j})).apply(this,arguments)}function ar(_){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(_){const f=Ml(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Gl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Za(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!oo(f)){const T=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(re(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xr(f))}saveEventToCache(f){this.cachedEventUids.add(Xr(f)),this.lastProcessedEventTime=Date.now()}}function Xr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function oo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function qn(_){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(_,f={}){return Ne(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;function es(){return(es=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield qn(_);for(const g of f)try{if(eu(g))return}catch{}_e(_,"unauthorized-domain")})).apply(this,arguments)}function eu(_){const f=zt(),{protocol:g,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const j=new URL(_);return""===j.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===y}if(!ao.test(g))return!1;if(Xc.test(_))return y===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const qa=new $n(3e4,6e4);function tu(){const _=bn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Wl=null;const _d=new $n(5e3,15e3),Jp="__/auth/iframe",lo="emulator/auth/iframe",Yo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ko(_){const f=_.config;K(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?le(f,lo):`https://${_.config.authDomain}/${Jp}`,y={apiKey:f.apiKey,appName:_.name,v:te.SDK_VERSION},T=co.get(_.config.apiHost);T&&(y.eid=T);const N=_._getFrameworks();return N.length&&(y.fw=N.join(",")),`${g}?${(0,x.xO)(y).slice(1)}`}function C(){return C=(0,c.Z)(function*(_){const f=yield function lr(_){return Wl=Wl||function vn(_){return new Promise((f,g)=>{var y,T,N;function j(){tu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{tu(),g(re(_,"network-request-failed"))},timeout:qa.get()})}if(null!==(T=null===(y=bn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=bn().gapi)||void 0===N||!N.load){const W=So("iframefcb");return bn()[W]=()=>{gapi.load?j():g(re(_,"network-request-failed"))},Mr(`https://apis.google.com/js/api.js?onload=${W}`).catch(Le=>g(Le))}j()}}).catch(f=>{throw Wl=null,f})}(_),Wl}(_),g=bn().gapi;return K(g,_,"internal-error"),f.open({where:document.body,url:Ko(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yo,dontclear:!0},y=>new Promise(function(){var T=(0,c.Z)(function*(N,j){yield y.restyle({setHideOnLeave:!1});const W=re(_,"network-request-failed"),Le=bn().setTimeout(()=>{j(W)},_d.get());function Ue(){bn().clearTimeout(Le),N(y)}y.ping(Ue).then(Ue,()=>{j(W)})});return function(N,j){return T.apply(this,arguments)}}()))}),C.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xe{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",At="emulator/auth/handler",Jn=encodeURIComponent("fac");function Bn(_,f,g,y,T,N){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(_,f,g,y,T,N){K(_.config.authDomain,_,"auth-domain-config-required"),K(_.config.apiKey,_,"invalid-api-key");const j={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:te.SDK_VERSION,eventId:T};if(f instanceof ei){f.setDefaultLanguage(_.languageCode),j.providerId=f.providerId||"",(0,x.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,Ye]of Object.entries(N||{}))j[rt]=Ye}if(f instanceof zr){const rt=f.getScopes().filter(Ye=>""!==Ye);rt.length>0&&(j.scopes=rt.join(","))}_.tenantId&&(j.tid=_.tenantId);const W=j;for(const rt of Object.keys(W))void 0===W[rt]&&delete W[rt];const Le=yield _._getAppCheckToken(),Ue=Le?`#${Jn}=${encodeURIComponent(Le)}`:"";return`${function Vn({config:_}){return _.emulator?le(_,At):`https://${_.authDomain}/${It}`}(_)}?${(0,x.xO)(W).slice(1)}${Ue}`})).apply(this,arguments)}const uo="webStorageSupport",ts=class Ci{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fi,this._completeRedirectFn=Lr,this._overrideRedirectResult=jl}_openPopup(f,g,y,T){var N=this;return(0,c.Z)(function*(){var j;ht(null===(j=N.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const W=yield Bn(f,g,y,zt(),T);return function Ze(_,f,g,y=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-y)/2,0).toString();let W="";const Le=Object.assign(Object.assign({},A),{width:y.toString(),height:T.toString(),top:N,left:j}),Ue=(0,x.z$)().toLowerCase();g&&(W=it(Ue)?"_blank":g),Ie(Ue)&&(f=f||"http://localhost",Le.scrollbars="yes");const rt=Object.entries(Le).reduce((On,[Vr,nl])=>`${On}${Vr}=${nl},`,"");if(function ci(_=(0,x.z$)()){var f;return Gn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ue)&&"_self"!==W)return function ft(_,f){const g=document.createElement("a");g.href=_,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",W),new Xe(null);const Ye=window.open(f||"",W,rt);K(Ye,_,"popup-blocked");try{Ye.focus()}catch{}return new Xe(Ye)}(f,W,Ml())})()}_openRedirect(f,g,y,T){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function Kp(_){bn().location.href=_}(yield Bn(f,g,y,zt(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:N}=this.eventManagers[g];return T?Promise.resolve(T):(ht(N,"If manager is not set, promise should be"),N)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const y=yield function E(_){return C.apply(this,arguments)}(f),T=new Gl(f);return y.register("authEvent",N=>(K(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=y,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(uo,{type:uo},T=>{var N;const j=null===(N=T?.[0])||void 0===N?void 0:N[uo];void 0!==j&&g(!!j),_e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function qh(_){return es.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Io()||ce()||Gn()}};class Gi{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return He("unexpected MultiFactorSessionType")}}}class Zo extends Gi{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Zo(f)}_finalizeEnroll(f,g,y){return function jh(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(_,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Yh(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:finalize",Ce(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jh=(()=>{class _{constructor(){}static assertion(g){return Zo._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Xp="@firebase/auth";class wr{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qa(){return window}(0,x.Pz)("authIdTokenMaxAge"),function Ja(_){(0,te._registerComponent)(new ve.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:j,authDomain:W}=y.options;K(j&&!j.includes(":"),"invalid-api-key",{appName:y.name});const Le={apiKey:j,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nr(_)},Ue=new Dc(y,T,N,Le);return function Oh(_,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(tt);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ve.wA("auth-internal",f=>{const g=Wn(f.getProvider("auth").getImmediate());return new wr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Xp,"0.23.2",function yd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,te.registerVersion)(Xp,"0.23.2","esm2017")}("Browser");function Os(){return Os=(0,c.Z)(function*(_,f,g){var y;const{BuildInfo:T}=Qa();ht(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function tf(_){return iu.apply(this,arguments)}(f.sessionId),j={};return Gn()?j.ibi=T.packageName:wt()?j.apn=T.packageName:_e(_,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=N,Bn(_,g,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,j)}),Os.apply(this,arguments)}function Xh(){return(Xh=(0,c.Z)(function*(_){const{BuildInfo:f}=Qa(),g={};Gn()?g.iosBundleId=f.packageName:wt()?g.androidPackageName=f.packageName:_e(_,"operation-not-supported-in-this-environment"),yield qn(_,g)})).apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(_,f,g){const{cordova:y}=Qa();let T=()=>{};try{yield new Promise((N,j)=>{let W=null;function Le(){var Ye;N();const On=null===(Ye=y.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function Ue(){W||(W=window.setTimeout(()=>{j(re(_,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Ue()}f.addPassiveListener(Le),document.addEventListener("resume",Ue,!1),wt()&&document.addEventListener("visibilitychange",rt,!1),T=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",rt,!1),W&&window.clearTimeout(W)}})}finally{T()}})).apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(_){const f=function ru(_){if(ht(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let y=0;y<_.length;y++)g[y]=_.charCodeAt(y);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rg extends Gl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function el(_){return nf.apply(this,arguments)}function nf(){return(nf=(0,c.Z)(function*(_){const f=yield Dd()._get(su(_));return f&&(yield Dd()._remove(su(_))),f})).apply(this,arguments)}function rf(){const _=[];for(let g=0;g<20;g++){const y=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return _.join("")}function Dd(){return tt(Uo)}function su(_){return H("authEvent",_.config.apiKey,_.name)}function tn(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,x.zd)(g.join("?"))}const Qo=class Bt{constructor(){this._redirectPersistence=Fi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lr,this._overrideRedirectResult=jl}_initialize(f){var g=this;return(0,c.Z)(function*(){const y=f._key();let T=g.eventManagers.get(y);return T||(T=new rg(f),g.eventManagers.set(y,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){_e(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,y,T){var N=this;return(0,c.Z)(function*(){!function ef(_){var f,g,y,T,N,j,W,Le,Ue,rt;const Ye=Qa();K("function"==typeof(null===(f=Ye?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof(null===(g=Ye?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(N=null===(T=null===(y=Ye?.cordova)||void 0===y?void 0:y.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Le=null===(W=null===(j=Ye?.cordova)||void 0===j?void 0:j.plugins)||void 0===W?void 0:W.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(rt=null===(Ue=Ye?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===rt?void 0:rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield N._initialize(f);yield j.initialized(),j.resetRedirect(),function Go(){Qr.clear()}(),yield N._originValidation(f);const W=function sg(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:rf(),postBody:null,tenantId:_.tenantId,error:re(_,"no-auth-event")}}(f,y,T);yield function Xa(_,f){return Dd()._set(su(_),f)}(f,W);const Le=yield function bd(_,f,g){return Os.apply(this,arguments)}(f,W,g),Ue=yield function Ed(_){const{cordova:f}=Qa();return new Promise(g=>{f.plugins.browsertab.isAvailable(y=>{let T=null;y?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function Zt(_=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(T)})})}(Le);return function p_(_,f,g){return zl.apply(this,arguments)}(f,j,Ue)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nu(_){return Xh.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:y,handleOpenURL:T,BuildInfo:N}=Qa(),j=setTimeout((0,c.Z)(function*(){yield el(f),g.onEvent(fn())}),500),W=function(){var rt=(0,c.Z)(function*(Ye){clearTimeout(j);const On=yield el(f);let Vr=null;On&&Ye?.url&&(Vr=function g_(_,f){var g,y;const T=function ag(_){const f=tn(_),g=f.link?decodeURIComponent(f.link):void 0,y=tn(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return tn(T).link||T||y||g||_}(f);if(T.includes("/__/auth/callback")){const N=tn(T),j=N.firebaseError?function og(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,W=null===(y=null===(g=j?.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],Le=W?re(W):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(On,Ye.url)),g.onEvent(Vr||fn())});return function(On){return rt.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,W);const Le=T,Ue=`${N.packageName.toLowerCase()}://`;Qa().handleOpenURL=function(){var rt=(0,c.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Ue)&&W({url:Ye}),"function"==typeof Le)try{Le(Ye)}catch(On){console.error(On)}});return function(Ye){return rt.apply(this,arguments)}}()}};function fn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:re("no-auth-event")}}function yn(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Wi(_=(0,x.z$)()){return!("file:"!==yn()&&"ionic:"!==yn()&&"capacitor:"!==yn()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function m_(){try{const _=self.localStorage,f=Ml();if(_)return _.setItem(f,"1"),_.removeItem(f),!function H0(_=(0,x.z$)()){return function ou(){return(0,x.w1)()&&11===document?.documentMode}()||function ns(_=(0,x.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,x.hl)()}catch{return dg()&&(0,x.hl)()}return!1}function dg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sf(){return(function Ft(){return"http:"===yn()||"https:"===yn()}()||(0,x.ru)()||Wi())&&!function U0(){return(0,x.b$)()||(0,x.UG)()}()&&m_()&&!dg()}function Xo(){return Wi()&&typeof document<"u"}function Rs(){return(Rs=(0,c.Z)(function*(){return!!Xo()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const zi={LOCAL:"local",NONE:"none",SESSION:"session"},Kl=K,tl="persistence";function au(_){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(_){yield _._initializationPromise;const f=ea(),g=H(tl,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function ea(){var _;try{return(null===(_=function hg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Cd=K;class ho{constructor(){this.browserResolver=tt(ts),this.cordovaResolver=tt(Qo),this.underlyingResolver=null,this._redirectPersistence=Fi,this._completeRedirectFn=Lr,this._overrideRedirectResult=jl}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,y,T){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,y,T)})()}_openRedirect(f,g,y,T){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,y,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Xo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Yl(){return Rs.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function is(_){return _.unwrap()}function Cr(_){return Yi(_)}function Yi(_){const{_tokenResponse:f}=_ instanceof x.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof x.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qr.credentialFromResult(_);const g=f.providerId;if(!g||g===ue.PASSWORD)return null;let y;switch(g){case ue.GOOGLE:y=ir;break;case ue.FACEBOOK:y=ws;break;case ue.GITHUB:y=Ma;break;case ue.TWITTER:y=wl;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:j,pendingToken:W,nonce:Le}=f;return N||j||T||W?W?g.startsWith("saml.")?Rt._create(g,W):bt._fromParams({providerId:g,signInMethod:g,pendingToken:W,idToken:T,accessToken:N}):new Yr(g).credential({idToken:T,accessToken:N,rawNonce:Le}):null}return _ instanceof x.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function cr(_,f){return f.catch(g=>{throw g instanceof x.ZR&&function __(_,f){var g;const y=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new v_(_,function rd(_,f){var g;const y=(0,x.m9)(_),T=f;return K(f.customData.operationType,y,"argument-error"),K(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),Xs._fromError(y,T)}(_,f));else if(y){const T=Yi(f),N=f;T&&(N.credential=T,N.tenantId=y.tenantId||void 0,N.email=y.email||void 0,N.phoneNumber=y.phoneNumber||void 0)}}(_,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Cr(g),additionalUserInfo:Bh(g),user:Un.getOrCreate(T)}})}function Zl(_,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:y=>cr(_,g.confirm(y))}})).apply(this,arguments)}class v_{constructor(f,g){this.resolver=g,this.auth=function lu(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return cr(is(this.auth),this.resolver.resolveSignIn(f))}}class Un{constructor(f){this._delegate=f,this.multiFactor=function to(_){const f=(0,x.m9)(_);return eo.has(f)||eo.set(f,Xt._fromUser(f)),eo.get(f)}(f)}static getOrCreate(f){return Un.USER_MAP.has(f)||Un.USER_MAP.set(f,new Un(f)),Un.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return cr(g.auth,Hp(g._delegate,f))})()}linkWithPhoneNumber(f,g){var y=this;return(0,c.Z)(function*(){return Zl(y.auth,function vt(_,f,g){return Zr.apply(this,arguments)}(y._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return cr(g.auth,function Ul(_,f,g){return L.apply(this,arguments)}(g._delegate,f,ho))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield au(Wn(g.auth)),zo(g._delegate,f,ho)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return cr(g.auth,jp(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Zl(this.auth,function Tt(_,f,g){return Ha.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return cr(this.auth,function Fr(_,f,g){return sr.apply(this,arguments)}(this._delegate,f,ho))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield au(Wn(g.auth)),$l(g._delegate,f,ho)})()}sendEmailVerification(f){return function Ts(_,f){return Fa.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Ys(_,f){return Hi.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function nd(_,f){return Lh((0,x.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Sl(_,f){return Lh((0,x.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function _n(_,f){return En.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Gp(_,f){return Lc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function ed(_,f,g){return Tl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const ta=K;let Id=(()=>{class _{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;ta(T,"invalid-api-key",{appName:g.name}),ta(T,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?ho:void 0;this._delegate=y.initialize({options:{persistence:Ni(T,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function xi(_,f,g){const y=Wn(_);K(y._canInitEmulator,y,"emulator-config-failed"),K(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const T=!!g?.disableWarnings,N=No(f),{host:j,port:W}=function wc(_){const f=No(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const N=T[1];return{host:N,port:Gu(y.substr(N.length+1))}}{const[N,j]=y.split(":");return{host:N,port:Gu(j)}}}(f);y.config.emulator={url:`${N}//${j}${null===W?"":`:${W}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:j,port:W,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Bp(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,y)}applyActionCode(g){return function Ju(_,f){return rr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Yn(this._delegate,g)}confirmPasswordReset(g,y){return function Ks(_,f,g){return Or.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var T=this;return(0,c.Z)(function*(){return cr(T._delegate,function xc(_,f,g){return xa.apply(this,arguments)}(T._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ka(_,f){return Js.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Xu(_,f){const g=Nn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){ta(sf(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function Dn(_,f){return Jc.apply(this,arguments)}(g._delegate,ho);return y?cr(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function lg(_,f){Wn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,y,T){const{next:N,error:j,complete:W}=fo(g,y,T);return this._delegate.onAuthStateChanged(N,j,W)}onIdTokenChanged(g,y,T){const{next:N,error:j,complete:W}=fo(g,y,T);return this._delegate.onIdTokenChanged(N,j,W)}sendSignInLinkToEmail(g,y){return function Lo(_,f,g){return Pa.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function u_(_,f,g){return Ra.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,c.Z)(function*(){let T;switch(function fg(_,f){Kl(Object.values(zi).includes(f),_,"invalid-persistence-type"),(0,x.b$)()?Kl(f!==zi.SESSION,_,"unsupported-persistence-type"):(0,x.UG)()?Kl(f===zi.NONE,_,"unsupported-persistence-type"):dg()?Kl(f===zi.NONE||f===zi.LOCAL&&(0,x.hl)(),_,"unsupported-persistence-type"):Kl(f===zi.NONE||m_(),_,"unsupported-persistence-type")}(y._delegate,g),g){case zi.SESSION:T=Fi;break;case zi.LOCAL:T=(yield tt(io)._isAvailable())?io:Uo;break;case zi.NONE:T=Qt;break;default:return _e("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return cr(this._delegate,function hi(_){return Ph.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return cr(this._delegate,Mc(this._delegate,g))}signInWithCustomToken(g){return cr(this._delegate,function qu(_,f){return Kr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return cr(this._delegate,function Qu(_,f,g){return Mc((0,x.m9)(_),Ws.credential(f,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return cr(this._delegate,function ri(_,f,g){return Pc.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return Zl(this._delegate,function Vl(_,f,g){return Kn.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,c.Z)(function*(){return ta(sf(),y._delegate,"operation-not-supported-in-this-environment"),cr(y._delegate,function $a(_,f,g){return Ga.apply(this,arguments)}(y._delegate,g,ho))})()}signInWithRedirect(g){var y=this;return(0,c.Z)(function*(){return ta(sf(),y._delegate,"operation-not-supported-in-this-environment"),yield au(y._delegate),so(y._delegate,g,ho)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ki(_,f){return qs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=zi,_})();function fo(_,f,g){let y=_;"function"!=typeof _&&({next:y,error:f,complete:g}=_);const T=y;return{next:j=>T(j&&Un.getOrCreate(j)),error:f,complete:g}}function Ni(_,f){const g=function Lt(_,f){const g=ea();if(!g)return[];const y=H(tl,_,f);switch(g.getItem(y)){case zi.NONE:return[Qt];case zi.LOCAL:return[io,Fi];case zi.SESSION:return[Fi];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(io)&&g.push(io),typeof window<"u")for(const y of[Uo,Fi])g.includes(y)||g.push(y);return g.includes(Qt)||g.push(Qt),g}class na{constructor(){this.providerId="phone",this._delegate=new qr(is(Q.Z.auth()))}static credential(f,g){return qr.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}na.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,na.PROVIDER_ID=qr.PROVIDER_ID;const pg=K;class gg{constructor(f,g,y=Q.Z.app()){var T;pg(null===(T=y.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new gd(f,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wn(_){_.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new Id(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ws,FacebookAuthProvider:ws,GithubAuthProvider:Ma,GoogleAuthProvider:ir,OAuthProvider:Yr,SAMLAuthProvider:xo,PhoneAuthProvider:na,PhoneMultiFactorGenerator:Jh,RecaptchaVerifier:gg,TwitterAuthProvider:wl,Auth:Id,AuthCredential:$s,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},2614:()=>{const st=":";const nn=function(Z,...q){if(nn.translate){const Te=nn.translate(Z,q);Z=Te[0],q=Te[1]}let fe=In(Z[0],Z.raw[0]);for(let Te=1;Te<Z.length;Te++)fe+=q[Te-1]+In(Z[Te],Z.raw[Te]);return fe},un=":";function In(Z,q){return q.charAt(0)===un?Z.substring(function he(Z,q){for(let fe=1,Te=1;fe<Z.length;fe++,Te++)if("\\"===q[Te])Te++;else if(Z[fe]===st)return fe;throw new Error(`Unterminated $localize metadata block in "${q}".`)}(Z,q)+1):Z}globalThis.$localize=nn},4303:(st,De,R)=>{R.d(De,{Jn:()=>un,KN:()=>Ve,Xd:()=>Qe,qX:()=>Ge});var c=R(5861),Q=R(4537),x=R(7879),te=R(9058),se=R(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(Ee){const G=Ee.getComponent();return"VERSION"===G?.type}(ye)){const ze=ye.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Me="@firebase/app",V=new x.Yd("@firebase/app"),he={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,be=new Map;function Ce(Ee,G){try{Ee.container.addComponent(G)}catch(ye){V.debug(`Component ${G.name} failed to register with FirebaseApp ${Ee.name}`,ye)}}function Qe(Ee){const G=Ee.name;if(be.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;be.set(G,Ee);for(const ye of pe.values())Ce(ye,Ee);return!0}function Ge(Ee,G){const ye=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),Ee.container.getProvider(G)}const ut=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),un="10.4.0";function Ve(Ee,G,ye){var ze;let tt=null!==(ze=he[Ee])&&void 0!==ze?ze:Ee;ye&&(tt+=`-${ye}`);const _t=tt.match(/\s|\//),Qt=G.match(/\s|\//);if(_t||Qt){const H=[`Unable to register library "${tt}" with version "${G}":`];return _t&&H.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),_t&&Qt&&H.push("and"),Qt&&H.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(H.join(" "))}Qe(new Q.wA(`${tt}-version`,()=>({library:tt,version:G}),"VERSION"))}const Yt="firebase-heartbeat-database",Je=1,at="firebase-heartbeat-store";let yt=null;function Kt(){return yt||(yt=(0,se.X3)(Yt,Je,{upgrade:(Ee,G)=>{0===G&&Ee.createObjectStore(at)}}).catch(Ee=>{throw ut.create("idb-open",{originalErrorMessage:Ee.message})})),yt}function Tn(){return(Tn=(0,c.Z)(function*(Ee){try{return yield(yield Kt()).transaction(at).objectStore(at).get(an(Ee))}catch(G){if(G instanceof te.ZR)V.warn(G.message);else{const ye=ut.create("idb-get",{originalErrorMessage:G?.message});V.warn(ye.message)}}})).apply(this,arguments)}function Mt(Ee,G){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(Ee,G){try{const ze=(yield Kt()).transaction(at,"readwrite");yield ze.objectStore(at).put(G,an(Ee)),yield ze.done}catch(ye){if(ye instanceof te.ZR)V.warn(ye.message);else{const ze=ut.create("idb-set",{originalErrorMessage:ye?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(Ee){return`${Ee.name}!${Ee.options.appId}`}class $t{constructor(G){this.container=G,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new Gr(ye),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,c.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=vi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==tt&&!G._heartbeatsCache.heartbeats.some(_t=>_t.date===tt))return G._heartbeatsCache.heartbeats.push({date:tt,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(_t=>{const Qt=new Date(_t.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,c.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ye=vi(),{heartbeatsToSend:ze,unsentEntries:tt}=function Sr(Ee,G=1024){const ye=[];let ze=Ee.slice();for(const tt of Ee){const _t=ye.find(Qt=>Qt.agent===tt.agent);if(_t){if(_t.dates.push(tt.date),yi(ye)>G){_t.dates.pop();break}}else if(ye.push({agent:tt.agent,dates:[tt.date]}),yi(ye)>G){ye.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),_t=(0,te.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ye,tt.length>0?(G._heartbeatsCache.heartbeats=tt,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),_t})()}}function vi(){return(new Date).toISOString().substring(0,10)}class Gr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,c.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(Ee){return Tn.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...G.heartbeats]})}})()}}function yi(Ee){return(0,te.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Ar(Ee){Qe(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Qe(new Q.wA("heartbeat",G=>new $t(G),"PRIVATE")),Ve(Me,"0.9.19",Ee),Ve(Me,"0.9.19","esm2017"),Ve("fire-js","")}("")},4537:(st,De,R)=>{R.d(De,{H0:()=>Me,wA:()=>x,zt:()=>se});var c=R(5861),Q=R(9058);class x{constructor(V,$,ne){this.name=V,this.instanceFactory=$,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const te="[DEFAULT]";class se{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const ne=new Q.BH;if(this.instancesDeferred.set($,ne),this.isInitialized($)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:$});Be&&ne.resolve(Be)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const ne=this.normalizeInstanceIdentifier(V?.identifier),Be=null!==($=V?.optional)&&void 0!==$&&$;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function ve(ue){return"EAGER"===ue.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[$,ne]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});ne.resolve(Ae)}catch{}}}}clearInstance(V=te){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,c.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...$.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=te){return this.instances.has(V)}getOptions(V=te){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,ne=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ne,options:$});for(const[Ae,We]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ae)&&We.resolve(Be);return Be}onInit(V,$){var ne;const Be=this.normalizeInstanceIdentifier($),Ae=null!==(ne=this.onInitCallbacks.get(Be))&&void 0!==ne?ne:new Set;Ae.add(V),this.onInitCallbacks.set(Be,Ae);const We=this.instances.get(Be);return We&&V(We,Be),()=>{Ae.delete(V)}}invokeOnInitCallbacks(V,$){const ne=this.onInitCallbacks.get($);if(ne)for(const Be of ne)try{Be(V,$)}catch{}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let ne=this.instances.get(V);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=V,ue===te?void 0:ue),options:$}),this.instances.set(V,ne),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(ne,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ne)}catch{}var ue;return ne||null}normalizeInstanceIdentifier(V=te){return this.component?this.component.multipleInstances?V:te:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new se(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(st,De,R)=>{R.d(De,{Am:()=>ue,Ub:()=>Me,Yd:()=>ve,in:()=>Q});const c=[];var Q=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(Q||{});const x={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},te=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},de=(V,$,...ne)=>{if($<V.logLevel)return;const Be=(new Date).toISOString(),Ae=se[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Be}]  ${V.name}:`,...ne)};class ve{constructor($){this.name=$,this._logLevel=te,this._logHandler=de,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in Q))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...$),this._logHandler(this,Q.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...$),this._logHandler(this,Q.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...$),this._logHandler(this,Q.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...$),this._logHandler(this,Q.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...$),this._logHandler(this,Q.ERROR,...$)}}function Me(V){c.forEach($=>{$.setLogLevel(V)})}function ue(V,$){for(const ne of c){let Be=null;$&&$.level&&(Be=x[$.level]),ne.userLogHandler=null===V?null:(Ae,We,...Pe)=>{const Ke=Pe.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");We>=(Be??Ae.logLevel)&&V({level:Q[We].toLowerCase(),message:Ke,args:Pe,type:Ae.name})}}}},1878:(st,De,R)=>{R.d(De,{X3:()=>ct});var c=R(5861);const Q=(ae,K)=>K.some(He=>ae instanceof He);let x,te;const ve=new WeakMap,Me=new WeakMap,ue=new WeakMap,V=new WeakMap,$=new WeakMap;let Ae={get(ae,K,He){if(ae instanceof IDBTransaction){if("done"===K)return Me.get(ae);if("objectStoreNames"===K)return ae.objectStoreNames||ue.get(ae);if("store"===K)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return Re(ae[K])},set:(ae,K,He)=>(ae[K]=He,!0),has:(ae,K)=>ae instanceof IDBTransaction&&("done"===K||"store"===K)||K in ae};function Ke(ae){return"function"==typeof ae?function Pe(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...K){return ae.apply(lt(this),K),Re(ve.get(this))}:function(...K){return Re(ae.apply(lt(this),K))}:function(K,...He){const ht=ae.call(lt(this),K,...He);return ue.set(ht,K.sort?K.sort():[K]),Re(ht)}}(ae):(ae instanceof IDBTransaction&&function Be(ae){if(Me.has(ae))return;const K=new Promise((He,ht)=>{const zt=()=>{ae.removeEventListener("complete",cn),ae.removeEventListener("error",sn),ae.removeEventListener("abort",sn)},cn=()=>{He(),zt()},sn=()=>{ht(ae.error||new DOMException("AbortError","AbortError")),zt()};ae.addEventListener("complete",cn),ae.addEventListener("error",sn),ae.addEventListener("abort",sn)});Me.set(ae,K)}(ae),Q(ae,function se(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ae):ae)}function Re(ae){if(ae instanceof IDBRequest)return function ne(ae){const K=new Promise((He,ht)=>{const zt=()=>{ae.removeEventListener("success",cn),ae.removeEventListener("error",sn)},cn=()=>{He(Re(ae.result)),zt()},sn=()=>{ht(ae.error),zt()};ae.addEventListener("success",cn),ae.addEventListener("error",sn)});return K.then(He=>{He instanceof IDBCursor&&ve.set(He,ae)}).catch(()=>{}),$.set(K,ae),K}(ae);if(V.has(ae))return V.get(ae);const K=Ke(ae);return K!==ae&&(V.set(ae,K),$.set(K,ae)),K}const lt=ae=>$.get(ae);function ct(ae,K,{blocked:He,upgrade:ht,blocking:zt,terminated:cn}={}){const sn=indexedDB.open(ae,K),pn=Re(sn);return ht&&sn.addEventListener("upgradeneeded",gn=>{ht(Re(sn.result),gn.oldVersion,gn.newVersion,Re(sn.transaction),gn)}),He&&sn.addEventListener("blocked",gn=>He(gn.oldVersion,gn.newVersion,gn)),pn.then(gn=>{cn&&gn.addEventListener("close",()=>cn()),zt&&gn.addEventListener("versionchange",$n=>zt($n.oldVersion,$n.newVersion,$n))}).catch(()=>{}),pn}const _e=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],we=new Map;function xe(ae,K){if(!(ae instanceof IDBDatabase)||K in ae||"string"!=typeof K)return;if(we.get(K))return we.get(K);const He=K.replace(/FromIndex$/,""),ht=K!==He,zt=re.includes(He);if(!(He in(ht?IDBIndex:IDBObjectStore).prototype)||!zt&&!_e.includes(He))return;const cn=function(){var sn=(0,c.Z)(function*(pn,...gn){const $n=this.transaction(pn,zt?"readwrite":"readonly");let le=$n.store;return ht&&(le=le.index(gn.shift())),(yield Promise.all([le[He](...gn),zt&&$n.done]))[0]});return function(gn){return sn.apply(this,arguments)}}();return we.set(K,cn),cn}!function We(ae){Ae=ae(Ae)}(ae=>({...ae,get:(K,He,ht)=>xe(K,He)||ae.get(K,He,ht),has:(K,He)=>!!xe(K,He)||ae.has(K,He)}))},5861:(st,De,R)=>{function c(x,te,se,de,ve,Me,ue){try{var V=x[Me](ue),$=V.value}catch(ne){return void se(ne)}V.done?te($):Promise.resolve($).then(de,ve)}function Q(x){return function(){var te=this,se=arguments;return new Promise(function(de,ve){var Me=x.apply(te,se);function ue($){c(Me,de,ve,ue,V,"next",$)}function V($){c(Me,de,ve,ue,V,"throw",$)}ue(void 0)})}}R.d(De,{Z:()=>Q})},7582:(st,De,R)=>{function te(le,he){var pe={};for(var be in le)Object.prototype.hasOwnProperty.call(le,be)&&he.indexOf(be)<0&&(pe[be]=le[be]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(be=Object.getOwnPropertySymbols(le);Ce<be.length;Ce++)he.indexOf(be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,be[Ce])&&(pe[be[Ce]]=le[be[Ce]])}return pe}function ne(le,he,pe,be){return new(pe||(pe=Promise))(function(Ne,Qe){function Ge(jt){try{mt(be.next(jt))}catch(ut){Qe(ut)}}function mn(jt){try{mt(be.throw(jt))}catch(ut){Qe(ut)}}function mt(jt){jt.done?Ne(jt.value):function Ce(Ne){return Ne instanceof pe?Ne:new pe(function(Qe){Qe(Ne)})}(jt.value).then(Ge,mn)}mt((be=be.apply(le,he||[])).next())})}function oe(le){return this instanceof oe?(this.v=le,this):new oe(le)}function _e(le,he,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,be=pe.apply(le,he||[]),Ne=[];return Ce={},Qe("next"),Qe("throw"),Qe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Qe(nn){be[nn]&&(Ce[nn]=function(un){return new Promise(function(In,Z){Ne.push([nn,un,In,Z])>1||Ge(nn,un)})})}function Ge(nn,un){try{!function mn(nn){nn.value instanceof oe?Promise.resolve(nn.value.v).then(mt,jt):ut(Ne[0][2],nn)}(be[nn](un))}catch(In){ut(Ne[0][3],In)}}function mt(nn){Ge("next",nn)}function jt(nn){Ge("throw",nn)}function ut(nn,un){nn(un),Ne.shift(),Ne.length&&Ge(Ne[0][0],Ne[0][1])}}function we(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,he=le[Symbol.asyncIterator];return he?he.call(le):(le=function Pe(le){var he="function"==typeof Symbol&&Symbol.iterator,pe=he&&le[he],be=0;if(pe)return pe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&be>=le.length&&(le=void 0),{value:le&&le[be++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),pe={},be("next"),be("throw"),be("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function be(Ne){pe[Ne]=le[Ne]&&function(Qe){return new Promise(function(Ge,mn){!function Ce(Ne,Qe,Ge,mn){Promise.resolve(mn).then(function(mt){Ne({value:mt,done:Ge})},Qe)}(Ge,mn,(Qe=le[Ne](Qe)).done,Qe.value)})}}}R.d(De,{FC:()=>_e,KL:()=>we,_T:()=>te,mG:()=>ne,qq:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},st=>{var De=c=>st(st.s=c);De(2614),De(854)}]);